(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l}));var r=n("uXP2"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),l=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService(u);l.resolve(c)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),l=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class c extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(l.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(l.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(l.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8Y7J":function(t,e,n){"use strict";n.d(e,"a",(function(){return de})),n.d(e,"b",(function(){return di})),n.d(e,"c",(function(){return ai})),n.d(e,"d",(function(){return si})),n.d(e,"e",(function(){return oi})),n.d(e,"f",(function(){return hs})),n.d(e,"g",(function(){return $i})),n.d(e,"h",(function(){return Zt})),n.d(e,"i",(function(){return wi})),n.d(e,"j",(function(){return De})),n.d(e,"k",(function(){return gi})),n.d(e,"l",(function(){return Fe})),n.d(e,"m",(function(){return at})),n.d(e,"n",(function(){return ni})),n.d(e,"o",(function(){return U})),n.d(e,"p",(function(){return b})),n.d(e,"q",(function(){return L})),n.d(e,"r",(function(){return re})),n.d(e,"s",(function(){return sn})),n.d(e,"t",(function(){return on})),n.d(e,"u",(function(){return pi})),n.d(e,"v",(function(){return Q})),n.d(e,"w",(function(){return Wi})),n.d(e,"x",(function(){return K})),n.d(e,"y",(function(){return Vi})),n.d(e,"z",(function(){return Si})),n.d(e,"A",(function(){return y})),n.d(e,"B",(function(){return hi})),n.d(e,"C",(function(){return ci})),n.d(e,"D",(function(){return ze})),n.d(e,"E",(function(){return qe})),n.d(e,"F",(function(){return Be})),n.d(e,"G",(function(){return $e})),n.d(e,"H",(function(){return Qt})),n.d(e,"I",(function(){return _})),n.d(e,"J",(function(){return Ji})),n.d(e,"K",(function(){return Ki})),n.d(e,"L",(function(){return cn})),n.d(e,"M",(function(){return Pi})),n.d(e,"N",(function(){return We})),n.d(e,"O",(function(){return Ge})),n.d(e,"P",(function(){return dn})),n.d(e,"Q",(function(){return Z})),n.d(e,"R",(function(){return qi})),n.d(e,"S",(function(){return St})),n.d(e,"T",(function(){return A})),n.d(e,"U",(function(){return Ot})),n.d(e,"V",(function(){return os})),n.d(e,"W",(function(){return Mi})),n.d(e,"X",(function(){return Me})),n.d(e,"Y",(function(){return fi})),n.d(e,"Z",(function(){return ee})),n.d(e,"ab",(function(){return xe})),n.d(e,"bb",(function(){return Wt})),n.d(e,"cb",(function(){return At})),n.d(e,"db",(function(){return gt})),n.d(e,"eb",(function(){return ds})),n.d(e,"fb",(function(){return li})),n.d(e,"gb",(function(){return as})),n.d(e,"hb",(function(){return ls})),n.d(e,"ib",(function(){return us})),n.d(e,"jb",(function(){return cs})),n.d(e,"kb",(function(){return Ae})),n.d(e,"lb",(function(){return ei})),n.d(e,"mb",(function(){return bt})),n.d(e,"nb",(function(){return wt})),n.d(e,"ob",(function(){return vt})),n.d(e,"pb",(function(){return yt})),n.d(e,"qb",(function(){return _t})),n.d(e,"rb",(function(){return br})),n.d(e,"sb",(function(){return Lo})),n.d(e,"tb",(function(){return jn})),n.d(e,"ub",(function(){return Ur})),n.d(e,"vb",(function(){return fs})),n.d(e,"wb",(function(){return Se})),n.d(e,"xb",(function(){return is})),n.d(e,"yb",(function(){return Ie})),n.d(e,"zb",(function(){return Te})),n.d(e,"Ab",(function(){return mt})),n.d(e,"Bb",(function(){return M})),n.d(e,"Cb",(function(){return be})),n.d(e,"Db",(function(){return _e})),n.d(e,"Eb",(function(){return ve})),n.d(e,"Fb",(function(){return cr})),n.d(e,"Gb",(function(){return ur})),n.d(e,"Hb",(function(){return Cs})),n.d(e,"Ib",(function(){return kr})),n.d(e,"Jb",(function(){return Is})),n.d(e,"Kb",(function(){return Fr})),n.d(e,"Lb",(function(){return Ss})),n.d(e,"Mb",(function(){return Vr})),n.d(e,"Nb",(function(){return ys})),n.d(e,"Ob",(function(){return Oe})),n.d(e,"Pb",(function(){return rt})),n.d(e,"Qb",(function(){return k})),n.d(e,"Rb",(function(){return ks})),n.d(e,"Sb",(function(){return kn})),n.d(e,"Tb",(function(){return pt})),n.d(e,"Ub",(function(){return js})),n.d(e,"Vb",(function(){return C})),n.d(e,"Wb",(function(){return $}));var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function l(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return l()(this)}}const d=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}const g="__parameters__";function m(t,e,n){return(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(g)?t[g]:Object.defineProperty(t,g,{value:[]})[g];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})()}const b=m("Inject",t=>({token:t})),y=m("Optional"),v=m("Self"),_=m("SkipSelf");var w=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function E(t){for(let e in t)if(t[e]===E)return e;throw Error("Could not find renamed property on target object.")}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return S(t,t[I])||S(t,t[T])}function S(t,e){return e&&e.token===t?e:null}const I=E({"\u0275prov":E}),T=E({ngInjectableDef:E});function k(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const x=E({__forward_ref__:E});function A(t){return t.__forward_ref__=A,t.toString=function(){return k(this())},t}function j(t){return"function"==typeof(e=t)&&e.hasOwnProperty(x)&&e.__forward_ref__===A?t():t;var e}const R="undefined"!=typeof globalThis&&globalThis,P="undefined"!=typeof window&&window,N="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,D="undefined"!=typeof global&&global,M=R||D||P||N;class L{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=C({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const U=new L("INJECTOR",-1),F={},V=/\n/gm,q="__source",B=E({provide:String,useValue:E});let z=void 0;function H(t){const e=z;return z=t,e}function $(t,e=w.Default){return function(t,e=w.Default){if(void 0===z)throw new Error("inject() must be called from an injection context");return null===z?function(t,e,n){const r=O(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&w.Optional)return null;throw new Error(`Injector: NOT_FOUND [${k(t)}]`)}(t,0,e):z.get(t,e&w.Optional?null:void 0,e)}(j(t),e)}class G{get(t,e=F){if(e===F){const e=new Error(`NullInjectorError: No provider for ${k(t)}!`);throw e.name="NullInjectorError",e}return e}}function W(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=k(e);if(Array.isArray(e))i=e.map(k).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):k(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(V,"\n  ")}`}class K{}class Q{}function J(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Y(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function X(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}var Z=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const tt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(M))();class et{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}let nt=void 0;function rt(t){nt=t}function it(t){return t.ngDebugContext}function st(t){return t.ngOriginalError}function ot(t,...e){t.error(...e)}class at{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ot}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?it(t)?it(t):this._findContext(st(t)):null}_findOriginalError(t){let e=st(t);for(;e&&st(e);)e=st(e);return e}}class lt{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class ut extends lt{getTypeName(){return"HTML"}}class ct extends lt{getTypeName(){return"Style"}}class ht extends lt{getTypeName(){return"Script"}}class dt extends lt{getTypeName(){return"URL"}}class ft extends lt{getTypeName(){return"ResourceURL"}}function pt(t){return t instanceof lt?t.changingThisBreaksApplicationSecurity:t}function gt(t,e){const n=mt(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function mt(t){return t instanceof lt&&t.getTypeName()||null}function bt(t){return new ut(t)}function yt(t){return new ct(t)}function vt(t){return new ht(t)}function _t(t){return new dt(t)}function wt(t){return new ft(t)}let Et=!0,Ct=!1;function Ot(){return Ct=!0,Et}function St(){if(Ct)throw new Error("Cannot enable prod mode after platform setup.");Et=!1}class It{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Tt{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const kt=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,xt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function At(t){return(t=String(t)).match(kt)||t.match(xt)?t:(Ot()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function jt(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Rt(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Pt=jt("area,br,col,hr,img,wbr"),Nt=jt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Dt=jt("rp,rt"),Mt=Rt(Dt,Nt),Lt=Rt(Pt,Rt(Nt,jt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rt(Dt,jt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mt),Ut=jt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ft=jt("srcset"),Vt=Rt(Ut,Ft,jt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),jt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qt=jt("script,style,template");class Bt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Lt.hasOwnProperty(e))return this.sanitizedSomething=!0,!qt.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!Vt.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Ut[s]&&(o=At(o)),Ft[s]&&(r=o,o=(r=String(r)).split(",").map(t=>At(t.trim())).join(", ")),this.buf.push(" ",e,'="',$t(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Lt.hasOwnProperty(e)&&!Pt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push($t(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const zt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ht=/([^\#-~ |!])/g;function $t(t){return t.replace(/&/g,"&amp;").replace(zt,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Ht,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gt;function Wt(t,e){let n=null;try{Gt=Gt||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new It:new Tt(t)}(t);let r=e?String(e):"";n=Gt.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Gt.getInertBodyElement(r)}while(r!==s);const o=new Bt,a=o.sanitizeChildren(Kt(n)||n);return Ot()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Kt(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Kt(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Qt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Jt(t){return"ng-reflect-"+t.replace(/[$@]/g,"_").replace(Yt,(...t)=>"-"+t[1].toLowerCase())}const Yt=/([A-Z])/g;function Xt(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Zt=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>te(),t})();const te=(...t)=>{},ee=new L("Set Injector scope."),ne=function(t,e,n){return new le(t,e,n)};let re=(()=>{class t{static create(t,e){return Array.isArray(t)?ne(t,e,""):ne(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=F,t.NULL=new G,t.\u0275prov=C({token:t,providedIn:"any",factory:()=>$(U)}),t.__NG_ELEMENT_ID__=-1,t})();const ie=function(t){return t},se=[],oe=ie,ae=function(){return Array.prototype.slice.call(arguments)};class le{constructor(t,e=re.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(re,{token:re,fn:ie,deps:se,value:this,useNew:!1}),r.set(U,{token:U,fn:ie,deps:se,value:this,useNew:!1}),this.scope=function t(e,n){let r=null;if(n)if(n=j(n),Array.isArray(n))for(let i=0;i<n.length;i++)r=t(e,n[i])||r;else{if("function"==typeof n)throw he("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw he("Unexpected provider",n);{let t=j(n.provide);const i=ue(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==ae)throw ce(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:ae,value:se});t=n,r.deps.push({token:t,options:6})}const s=e.get(t);if(s&&s.fn==ae)throw ce(t);t===ee&&(r=i.value),e.set(t,i)}}return r}(r,t)}get(t,e,n=w.Default){const r=this._records;let i=r.get(t);if(void 0===i){const e=O(t);if(e){const n=e&&e.providedIn;("any"===n||null!=n&&n===this.scope)&&r.set(t,i=ue({provide:t,useFactory:e.factory,deps:se}))}void 0===i&&r.set(t,null)}let s=H(this);try{return function t(e,n,r,i,s,o){try{return function(e,n,r,i,s,o){let a;if(!n||o&w.SkipSelf)a=o&w.Self?re.NULL.get(e,o&w.Optional?void 0!==s?s:null:s):i.get(e,s,w.Default);else{if(a=n.value,a==oe)throw Error("\u0275Circular dependency");if(a===se){n.value=oe;let e=void 0,s=n.useNew,o=n.fn,l=n.deps,u=se;if(l.length){u=[];for(let e=0;e<l.length;e++){const n=l[e],s=n.options,o=2&s?r.get(n.token):void 0;u.push(t(n.token,o,r,o||4&s?i:re.NULL,1&s?null:re.THROW_IF_NOT_FOUND,w.Default))}}n.value=a=s?new o(...u):o.apply(e,u)}}return a}(e,n,r,i,s,o)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),n&&n.value==oe&&(n.value=se),a}}(t,i,r,this.parent,e,n)}catch(o){return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[q]&&i.unshift(e[q]),t.message=W("\n"+t.message,i,"StaticInjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,0,this.source)}finally{H(s)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(k(n))),`StaticInjector[${t.join(", ")}]`}}function ue(t){const e=function(t){let e=se;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=j(n[t]);if(Array.isArray(i))for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof y||n==y?r|=1:n instanceof _||n==_?r&=-3:n instanceof v||n==v?r&=-5:i=n instanceof b?n.token:j(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:j(t.useExisting),options:6}];else if(!n&&!(B in t))throw he("'deps' required",t);return e}(t);let n=ie,r=se,i=!1,s=j(t.provide);if(B in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=j(t.useClass);else{if("function"!=typeof s)throw he("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=s}return{deps:e,fn:n,useNew:i,value:r}}function ce(t){return he("Cannot mix multi providers and regular providers",t)}function he(t,e){return new Error(W(t,e,"StaticInjectorError"))}const de=new L("AnalyzeForEntryComponents");let fe=null;function pe(){if(!fe){const t=M.Symbol;if(t&&t.iterator)fe=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(fe=n)}}}return fe}function ge(t,e){const n=be(t),r=be(e);if(n&&r)return function(t,e,n){const r=t[pe()](),i=e[pe()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,ge);{const i=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!s)||Object.is(t,e)}}class me{constructor(t){this.wrapped=t}static wrap(t){return new me(t)}static unwrap(t){return me.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof me}}function be(t){return!!ye(t)&&(Array.isArray(t)||!(t instanceof Map)&&pe()in t)}function ye(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ve(t){return!!t&&"function"==typeof t.then}function _e(t){return!!t&&"function"==typeof t.subscribe}const we=void 0;var Ee=["en",[["a","p"],["AM","PM"],we],[["AM","PM"],we,we],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],we,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],we,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",we,"{1} 'at' {0}",we],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ce={};function Oe(t,e,n){"string"!=typeof e&&(n=e,e=t[xe.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ce[e]=t,n&&(Ce[e][xe.ExtraData]=n)}function Se(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ke(e);if(n)return n;const r=e.split("-")[0];if(n=ke(r),n)return n;if("en"===r)return Ee;throw new Error(`Missing locale data for the locale "${t}".`)}function Ie(t){return Se(t)[xe.CurrencyCode]||null}function Te(t){return Se(t)[xe.PluralCase]}function ke(t){return t in Ce||(Ce[t]=M.ng&&M.ng.common&&M.ng.common.locales&&M.ng.common.locales[t]),Ce[t]}var xe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Ae="USD";class je{}function Re(t){const e=Error(`No component factory found for ${k(t)}. Did you add it to @NgModule.entryComponents?`);return e[Pe]=t,e}const Pe="ngComponent";class Ne{resolveComponentFactory(t){throw Re(t)}}let De=(()=>{class t{}return t.NULL=new Ne,t})();class Me{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Re(t);return new Le(e,this._ngModule)}}class Le extends je{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function Ue(...t){}let Fe=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Ve(t),t})();const Ve=Ue;class qe{}var Be=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let ze=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>He(),t})();const He=Ue;let $e=(()=>{class t{}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>null}),t})();class Ge{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const We=new Ge("10.2.3");class Ke{constructor(){}supports(t){return be(t)}create(t){return new Je(t)}}const Qe=(t,e)=>e;class Je{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Qe}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<tn(n,r,i)?e:n,o=tn(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!be(t))throw new Error(`Error trying to diff '${k(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[pe()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ye(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ze),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ze),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ye{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Xe{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ze{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Xe,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tn(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class en{constructor(){}supports(t){return t instanceof Map||ye(t)}create(){return new nn}}class nn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ye(t)))throw new Error(`Error trying to diff '${k(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new rn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class rn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let sn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>new t([new Ke])}),t})(),on=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>new t([new en])}),t})();const an=[new en],ln=new sn([new Ke]),un=new on(an);let cn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>hn(t,Fe),t})();const hn=Ue;let dn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>fn(t,Fe),t})();const fn=Ue;function pn(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return gn(n,e),n}(i,t)}function gn(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function mn(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function bn(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function yn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function vn(t,e){return t.nodes[e]}function _n(t,e){return t.nodes[e]}function wn(t,e){return t.nodes[e]}function En(t,e){return t.nodes[e]}function Cn(t,e){return t.nodes[e]}const On={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Sn=()=>{},In=new Map;function Tn(t){let e=In.get(t);return e||(e=k(t)+"_"+In.size,In.set(t,e)),e}function kn(t,e,n,r){if(me.isWrapped(r)){r=me.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,s=me.unwrap(t.oldValues[i]);t.oldValues[i]=new me(s)}return r}const xn="$$undefined",An="$$empty";function jn(t){return{id:xn,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Rn=0;function Pn(t,e,n,r){return!(!(2&t.state)&&Object.is(t.oldValues[e.bindingIndex+n],r))}function Nn(t,e,n,r){return!!Pn(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Dn(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!ge(i,r)){const s=e.bindings[n].name;throw pn(On.createDebugContext(t,e.nodeIndex),`${s}: ${i}`,`${s}: ${r}`,0!=(1&t.state))}}function Mn(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Ln(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Un(t,e,n,r){try{return Mn(33554432&t.def.nodes[e].flags?_n(t,e).componentView:t),On.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Fn(t){return t.parent?_n(t.parent,t.parentNodeDef.nodeIndex):null}function Vn(t){return t.parent?t.parentNodeDef.parent:null}function qn(t,e){switch(201347067&e.flags){case 1:return _n(t,e.nodeIndex).renderElement;case 2:return vn(t,e.nodeIndex).renderText}}function Bn(t,e){return t?`${t}:${e}`:e}function zn(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Hn(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function $n(t){return 1<<t%32}function Gn(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=$n(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Wn(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,q,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:Tn(n)}})}function Kn(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Z.Native?_n(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Qn=new WeakMap;function Jn(t){let e=Qn.get(t);return e||(e=t(()=>Sn),e.factory=t,Qn.set(t,e)),e}function Yn(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(qn(t,t.def.lastRenderRootNode))),Xn(t,e,0,t.def.nodes.length-1,n,r,i)}function Xn(t,e,n,r,i,s,o){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&tr(t,n,e,i,s,o),a+=n.childCount}}function Zn(t,e,n,r,i,s){let o=t;for(;o&&!zn(o);)o=o.parent;const a=o.parent,l=Vn(o),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&tr(a,t,n,r,i,s),c+=t.childCount}if(!a.parent){const o=t.root.projectableNodes[e];if(o)for(let e=0;e<o.length;e++)er(t,o[e],n,r,i,s)}}function tr(t,e,n,r,i,s){if(8&e.flags)Zn(t,e.ngContent.index,n,r,i,s);else{const o=qn(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&er(t,o,n,r,i,s),32&e.bindingFlags&&er(_n(t,e.nodeIndex).componentView,o,n,r,i,s)):er(t,o,n,r,i,s),16777216&e.flags){const o=_n(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<o.length;t++)Yn(o[t],n,r,i,s)}1&e.flags&&!e.element.name&&Xn(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,s)}}function er(t,e,n,r,i,s){const o=t.renderer;switch(n){case 1:o.appendChild(r,e);break;case 2:o.insertBefore(r,e,i);break;case 3:o.removeChild(r,e);break;case 0:s.push(e)}}const nr=/^:([^:]+):(.+)$/;function rr(t){if(":"===t[0]){const e=t.match(nr);return[e[1],e[2]]}return["",t]}function ir(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}const sr={},or=Tn(re),ar=Tn(U),lr=Tn(K);function ur(t,e,n,r){return n=j(n),{index:-1,deps:Wn(r,k(e)),flags:t,token:e,value:n}}function cr(t){const e={},n=[];let r=null;for(let i=0;i<t.length;i++){const s=t[i];s.token===ee&&(r=s.value),1073741824&s.flags&&n.push(s.token),s.index=i,e[Tn(s.token)]=s}return{factory:null,providersByKey:e,providers:t,modules:n,scope:r}}function hr(t,e,n=re.THROW_IF_NOT_FOUND){const r=H(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const i=e.tokenKey;switch(i){case or:case ar:case lr:return t}const s=t._def.providersByKey[i];let o;if(s){let e=t._providers[s.index];return void 0===e&&(e=t._providers[s.index]=dr(t,s)),e===sr?void 0:e}if((o=O(e.token))&&function(t,e){const n=e.providedIn;return null!=n&&("any"===n||n===t._def.scope||function(t,e){return t._def.modules.indexOf(e)>-1}(t,n))}(t,o)){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:o.factory,deps:[],index:n,token:e.token},t._providers[n]=sr,t._providers[n]=dr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{H(r)}}function dr(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(hr(t,n[0]));case 2:return new e(hr(t,n[0]),hr(t,n[1]));case 3:return new e(hr(t,n[0]),hr(t,n[1]),hr(t,n[2]));default:const i=[];for(let e=0;e<r;e++)i[e]=hr(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(hr(t,n[0]));case 2:return e(hr(t,n[0]),hr(t,n[1]));case 3:return e(hr(t,n[0]),hr(t,n[1]),hr(t,n[2]));default:const i=[];for(let e=0;e<r;e++)i[e]=hr(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=hr(t,e.deps[0]);break;case 256:n=e.value}return n===sr||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?sr:n}function fr(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,Y(n,e),On.dirtyParentQueries(r),gr(r),r}function pr(t,e,n){const r=e?qn(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),s=n.renderer.nextSibling(r);Yn(n,2,i,s,void 0)}function gr(t){Yn(t,3,null,null,void 0)}const mr={};function br(t,e,n,r,i,s){return new yr(t,e,n,r,i,s)}class yr extends je{constructor(t,e,n,r,i,s){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=Jn(this.viewDefFactory),s=i.nodes[0].element.componentProvider.nodeIndex,o=On.createRootView(t,e||[],n,i,r,mr),a=wn(o,s).instance;return n&&o.renderer.setAttribute(_n(o,0).renderElement,"ng-version",We.full),new vr(o,new Cr(o),a)}}class vr extends class{}{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Fe(_n(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Tr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function _r(t,e,n){return new wr(t,e,n)}class wr{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Fe(this._data.renderElement)}get injector(){return new Tr(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=Vn(t),t=t.parent;return t?new Tr(t,e):new Tr(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=fr(this._data,t);On.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Cr(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;i||t instanceof Le||(i=s.get(K));const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,J(i,n,r),function(t,e){const n=Fn(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),On.dirtyParentQueries(r),pr(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const r=t.viewContainer._embeddedViews,i=r[e];Y(r,e),null==n&&(n=r.length),J(r,n,i),On.dirtyParentQueries(i),gr(i),pr(t,n>0?r[n-1]:null,i)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=fr(this._data,t);e&&On.destroyView(e)}detach(t){const e=fr(this._data,t);return e?new Cr(e):null}}function Er(t){return new Cr(t)}class Cr{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Yn(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Mn(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{On.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){On.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),On.destroyView(this._view)}detachFromAppRef(){this._appRef=null,gr(this._view),On.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Or(t,e){return new Sr(t,e)}class Sr extends cn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Cr(On.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Fe(_n(this._parentView,this._def.nodeIndex).renderElement)}}function Ir(t,e){return new Tr(t,e)}class Tr{constructor(t,e){this.view=t,this.elDef=e}get(t,e=re.THROW_IF_NOT_FOUND){return On.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Tn(t)},e)}}function kr(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=_n(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return vn(t,n.nodeIndex).renderText;if(20240&n.flags)return wn(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function xr(t,e,n,r){return new Ar(t,e,n,r)}class Ar{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=X(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=dr(t,i))}}(this)}get(t,e=re.THROW_IF_NOT_FOUND,n=w.Default){let r=0;return n&w.SkipSelf?r|=1:n&w.Self&&(r|=4),hr(this,{token:t,tokenKey:Tn(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(De)}destroy(){if(this._destroyed)throw new Error(`The ng module ${k(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==sr){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const jr=Tn(ze),Rr=Tn(Fe),Pr=Tn(dn),Nr=Tn(cn),Dr=Tn(Zt),Mr=Tn(re),Lr=Tn(U);function Ur(t,e,n,r,i,s,o,a){const l=[];if(o)for(let c in o){const[t,e]=o[c];l[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return qr(t,e|=16384,n,r,i,i,s,l,u)}function Fr(t,e,n){return qr(-1,t|=16,null,0,e,e,n)}function Vr(t,e,n,r,i){return qr(-1,t,e,0,n,r,i)}function qr(t,e,n,r,i,s,o,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=Gn(n);l||(l=[]),a||(a=[]),s=j(s);const d=Wn(o,k(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:ir(a),outputs:l,element:null,provider:{token:i,value:s,deps:d},text:null,query:null,ngContent:null}}function Br(t,e){return Gr(t,e)}function zr(t,e){let n=t;for(;n.parent&&!zn(n);)n=n.parent;return Wr(n.parent,Vn(n),!0,e.provider.value,e.provider.deps)}function Hr(t,e){const n=Wr(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],s=n[i.propName];if(!_e(s))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=s.subscribe($r(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function $r(t,e,n){return r=>Un(t,e,n,r)}function Gr(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Wr(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const s=i.length;switch(s){case 0:return r();case 1:return r(Qr(t,e,n,i[0]));case 2:return r(Qr(t,e,n,i[0]),Qr(t,e,n,i[1]));case 3:return r(Qr(t,e,n,i[0]),Qr(t,e,n,i[1]),Qr(t,e,n,i[2]));default:const o=[];for(let r=0;r<s;r++)o.push(Qr(t,e,n,i[r]));return r(...o)}}(t,e.parent,n,r.value,r.deps);case 2048:return Qr(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Wr(t,e,n,r,i){const s=i.length;switch(s){case 0:return new r;case 1:return new r(Qr(t,e,n,i[0]));case 2:return new r(Qr(t,e,n,i[0]),Qr(t,e,n,i[1]));case 3:return new r(Qr(t,e,n,i[0]),Qr(t,e,n,i[1]),Qr(t,e,n,i[2]));default:const o=[];for(let r=0;r<s;r++)o.push(Qr(t,e,n,i[r]));return new r(...o)}}const Kr={};function Qr(t,e,n,r,i=re.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const s=t;2&r.flags&&(i=null);const o=r.tokenKey;o===Dr&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(o){case jr:return Jr(a,e,n).renderer;case Rr:return new Fe(_n(a,e.nodeIndex).renderElement);case Pr:return _n(a,e.nodeIndex).viewContainer;case Nr:if(e.element.template)return _n(a,e.nodeIndex).template;break;case Dr:return Er(Jr(a,e,n));case Mr:case Lr:return Ir(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[o];if(t){let e=wn(a,t.nodeIndex);return e||(e={instance:Gr(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=zn(a),e=Vn(a),a=a.parent,4&r.flags&&(a=null)}const l=s.root.injector.get(r.token,Kr);return l!==Kr||i===Kr?l:s.root.ngModule.injector.get(r.token,i)}function Jr(t,e,n){let r;if(n)r=_n(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!zn(r);)r=r.parent;return r}function Yr(t,e,n,r,i,s){if(32768&n.flags){const e=_n(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){s=s||{};const e=me.unwrap(t.oldValues[n.bindingIndex+r]);s[n.bindings[r].nonMinifiedName]=new et(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,s}function Xr(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const s=n[i];let o=s.parent;for(!o&&s.flags&e&&ti(t,i,s.flags&e,r++),0==(s.childFlags&e)&&(i+=s.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(r=Zr(t,o,e,r)),o=o.parent}}function Zr(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&ti(t,i,e.flags&n,r++),i+=e.childCount}return r}function ti(t,e,n,r){const i=wn(t,e);if(!i)return;const s=i.instance;s&&(On.setCurrentNode(t,e),1048576&n&&yn(t,512,r)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&yn(t,768,r)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}const ei=new L("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>tt}),ni=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function ri(){return this._results[pe()]()}class ii{constructor(){this.dirty=!0,this._results=[],this.changes=new ni,this.length=0;const t=pe(),e=ii.prototype;e[t]||(e[t]=ri)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const si=new L("Application Initializer");class oi{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ve(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const ai=new L("AppId");function li(){return`${ui()}${ui()}${ui()}`}function ui(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ci=new L("Platform Initializer"),hi=new L("Platform ID"),di=new L("appBootstrapListener");class fi{log(t){console.log(t)}warn(t){console.warn(t)}}const pi=new L("LocaleId"),gi=new L("DefaultCurrencyCode");function mi(){throw new Error("Runtime compiler is not loaded")}const bi=mi,yi=mi,vi=mi,_i=mi;class wi{constructor(){this.compileModuleSync=bi,this.compileModuleAsync=yi,this.compileModuleAndAllComponentsSync=vi,this.compileModuleAndAllComponentsAsync=_i}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class Ei{}const Ci=(()=>Promise.resolve(0))();function Oi(t){"undefined"==typeof Zone?Ci.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Si{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ni(!1),this.onMicrotaskEmpty=new ni(!1),this.onStable=new ni(!1),this.onError=new ni(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=M.requestAnimationFrame,e=M.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(M,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,xi(t),ki(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),xi(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Ai(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),ji(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Ai(t),e.invoke(r,i,s,o,a)}finally{ji(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,xi(t),ki(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Si.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Si.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Ti,Ii,Ii);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Ii(){}const Ti={};function ki(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xi(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ai(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ji(t){t._nesting--,ki(t)}class Ri{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ni,this.onMicrotaskEmpty=new ni,this.onStable=new ni,this.onError=new ni}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}class Pi{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Si.assertNotInAngularZone(),Oi(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Oi(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class Ni{constructor(){this._applications=new Map,Ui.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ui.findTestabilityInTree(this,t,e)}}class Di{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Mi(t){Ui=t}let Li,Ui=new Di;const Fi=new L("AllowMultipleToken");class Vi{constructor(t,e){this.name=t,this.token=e}}function qi(t,e,n=[]){const r="Platform: "+e,i=new L(r);return(e=[])=>{let s=Bi();if(!s||s.injector.get(Fi,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ee,useValue:"platform"});!function(t){if(Li&&!Li.destroyed&&!Li.injector.get(Fi,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Li=t.get(zi);const e=t.get(ci,null);e&&e.forEach(t=>t())}(re.create({providers:t,name:r}))}return function(t){const e=Bi();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Bi(){return Li&&!Li.destroyed?Li:null}class zi{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ri:("zone.js"===t?void 0:t)||new Si({enableLongStackTrace:Ot(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Si,useValue:n}];return n.run(()=>{const e=re.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(at,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Gi(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return ve(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(oi);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Hi({},e);return function(t,e,n){return t.get(Ei).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get($i);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${k(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function Hi(t,e){return Array.isArray(e)?e.reduce(Hi,t):Object.assign(Object.assign({},t),e)}class $i{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ot(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Si.assertNotInAngularZone(),Oi(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Si.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,c.pipe(t=>{return l()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof je?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n instanceof Le?void 0:this._injector.get(K),i=n.create(re.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Pi,null);return s&&i.injector.get(Ni).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Ot()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Gi(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(di,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Gi(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}function Gi(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Wi{}class Ki{}const Qi={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Ji{constructor(t,e){this._compiler=t,this._config=e||Qi}load(t){return this._compiler instanceof wi?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Yi(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Yi(t,e,r))}}function Yi(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Xi{constructor(t,e){this.name=t,this.callback=e}}class Zi{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof ts&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class ts extends Zi{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof ts&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof ts&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof ts&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof ts)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const es=new Map;function ns(t){return es.get(t)||null}const rs=ns,is=function(t){return ns(t)};function ss(t){es.set(t.nativeNode,t)}const os=qi(null,"core",[{provide:hi,useValue:"unknown"},{provide:zi,deps:[re]},{provide:Ni,deps:[]},{provide:fi,deps:[]}]);function as(){return ln}function ls(){return un}function us(t){return t||"en-US"}function cs(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class hs{constructor(t){}}function ds(t,e,n,r,i,s){t|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=Gn(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?Jn(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Sn},provider:null,text:null,query:null,ngContent:null}}function fs(t,e,n,r,i,s,o=[],a,l,u,c,h){u||(u=Sn);const{matchedQueries:d,references:f,matchedQueryIds:p}=Gn(n);let g=null,m=null;s&&([g,m]=rr(s)),a=a||[];const b=[];for(let _=0;_<a.length;_++){const[t,e,n]=a[_],[r,i]=rr(e);let s=void 0,o=void 0;switch(15&t){case 4:o=n;break;case 1:case 8:s=n}b[_]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:s,suffix:o}}l=l||[];const y=[];for(let _=0;_<l.length;_++){const[t,e]=l[_];y[_]={type:0,target:t,eventName:e,propName:null}}const v=(o=o||[]).map(([t,e])=>{const[n,r]=rr(t);return[n,r,e]});return h=function(t){if(t&&t.id===xn){const e=null!=t.encapsulation&&t.encapsulation!==Z.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Rn++:An}return t&&t.id===An&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:b,bindingFlags:ir(b),outputs:y,element:{ns:g,name:m,attrs:v,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Sn},provider:null,text:null,query:null,ngContent:null}}function ps(t,e,n){const r=n.element,i=t.root.selectorOrNode,s=t.renderer;let o;if(t.parent||!i){o=r.name?s.createElement(r.name,r.ns):s.createComment("");const i=Kn(t,e,n);i&&s.appendChild(i,o)}else o=s.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Z.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];s.setAttribute(o,e,n,t)}return o}function gs(t,e,n,r){for(let i=0;i<n.outputs.length;i++){const s=n.outputs[i],o=ms(t,n.nodeIndex,Bn(s.target,s.eventName));let a=s.target,l=t;"component"===s.target&&(a=null,l=e);const u=l.renderer.listen(a||r,s.eventName,o);t.disposables[n.outputIndex+i]=u}}function ms(t,e,n){return r=>Un(t,e,n,r)}function bs(t,e,n,r){if(!Nn(t,e,n,r))return!1;const i=e.bindings[n],s=_n(t,e.nodeIndex),o=s.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,s){const o=e.securityContext;let a=o?t.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const l=t.renderer;null!=s?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(t,i,o,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,o,a,r);break;case 4:!function(t,e,n,r,i){let s=t.root.sanitizer.sanitize(Qt.STYLE,i);if(null!=s){s=s.toString();const t=e.suffix;null!=t&&(s+=t)}else s=null;const o=t.renderer;null!=s?o.setStyle(n,r,s):o.removeStyle(n,r)}(t,i,o,a,r);break;case 8:!function(t,e,n,r,i){const s=e.securityContext;let o=s?t.root.sanitizer.sanitize(s,i):i;t.renderer.setProperty(n,r,o)}(33554432&e.flags&&32&i.flags?s.componentView:t,i,o,a,r)}return!0}function ys(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:$n(e),bindings:r},ngContent:null}}function vs(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&Hn(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&Cn(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Cn(t,n).setDirty(),n+=e.childCount}}function _s(t,e){const n=Cn(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=ws(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=wn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=ws(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const s=e.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const t=s[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,o=!0}r[t.propName]=e}o&&n.notifyOnChanges()}function ws(t,e,n,r,i){for(let s=e;s<=n;s++){const e=t.def.nodes[s],n=e.matchedQueries[r.id];if(null!=n&&i.push(Es(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=_n(t,s);if((e.childMatchedQueries&r.filterId)===r.filterId&&(ws(t,s+1,s+e.childCount,r,i),s+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const s=t[e],o=Fn(s);o&&o===n&&ws(s,0,s.def.nodes.length-1,r,i)}}const o=n.template._projectedViews;if(o)for(let t=0;t<o.length;t++){const e=o[t];ws(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(s+=e.childCount)}return i}function Es(t,e,n){if(null!=n)switch(n){case 1:return _n(t,e.nodeIndex).renderElement;case 0:return new Fe(_n(t,e.nodeIndex).renderElement);case 2:return _n(t,e.nodeIndex).template;case 3:return _n(t,e.nodeIndex).viewContainer;case 4:return wn(t,e.nodeIndex).instance}}function Cs(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Os(t,e,n){const r=Kn(t,e,n);r&&Zn(t,n.ngContent.index,1,r,null,void 0)}function Ss(t,e){return Ts(128,t,X(e+1))}function Is(t,e){return Ts(32,t,X(e))}function Ts(t,e,n){const r=[];for(let i=0;i<n.length;i++){const t=n[i];r.push({flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:ir(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function ks(t,e,n){const r=[];for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function xs(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const s=Kn(t,e,n);return s&&i.appendChild(s,r),{renderText:r}}function As(t,e){return(null!=t?t.toString():"")+e.suffix}function js(t,e,n,r){let i=0,s=0,o=0,a=0,l=0,u=null,c=null,h=!1,d=!1,f=null;for(let p=0;p<e.length;p++){const t=e[p];if(t.nodeIndex=p,t.parent=u,t.bindingIndex=i,t.outputIndex=s,t.renderParent=c,o|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(Ps(u,t,e.length),i+=t.bindings.length,s+=t.outputs.length,!c&&3&t.flags&&(f=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[Tn(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Tn(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)u=t,Rs(t)||(c=t);else for(;u&&p===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),u=t,c=u&&Rs(u)?u.renderParent:u}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||Sn,updateRenderer:r||Sn,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:s,lastRenderRootNode:f}}function Rs(t){return 0!=(1&t.flags)&&null===t.element.name}function Ps(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function Ns(t,e,n,r){const i=Ls(t.root,t.renderer,t,e,n);return Us(i,t.component,r),Fs(i),i}function Ds(t,e,n){const r=Ls(t,t.renderer,null,null,e);return Us(r,n,n),Fs(r),r}function Ms(t,e,n,r){const i=e.element.componentRendererType;let s;return s=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Ls(t.root,s,t,e.element.componentProvider,n)}function Ls(t,e,n,r,i){const s=new Array(i.nodes.length),o=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:s,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:o,initIndex:-1}}function Us(t,e,n){t.component=e,t.context=n}function Fs(t){let e;zn(t)&&(e=_n(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const s=n.nodes[i];let o;switch(On.setCurrentNode(t,i),201347067&s.flags){case 1:const n=ps(t,e,s);let a=void 0;if(33554432&s.flags){const e=Jn(s.element.componentView);a=On.createComponentView(t,s,e,n)}gs(t,a,s,n),o={renderElement:n,componentView:a,viewContainer:null,template:s.element.template?Or(t,s):void 0},16777216&s.flags&&(o.viewContainer=_r(t,s,o));break;case 2:o=xs(t,e,s);break;case 512:case 1024:case 2048:case 256:o=r[i],o||4096&s.flags||(o={instance:Br(t,s)});break;case 16:o={instance:zr(t,s)};break;case 16384:o=r[i],o||(o={instance:Hr(t,s)}),32768&s.flags&&Us(_n(t,s.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new ii;break;case 8:Os(t,e,s),o=void 0}r[i]=o}Ks(t,Ws.CreateViewNodes),Xs(t,201326592,268435456,0)}function Vs(t){zs(t),On.updateDirectives(t,1),Qs(t,Ws.CheckNoChanges),On.updateRenderer(t,1),Ks(t,Ws.CheckNoChanges),t.state&=-97}function qs(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,bn(t,0,256),zs(t),On.updateDirectives(t,0),Qs(t,Ws.CheckAndUpdate),Xs(t,67108864,536870912,0);let e=bn(t,256,512);Xr(t,2097152|(e?1048576:0)),On.updateRenderer(t,0),Ks(t,Ws.CheckAndUpdate),Xs(t,134217728,536870912,0),e=bn(t,512,768),Xr(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,bn(t,768,1024)}function Bs(t,e,n,r,i,s,o,a,l,u,c,h,d){return 0===n?function(t,e,n,r,i,s,o,a,l,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,s,o,a,l,u,c,h){const d=e.bindings.length;let f=!1;return d>0&&bs(t,e,0,n)&&(f=!0),d>1&&bs(t,e,1,r)&&(f=!0),d>2&&bs(t,e,2,i)&&(f=!0),d>3&&bs(t,e,3,s)&&(f=!0),d>4&&bs(t,e,4,o)&&(f=!0),d>5&&bs(t,e,5,a)&&(f=!0),d>6&&bs(t,e,6,l)&&(f=!0),d>7&&bs(t,e,7,u)&&(f=!0),d>8&&bs(t,e,8,c)&&(f=!0),d>9&&bs(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,s,o,a,l,u,c,h);case 2:return function(t,e,n,r,i,s,o,a,l,u,c,h){let d=!1;const f=e.bindings,p=f.length;if(p>0&&Nn(t,e,0,n)&&(d=!0),p>1&&Nn(t,e,1,r)&&(d=!0),p>2&&Nn(t,e,2,i)&&(d=!0),p>3&&Nn(t,e,3,s)&&(d=!0),p>4&&Nn(t,e,4,o)&&(d=!0),p>5&&Nn(t,e,5,a)&&(d=!0),p>6&&Nn(t,e,6,l)&&(d=!0),p>7&&Nn(t,e,7,u)&&(d=!0),p>8&&Nn(t,e,8,c)&&(d=!0),p>9&&Nn(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;p>0&&(d+=As(n,f[0])),p>1&&(d+=As(r,f[1])),p>2&&(d+=As(i,f[2])),p>3&&(d+=As(s,f[3])),p>4&&(d+=As(o,f[4])),p>5&&(d+=As(a,f[5])),p>6&&(d+=As(l,f[6])),p>7&&(d+=As(u,f[7])),p>8&&(d+=As(c,f[8])),p>9&&(d+=As(h,f[9]));const g=vn(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,r,i,s,o,a,l,u,c,h);case 16384:return function(t,e,n,r,i,s,o,a,l,u,c,h){const d=wn(t,e.nodeIndex),f=d.instance;let p=!1,g=void 0;const m=e.bindings.length;return m>0&&Pn(t,e,0,n)&&(p=!0,g=Yr(t,d,e,0,n,g)),m>1&&Pn(t,e,1,r)&&(p=!0,g=Yr(t,d,e,1,r,g)),m>2&&Pn(t,e,2,i)&&(p=!0,g=Yr(t,d,e,2,i,g)),m>3&&Pn(t,e,3,s)&&(p=!0,g=Yr(t,d,e,3,s,g)),m>4&&Pn(t,e,4,o)&&(p=!0,g=Yr(t,d,e,4,o,g)),m>5&&Pn(t,e,5,a)&&(p=!0,g=Yr(t,d,e,5,a,g)),m>6&&Pn(t,e,6,l)&&(p=!0,g=Yr(t,d,e,6,l,g)),m>7&&Pn(t,e,7,u)&&(p=!0,g=Yr(t,d,e,7,u,g)),m>8&&Pn(t,e,8,c)&&(p=!0,g=Yr(t,d,e,8,c,g)),m>9&&Pn(t,e,9,h)&&(p=!0,g=Yr(t,d,e,9,h,g)),g&&f.ngOnChanges(g),65536&e.flags&&yn(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),p}(t,e,n,r,i,s,o,a,l,u,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,s,o,a,l,u,c,h){const d=e.bindings;let f=!1;const p=d.length;if(p>0&&Nn(t,e,0,n)&&(f=!0),p>1&&Nn(t,e,1,r)&&(f=!0),p>2&&Nn(t,e,2,i)&&(f=!0),p>3&&Nn(t,e,3,s)&&(f=!0),p>4&&Nn(t,e,4,o)&&(f=!0),p>5&&Nn(t,e,5,a)&&(f=!0),p>6&&Nn(t,e,6,l)&&(f=!0),p>7&&Nn(t,e,7,u)&&(f=!0),p>8&&Nn(t,e,8,c)&&(f=!0),p>9&&Nn(t,e,9,h)&&(f=!0),f){const f=En(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=[],p>0&&g.push(n),p>1&&g.push(r),p>2&&g.push(i),p>3&&g.push(s),p>4&&g.push(o),p>5&&g.push(a),p>6&&g.push(l),p>7&&g.push(u),p>8&&g.push(c),p>9&&g.push(h);break;case 64:g={},p>0&&(g[d[0].name]=n),p>1&&(g[d[1].name]=r),p>2&&(g[d[2].name]=i),p>3&&(g[d[3].name]=s),p>4&&(g[d[4].name]=o),p>5&&(g[d[5].name]=a),p>6&&(g[d[6].name]=l),p>7&&(g[d[7].name]=u),p>8&&(g[d[8].name]=c),p>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(p){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,s);break;case 5:g=t.transform(r,i,s,o);break;case 6:g=t.transform(r,i,s,o,a);break;case 7:g=t.transform(r,i,s,o,a,l);break;case 8:g=t.transform(r,i,s,o,a,l,u);break;case 9:g=t.transform(r,i,s,o,a,l,u,c);break;case 10:g=t.transform(r,i,s,o,a,l,u,c,h)}}f.value=g}return f}(t,e,n,r,i,s,o,a,l,u,c,h);default:throw"unreachable"}}(t,e,r,i,s,o,a,l,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)bs(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)Nn(t,e,s,n[s])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=As(n[t],r[t]);i=e.text.prefix+i;const s=vn(t,e.nodeIndex).renderText;t.renderer.setValue(s,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=wn(t,e.nodeIndex),i=r.instance;let s=!1,o=void 0;for(let a=0;a<n.length;a++)Pn(t,e,a,n[a])&&(s=!0,o=Yr(t,r,e,a,n[a],o));return o&&i.ngOnChanges(o),65536&e.flags&&yn(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),s}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let s=0;s<n.length;s++)Nn(t,e,s,n[s])&&(i=!0);if(i){const i=En(t,e.nodeIndex);let s;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(let i=0;i<n.length;i++)s[r[i].name]=n[i];break;case 128:const t=n[0],e=n.slice(1);s=t.transform(...e)}i.value=s}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function zs(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=_n(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,Ln(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Hs(t,e,n,r,i,s,o,a,l,u,c,h,d){return 0===n?function(t,e,n,r,i,s,o,a,l,u,c,h){const d=e.bindings.length;d>0&&Dn(t,e,0,n),d>1&&Dn(t,e,1,r),d>2&&Dn(t,e,2,i),d>3&&Dn(t,e,3,s),d>4&&Dn(t,e,4,o),d>5&&Dn(t,e,5,a),d>6&&Dn(t,e,6,l),d>7&&Dn(t,e,7,u),d>8&&Dn(t,e,8,c),d>9&&Dn(t,e,9,h)}(t,e,r,i,s,o,a,l,u,c,h,d):function(t,e,n){for(let r=0;r<n.length;r++)Dn(t,e,r,n[r])}(t,e,r),!1}function $s(t,e){if(Cn(t,e.nodeIndex).dirty)throw pn(On.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function Gs(t){if(!(128&t.state)){if(Qs(t,Ws.Destroy),Ks(t,Ws.Destroy),Xr(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Fn(t);if(e){const n=e.template._projectedViews;n&&(Y(n,n.indexOf(t)),On.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(_n(t,n).renderElement):2&e.flags?t.renderer.destroyNode(vn(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Cn(t,n).destroy()}}(t),zn(t)&&t.renderer.destroy(),t.state|=128}}var Ws=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function Ks(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Js(_n(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Qs(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=_n(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)Js(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Js(t,e){const n=t.state;switch(e){case Ws.CheckNoChanges:0==(128&n)&&(12==(12&n)?Vs(t):64&n&&Ys(t,Ws.CheckNoChangesProjectedViews));break;case Ws.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Vs(t):64&n&&Ys(t,e));break;case Ws.CheckAndUpdate:0==(128&n)&&(12==(12&n)?qs(t):64&n&&Ys(t,Ws.CheckAndUpdateProjectedViews));break;case Ws.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?qs(t):64&n&&Ys(t,e));break;case Ws.Destroy:Gs(t);break;case Ws.CreateViewNodes:Fs(t)}}function Ys(t,e){Qs(t,e),Ks(t,e)}function Xs(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let s=0;s<i;s++){const i=t.def.nodes[s];if(i.flags&e&&i.flags&n)switch(On.setCurrentNode(t,i.nodeIndex),r){case 0:_s(t,i);break;case 1:$s(t,i)}i.childFlags&e&&i.childFlags&n||(s+=i.childCount)}}let Zs=!1;function to(t,e,n,r,i,s){const o=i.injector.get(qe);return Ds(no(t,i,o,e,n),r,s)}function eo(t,e,n,r,i,s){const o=i.injector.get(qe),a=no(t,i,new Do(o),e,n),l=fo(r);return Po(vo.create,Ds,null,[a,l,s])}function no(t,e,n,r,i){const s=e.injector.get($e),o=e.injector.get(at),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:s,rendererFactory:n,renderer:a,errorHandler:o}}function ro(t,e,n,r){const i=fo(n);return Po(vo.create,Ns,null,[t,e,i,r])}function io(t,e,n,r){return n=lo.get(e.element.componentProvider.provider.token)||fo(n),Po(vo.create,Ms,null,[t,e,n,r])}function so(t,e,n,r){return xr(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===oo.size||(t.providers.forEach(t=>{const r=oo.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{ao.forEach((r,i)=>{O(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:e,hasDeprecatedOverrides:n}}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=oo.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Wn(i.deps),r.value=i.value)}if(ao.size>0){let e=new Set(t.modules);ao.forEach((r,i)=>{if(e.has(O(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:Wn(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[Tn(i)]=e}})}}(t=t.factory(()=>Sn)),t):t}(r))}const oo=new Map,ao=new Map,lo=new Map;function uo(t){let e;oo.set(t.token,t),"function"==typeof t.token&&(e=O(t.token))&&"function"==typeof e.providedIn&&ao.set(t.token,t)}function co(t,e){const n=Jn(e.viewDefFactory),r=Jn(n.nodes[0].element.componentView);lo.set(t,r)}function ho(){oo.clear(),ao.clear(),lo.clear()}function fo(t){if(0===oo.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&oo.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Sn);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=oo.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=Wn(n.deps),t.value=n.value)}}}}function po(t,e,n,r,i,s,o,a,l,u,c,h,d){const f=t.def.nodes[e];return Bs(t,f,n,r,i,s,o,a,l,u,c,h,d),224&f.flags?En(t,e).value:void 0}function go(t,e,n,r,i,s,o,a,l,u,c,h,d){const f=t.def.nodes[e];return Hs(t,f,n,r,i,s,o,a,l,u,c,h,d),224&f.flags?En(t,e).value:void 0}function mo(t){return Po(vo.detectChanges,qs,null,[t])}function bo(t){return Po(vo.checkNoChanges,Vs,null,[t])}function yo(t){return Po(vo.destroy,Gs,null,[t])}var vo=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});let _o,wo,Eo;function Co(t,e){wo=t,Eo=e}function Oo(t,e,n,r){return Co(t,e),Po(vo.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function So(t,e){if(128&t.state)throw mn(vo[_o]);return Co(t,xo(t,0)),t.def.updateDirectives((function(t,n,r,...i){const s=t.def.nodes[n];return 0===e?To(t,s,r,i):ko(t,s,r,i),16384&s.flags&&Co(t,xo(t,n)),224&s.flags?En(t,s.nodeIndex).value:void 0}),t)}function Io(t,e){if(128&t.state)throw mn(vo[_o]);return Co(t,Ao(t,0)),t.def.updateRenderer((function(t,n,r,...i){const s=t.def.nodes[n];return 0===e?To(t,s,r,i):ko(t,s,r,i),3&s.flags&&Co(t,Ao(t,n)),224&s.flags?En(t,s.nodeIndex).value:void 0}),t)}function To(t,e,n,r){if(Bs(t,e,n,...r)){const i=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],s=i[t];8&r.flags&&(n[Jt(r.nonMinifiedName)]=Xt(s))}const r=e.parent,s=_n(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(s,e,r):t.renderer.removeAttribute(s,e)}else t.renderer.setValue(s,"bindings="+JSON.stringify(n,null,2))}}}function ko(t,e,n,r){Hs(t,e,n,...r)}function xo(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Ao(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class jo{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Vn(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return _n(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Ir(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Ro(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Ro(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!zn(t);)t=t.parent;return t.parent?_n(t.parent,Vn(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?qn(this.view,this.nodeDef):qn(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let s=-1;n.factory(()=>(s++,s===i?t.error.bind(t,...e):Sn)),s<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Ro(t,e,n){for(let r in e.references)n[r]=Es(t,e,e.references[r])}function Po(t,e,n,r){const i=_o,s=wo,o=Eo;try{_o=t;const a=e.apply(n,r);return wo=s,Eo=o,_o=i,a}catch(u){if(it(u)||!wo)throw u;throw a=u,l=No(),a instanceof Error||(a=new Error(a.toString())),gn(a,l),a}var a,l}function No(){return wo?new jo(wo,Eo):null}class Do{constructor(t){this.delegate=t}createRenderer(t,e){return new Mo(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Mo{constructor(t){this.delegate=t,this.debugContextFactory=No,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=rs(t);!function(t){es.delete(t.nativeNode)}(e),e instanceof Zi&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new ts(n,null,r);e.name=t,ss(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&ss(new Zi(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&ss(new Zi(e,null,n)),e}appendChild(t,e){const n=rs(t),r=rs(e);n&&r&&n instanceof ts&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=rs(t),i=rs(e),s=rs(n);r&&i&&r instanceof ts&&r.insertBefore(s,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=rs(t),r=rs(e);n&&r&&n instanceof ts&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=No();return r&&ss(new ts(n,null,r)),n}setAttribute(t,e,n,r){const i=rs(t);i&&i instanceof ts&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=rs(t);r&&r instanceof ts&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=rs(t);n&&n instanceof ts&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=rs(t);n&&n instanceof ts&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=rs(t);i&&i instanceof ts&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=rs(t);r&&r instanceof ts&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=rs(t);r&&r instanceof ts&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=rs(t);r&&r.listeners.push(new Xi(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Lo(t,e,n){return new Uo(t,e,n)}class Uo extends Q{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(Zs)return;Zs=!0;const t=Ot()?{setCurrentNode:Co,createRootView:eo,createEmbeddedView:ro,createComponentView:io,createNgModuleRef:so,overrideProvider:uo,overrideComponentView:co,clearOverrides:ho,checkAndUpdateView:mo,checkNoChangesView:bo,destroyView:yo,createDebugContext:(t,e)=>new jo(t,e),handleEvent:Oo,updateDirectives:So,updateRenderer:Io}:{setCurrentNode:()=>{},createRootView:to,createEmbeddedView:Ns,createComponentView:Ms,createNgModuleRef:xr,overrideProvider:Sn,overrideComponentView:Sn,clearOverrides:Sn,checkAndUpdateView:qs,checkNoChangesView:Vs,destroyView:Gs,createDebugContext:(t,e)=>new jo(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?po:go,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?po:go,t)};On.setCurrentNode=t.setCurrentNode,On.createRootView=t.createRootView,On.createEmbeddedView=t.createEmbeddedView,On.createComponentView=t.createComponentView,On.createNgModuleRef=t.createNgModuleRef,On.overrideProvider=t.overrideProvider,On.overrideComponentView=t.overrideComponentView,On.clearOverrides=t.clearOverrides,On.checkAndUpdateView=t.checkAndUpdateView,On.checkNoChangesView=t.checkNoChangesView,On.destroyView=t.destroyView,On.resolveDep=Qr,On.createDebugContext=t.createDebugContext,On.handleEvent=t.handleEvent,On.updateDirectives=t.updateDirectives,On.updateRenderer=t.updateRenderer,On.dirtyParentQueries=vs}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,scope:t.scope,providers:e,modules:n,providersByKey:r}}(Jn(this._ngModuleDefFactory));return On.createNgModuleRef(this.moduleType,t||re.NULL,this._bootstrapComponents,e)}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),l=n("Lhse"),u=n("c2HN"),c=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(c.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[l.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[l.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),l=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){l.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=c(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=c(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function c(t){if(t||(t=l.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.1.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),l=n("c2HN"),u=n("XoHu");const c=t=>{if(t&&"function"==typeof t[o.a])return c=t,t=>{const e=c[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(l.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,c}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return c}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),l=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let c=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends c{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},jmUF:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return E})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return m})),n.d(e,"k",(function(){return C}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),l=n("8Y7J"),u=n("Jgta");function c(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",c,{},c,c)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new l.q("angularfire2.app.options"),v=new l.q("angularfire2.app.nameOrConfig");class _{}const w=new l.O("6.1.2");function E(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&O("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const C=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(l.U)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(l){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);class I{constructor(t){u.a.registerVersion("angularfire",w.full,t.toString()),u.a.registerVersion("angular",l.N.full)}static initializeApp(t,e){return{ngModule:I,providers:[{provide:y,useValue:t},{provide:v,useValue:e}]}}}}).call(this,n("3UD+")(t))},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function l(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new c(t,this.scheduler,this.delay))}}class c extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(c.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},l=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return w})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return c})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return f})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return l})),n.d(e,"n",(function(){return u})),n.d(e,"o",(function(){return d})),n.d(e,"p",(function(){return g}));var r=n("uXP2");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function u(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function c(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?y(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",l=new m(i,a,r);return l},t}();function y(t,e){return t.replace(v,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return l}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),l=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof o?l(h.errors):[h]}}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(l(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function l(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const l={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=l.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(l.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(c);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},uXP2:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{l(r.next(t))}catch(e){s(e)}}function a(t){try{l(r.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function l(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new l(t,this.nextOrObserver,this.error,this.complete))}}class l extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,s=n("uXP2"),o=n("qOnz"),a=n("/6Yf"),l=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new o.b("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new l.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,l=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return l}),"PUBLIC"));try{for(var u=Object(s.h)(this.firebase_.INTERNAL.components.values()),c=u.next();!c.done;c=u.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(Object(o.d)(e,a))throw c.create("duplicate-app",{appName:a});var l=new t(n,s,r);return e[a]=l,l},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&l.push("and"),o&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(l.join(" "))}u(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:l.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});Object(l.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.d)(e,t))throw c.create("no-app",{appName:t});return e[t]}function u(a){var l,u,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.g)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var f=Object(s.h)(Object.keys(e)),g=f.next();!g.done;g=f.next())e[g.value]._addComponent(a)}catch(m){l={error:m}}finally{try{g&&!g.done&&(u=f.return)&&u.call(f)}finally{if(l)throw l.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new b(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J");class i{}class s{constructor(){this.title="pizza"}}let o=null;function a(){return o}const l=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275prov=Object(r.Vb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Wb)(d)}const h=new r.q("Location Initialized");let d=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=a().getLocation(),this._history=a().getHistory()}getBaseHrefFromDOM(){return a().getBaseHref(this._doc)}onPopState(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275prov=Object(r.Vb)({factory:p,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function p(){return new d(Object(r.Wb)(l))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275prov=Object(r.Vb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Wb)(l).location;return new w(Object(r.Wb)(u),e&&e.origin||"")}const _=new r.q("appBaseHref");class w extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class E extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}let C=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+b(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.normalizeQueryParams=b,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Vb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new C(Object(r.Wb)(y),Object(r.Wb)(u))}function S(t){return t.replace(/\/index.html$/,"")}var I=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),T=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),k=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),x=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),A=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function j(t,e){return L(Object(r.wb)(t)[r.ab.DateFormat],e)}function R(t,e){return L(Object(r.wb)(t)[r.ab.TimeFormat],e)}function P(t,e){return L(Object(r.wb)(t)[r.ab.DateTimeFormat],e)}function N(t,e){const n=Object(r.wb)(t),i=n[r.ab.NumberSymbols][e];if(void 0===i){if(e===A.CurrencyDecimal)return n[r.ab.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[r.ab.NumberSymbols][A.Group]}return i}const D=r.zb;function M(t){if(!t[r.ab.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.ab.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function L(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function U(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const F=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,V={},q=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var B=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),z=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),H=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function $(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function G(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function W(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case z.FullYear:return e.getFullYear();case z.Month:return e.getMonth();case z.Date:return e.getDate();case z.Hours:return e.getHours();case z.Minutes:return e.getMinutes();case z.Seconds:return e.getSeconds();case z.FractionalSeconds:return e.getMilliseconds();case z.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===z.Hours)0===a&&-12===n&&(a=12);else if(t===z.FractionalSeconds)return l=e,G(a,3).substr(0,l);var l;const u=N(o,A.MinusSign);return G(a,e,u,r,i)}}function K(t,e,n=T.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case H.Months:return function(t,e,n){const i=Object(r.wb)(t),s=L([i[r.ab.MonthsFormat],i[r.ab.MonthsStandalone]],e);return L(s,n)}(e,s,i)[t.getMonth()];case H.Days:return function(t,e,n){const i=Object(r.wb)(t),s=L([i[r.ab.DaysFormat],i[r.ab.DaysStandalone]],e);return L(s,n)}(e,s,i)[t.getDay()];case H.DayPeriods:const a=t.getHours(),l=t.getMinutes();if(o){const t=function(t){const e=Object(r.wb)(t);return M(e),(e[r.ab.ExtraData][2]||[]).map(t=>"string"==typeof t?U(t):[U(t[0]),U(t[1])])}(e),n=function(t,e,n){const i=Object(r.wb)(t);M(i);const s=L([i[r.ab.ExtraData][0],i[r.ab.ExtraData][1]],e)||[];return L(s,n)||[]}(e,s,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&l>=e.minutes,i=a<n.hours||a===n.hours&&l<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===l)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const i=Object(r.wb)(t),s=L([i[r.ab.DayPeriodsFormat],i[r.ab.DayPeriodsStandalone]],e);return L(s,n)}(e,s,i)[a<12?0:1];case H.Eras:return function(t,e){return L(Object(r.wb)(t)[r.ab.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(s,o,t,e,n,i)}}function Q(t){return function(e,n,r){const i=-1*r,s=N(n,A.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case B.Short:return(i>=0?"+":"")+G(o,2,s)+G(Math.abs(i%60),2,s);case B.ShortGMT:return"GMT"+(i>=0?"+":"")+G(o,1,s);case B.Long:return"GMT"+(i>=0?"+":"")+G(o,2,s)+":"+G(Math.abs(i%60),2,s);case B.Extended:return 0===r?"Z":(i>=0?"+":"")+G(o,2,s)+":"+G(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function J(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}var s;return G(i,t,N(r,A.MinusSign))}}const Y={};function X(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Z(t){return t instanceof Date&&!isNaN(t.valueOf())}class tt{}class et extends tt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(D(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}function nt(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class rt{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class it{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new rt(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new st(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new st(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class st{constructor(t,e){this.record=t,this.view=e}}class ot{constructor(t,e){this._viewContainer=t,this._context=new at,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}class at{constructor(){this.$implicit=null,this.ngIf=null}}function lt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.Qb)(e)}'.`)}function ut(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.Qb)(t)}'`)}class ct{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class ht{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const dt=new ht,ft=new ct;class pt{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(Object(r.Eb)(t))return dt;if(Object(r.Db)(t))return ft;throw ut(pt,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}class gt{constructor(t){this.locale=t}transform(t,e="mediumDate",n,i){if(null==t||""===t||t!=t)return null;try{return function(t,e,n,i){let s=function(t){if(Z(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(F))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,l,u),e}(n)}const e=new Date(t);if(!Z(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Object(r.wb)(t)[r.ab.LocaleId]}(e);if(V[i]=V[i]||{},V[i][n])return V[i][n];let s="";switch(n){case"shortDate":s=j(e,x.Short);break;case"mediumDate":s=j(e,x.Medium);break;case"longDate":s=j(e,x.Long);break;case"fullDate":s=j(e,x.Full);break;case"shortTime":s=R(e,x.Short);break;case"mediumTime":s=R(e,x.Medium);break;case"longTime":s=R(e,x.Long);break;case"fullTime":s=R(e,x.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");s=$(P(e,x.Short),[n,r]);break;case"medium":const i=t(e,"mediumTime"),o=t(e,"mediumDate");s=$(P(e,x.Medium),[i,o]);break;case"long":const a=t(e,"longTime"),l=t(e,"longDate");s=$(P(e,x.Long),[a,l]);break;case"full":const u=t(e,"fullTime"),c=t(e,"fullDate");s=$(P(e,x.Full),[u,c])}return s&&(V[i][n]=s),s}(n,e)||e;let o,a=[];for(;e;){if(o=q.exec(e),!o){a.push(e);break}{a=a.concat(o.slice(1));const t=a.pop();if(!t)break;e=t}}let l=s.getTimezoneOffset();i&&(l=X(i,l),s=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(X(e,r)-r))}(s,i));let u="";return a.forEach(t=>{const e=function(t){if(Y[t])return Y[t];let e;switch(t){case"G":case"GG":case"GGG":e=K(H.Eras,k.Abbreviated);break;case"GGGG":e=K(H.Eras,k.Wide);break;case"GGGGG":e=K(H.Eras,k.Narrow);break;case"y":e=W(z.FullYear,1,0,!1,!0);break;case"yy":e=W(z.FullYear,2,0,!0,!0);break;case"yyy":e=W(z.FullYear,3,0,!1,!0);break;case"yyyy":e=W(z.FullYear,4,0,!1,!0);break;case"M":case"L":e=W(z.Month,1,1);break;case"MM":case"LL":e=W(z.Month,2,1);break;case"MMM":e=K(H.Months,k.Abbreviated);break;case"MMMM":e=K(H.Months,k.Wide);break;case"MMMMM":e=K(H.Months,k.Narrow);break;case"LLL":e=K(H.Months,k.Abbreviated,T.Standalone);break;case"LLLL":e=K(H.Months,k.Wide,T.Standalone);break;case"LLLLL":e=K(H.Months,k.Narrow,T.Standalone);break;case"w":e=J(1);break;case"ww":e=J(2);break;case"W":e=J(1,!0);break;case"d":e=W(z.Date,1);break;case"dd":e=W(z.Date,2);break;case"E":case"EE":case"EEE":e=K(H.Days,k.Abbreviated);break;case"EEEE":e=K(H.Days,k.Wide);break;case"EEEEE":e=K(H.Days,k.Narrow);break;case"EEEEEE":e=K(H.Days,k.Short);break;case"a":case"aa":case"aaa":e=K(H.DayPeriods,k.Abbreviated);break;case"aaaa":e=K(H.DayPeriods,k.Wide);break;case"aaaaa":e=K(H.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":e=K(H.DayPeriods,k.Abbreviated,T.Standalone,!0);break;case"bbbb":e=K(H.DayPeriods,k.Wide,T.Standalone,!0);break;case"bbbbb":e=K(H.DayPeriods,k.Narrow,T.Standalone,!0);break;case"B":case"BB":case"BBB":e=K(H.DayPeriods,k.Abbreviated,T.Format,!0);break;case"BBBB":e=K(H.DayPeriods,k.Wide,T.Format,!0);break;case"BBBBB":e=K(H.DayPeriods,k.Narrow,T.Format,!0);break;case"h":e=W(z.Hours,1,-12);break;case"hh":e=W(z.Hours,2,-12);break;case"H":e=W(z.Hours,1);break;case"HH":e=W(z.Hours,2);break;case"m":e=W(z.Minutes,1);break;case"mm":e=W(z.Minutes,2);break;case"s":e=W(z.Seconds,1);break;case"ss":e=W(z.Seconds,2);break;case"S":e=W(z.FractionalSeconds,1);break;case"SS":e=W(z.FractionalSeconds,2);break;case"SSS":e=W(z.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Q(B.Short);break;case"ZZZZZ":e=Q(B.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Q(B.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Q(B.Long);break;default:return null}return Y[t]=e,e}(t);u+=e?e(s,n,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(t,e,i||this.locale,n)}catch(s){throw ut(gt,s.message)}}}class mt{}function bt(t){return"server"===t}let yt=(()=>{class t{}return t.\u0275prov=Object(r.Vb)({token:t,providedIn:"root",factory:()=>new vt(Object(r.Wb)(l),window,Object(r.Wb)(r.m))}),t})();class vt{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=_t(this.window.history)||_t(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function _t(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var wt=n("LRne"),Et=n("Cfvw"),Ct=n("XNiG"),Ot=n("9ppp");class St extends Ct.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ot.a;return this._value}next(t){super.next(this._value=t)}}var It=n("z+Ro"),Tt=n("DH7j"),kt=n("7o/Q");class xt extends kt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class At extends kt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var jt=n("SeVD"),Rt=n("HDdC");function Pt(t,e,n,r,i=new At(t,n,r)){if(!i.closed)return e instanceof Rt.a?e.subscribe(i):Object(jt.a)(e)(i)}var Nt=n("yCtX");const Dt={};class Mt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Lt(t,this.resultSelector))}}class Lt extends xt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Dt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Pt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Dt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ut=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ft=n("EY2u");function Vt(t){return new Rt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Et.a)(n):Object(Ft.b)()).subscribe(e)})}var qt=n("lJxs"),Bt=n("bHdf");function zt(){return Object(Bt.a)(1)}function Ht(t,e){return function(n){return n.lift(new $t(t,e))}}class $t{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Gt(t,this.predicate,this.thisArg))}}class Gt extends kt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Wt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Kt(t){return function(e){return 0===t?Object(Ft.b)():e.lift(new Qt(t))}}class Qt{constructor(t){if(this.total=t,this.total<0)throw new Wt}call(t,e){return e.subscribe(new Jt(t,this.total))}}class Jt extends kt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Yt(t=te){return e=>e.lift(new Xt(t))}class Xt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Zt(t,this.errorFactory))}}class Zt extends kt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function te(){return new Ut}function ee(t=null){return e=>e.lift(new ne(t))}class ne{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new re(t,this.defaultValue))}}class re extends kt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ie=n("SpAZ"),se=n("zx2A");function oe(t,e){return"function"==typeof e?n=>n.pipe(oe((n,r)=>Object(Et.a)(t(n,r)).pipe(Object(qt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new ae(t))}class ae{constructor(t){this.project=t}call(t,e){return e.subscribe(new le(t,this.project))}}class le extends se.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new se.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(se.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function ue(t){return e=>0===t?Object(Ft.b)():e.lift(new ce(t))}class ce{constructor(t){if(this.total=t,this.total<0)throw new Wt}call(t,e){return e.subscribe(new he(t,this.total))}}class he extends kt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function de(...t){return zt()(Object(wt.a)(...t))}function fe(...t){const e=t[t.length-1];return Object(It.a)(e)?(t.pop(),n=>de(t,n,e)):e=>de(t,e)}function pe(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ge(t,e,n))}}class ge{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new me(t,this.accumulator,this.seed,this.hasSeed))}}class me extends kt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function be(t){return function(e){const n=new ye(t),r=e.lift(n);return n.caught=r}}class ye{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ve(t,this.selector,this.caught))}}class ve extends se.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new se.a(this);this.add(r);const i=Object(se.c)(n,r);i!==r&&this.add(i)}}}var _e=n("5+tZ");function we(t,e){return Object(_e.a)(t,e,1)}function Ee(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ht((e,n)=>t(e,n,r)):ie.a,ue(1),n?ee(e):Yt(()=>new Ut))}var Ce=n("vkgz"),Oe=n("quSY");class Se{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ie(t,this.callback))}}class Ie extends kt.a{constructor(t,e){super(t),this.add(new Oe.a(e))}}class Te{constructor(t,e){this.id=t,this.url=e}}class ke extends Te{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xe extends Te{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ae extends Te{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class je extends Te{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Re extends Te{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pe extends Te{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ne extends Te{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class De extends Te{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends Te{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ue{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ve{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Be{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const He="primary";class $e{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ge(t){return new $e(t)}function We(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ke(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Qe(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Je(t[i],e[i]))return!1;return!0}function Je(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Ye(t){return Array.prototype.concat.apply([],t)}function Xe(t){return t.length>0?t[t.length-1]:null}function Ze(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function tn(t){return Object(r.Db)(t)?t:Object(r.Eb)(t)?Object(Et.a)(Promise.resolve(t)):Object(wt.a)(t)}function en(t,e,n){return n?function(t,e){return Qe(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!on(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Je(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!on(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!on(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!on(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class nn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return cn.serialize(this)}}class rn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ze(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hn(this)}}class sn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ge(this.parameters)),this._parameterMap}toString(){return bn(this)}}function on(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function an(t,e){let n=[];return Ze(t.children,(t,r)=>{r===He&&(n=n.concat(e(t,r)))}),Ze(t.children,(t,r)=>{r!==He&&(n=n.concat(e(t,r)))}),n}class ln{}class un{parse(t){const e=new En(t);return new nn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return hn(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Ze(e.children,(e,n)=>{n!==He&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=an(e,(n,r)=>r===He?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${hn(e)}/${n[0]}`:`${hn(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${fn(e)}=${fn(t)}`).join("&"):`${fn(e)}=${fn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const cn=new un;function hn(t){return t.segments.map(t=>bn(t)).join("/")}function dn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fn(t){return dn(t).replace(/%3B/gi,";")}function pn(t){return dn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gn(t){return decodeURIComponent(t)}function mn(t){return gn(t.replace(/\+/g,"%20"))}function bn(t){return`${pn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${pn(t)}=${pn(e[t])}`).join("")}`;var e}const yn=/^[^\/()?;=#]+/;function vn(t){const e=t.match(yn);return e?e[0]:""}const _n=/^[^=?&#]+/,wn=/^[^?&#]+/;class En{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new rn(t,e)),n}parseSegment(){const t=vn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new sn(gn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=vn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=vn(this.remaining);t&&(n=t,this.capture(n))}t[gn(e)]=gn(n)}parseQueryParam(t){const e=function(t){const e=t.match(_n);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(wn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=mn(e),i=mn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=vn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=He);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new rn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Cn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=On(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=On(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Sn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Sn(t,this._root).map(t=>t.value)}}function On(t,e){if(t===e.value)return e;for(const n of e.children){const e=On(t,n);if(e)return e}return null}function Sn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Sn(t,n);if(r.length)return r.unshift(e),r}return[]}class In{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Tn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class kn extends Cn{constructor(t,e){super(t),this.snapshot=e,Nn(this,t)}toString(){return this.snapshot.toString()}}function xn(t,e){const n=function(t,e){const n=new Rn([],{},{},"",{},He,e,null,t.root,-1,{});return new Pn("",new In(n,[]))}(t,e),r=new St([new sn("",{})]),i=new St({}),s=new St({}),o=new St({}),a=new St(""),l=new An(r,i,o,a,s,He,e,n.root);return l.snapshot=n.root,new kn(new In(l,[]),n)}class An{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(qt.a)(t=>Ge(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(qt.a)(t=>Ge(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Rn{constructor(t,e,n,r,i,s,o,a,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ge(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ge(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pn extends Cn{constructor(t,e){super(e),this.url=t,Nn(this,e)}toString(){return Dn(this._root)}}function Nn(t,e){e.value._routerState=t,e.children.forEach(e=>Nn(t,e))}function Dn(t){const e=t.children.length>0?` { ${t.children.map(Dn).join(", ")} } `:"";return`${t.value}${e}`}function Mn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qe(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Qe(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qe(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Qe(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ln(t,e){return Qe(t.params,e.params)&&function(t,e){return on(t,e)&&t.every((t,n)=>Qe(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Ln(t.parent,e.parent))}function Un(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Fn(t){return"object"==typeof t&&null!=t&&t.outlets}function Vn(t,e,n,r,i){let s={};return r&&Ze(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new nn(n.root===t?e:function t(e,n,r){const i={};return Ze(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new rn(e.segments,i)}(n.root,t,e),s,i)}class qn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Un(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Fn);if(r&&r!==Xe(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function zn(t,e,n){if(t||(t=new rn([],{})),0===t.segments.length&&t.hasChildren())return Hn(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Fn(o))break;const a=""+o,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Kn(a,l,e))return s;r+=2}else{if(!Kn(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new rn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new rn(t.segments.slice(r.pathIndex),t.children),Hn(e,0,i)}return r.match&&0===i.length?new rn(t.segments,{}):r.match&&!t.hasChildren()?$n(t,e,n):r.match?Hn(t,0,i):$n(t,e,n)}function Hn(t,e,n){if(0===n.length)return new rn(t.segments,{});{const r=function(t){return Fn(t[0])?t[0].outlets:{[He]:t}}(n),i={};return Ze(r,(n,r)=>{null!==n&&(i[r]=zn(t.children[r],e,n))}),Ze(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new rn(t.segments,i)}}function $n(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Fn(s)){const t=Gn(s.outlets);return new rn(r,t)}if(0===i&&Un(n[0])){r.push(new sn(t.segments[e].path,n[0])),i++;continue}const o=Fn(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&Un(a)?(r.push(new sn(o,Wn(a))),i+=2):(r.push(new sn(o,{})),i++)}return new rn(r,{})}function Gn(t){const e={};return Ze(t,(t,n)=>{null!==t&&(e[n]=$n(new rn([],{}),0,t))}),e}function Wn(t){const e={};return Ze(t,(t,n)=>e[n]=""+t),e}function Kn(t,e,n){return t==n.path&&Qe(e,n.parameters)}class Qn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Mn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Tn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ze(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Tn(t),i=t.value.component?n.children:e;Ze(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Tn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Be(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ve(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Mn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Jn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Jn(t){Mn(t.value),t.children.forEach(Jn)}class Yn{constructor(t,e){this.routes=t,this.module=e}}function Xn(t){return"function"==typeof t}function Zn(t){return t instanceof nn}const tr=Symbol("INITIAL_VALUE");function er(){return oe(t=>function(...t){let e=void 0,n=void 0;return Object(It.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Tt.a)(t[0])&&(t=t[0]),Object(Nt.a)(t,n).lift(new Mt(e))}(...t.map(t=>t.pipe(ue(1),fe(tr)))).pipe(pe((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==tr)return t;if(r===tr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Zn(r))return r}return t},t)},tr),Ht(t=>t!==tr),Object(qt.a)(t=>Zn(t)?t:!0===t),ue(1)))}class nr{constructor(t){this.segmentGroup=t||null}}class rr{constructor(t){this.urlTree=t}}function ir(t){return new Rt.a(e=>e.error(new nr(t)))}function sr(t){return new Rt.a(e=>e.error(new rr(t)))}function or(t){return new Rt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class ar{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,He).pipe(Object(qt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(be(t=>{if(t instanceof rr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof nr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,He).pipe(Object(qt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(be(t=>{if(t instanceof nr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new rn([],{[He]:t}):t;return new nn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(qt.a)(t=>new rn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(wt.a)({});const n=[],r=[],i={};return Ze(t,(t,s)=>{const o=e(s,t).pipe(Object(qt.a)(t=>i[s]=t));s===He?n.push(o):r.push(o)}),wt.a.apply(null,n.concat(r)).pipe(zt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ht((e,n)=>t(e,n,r)):ie.a,Kt(1),n?ee(e):Yt(()=>new Ut))}(),Object(qt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(wt.a)(...n).pipe(we(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(be(t=>{if(t instanceof nr)return Object(wt.a)(null);throw t}))),Ee(t=>!!t),be((t,n)=>{if(t instanceof Ut||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(wt.a)(new rn([],{}));throw new nr(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return hr(r)!==s?ir(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):ir(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?sr(i):this.lineralizeSegments(n,i).pipe(Object(_e.a)(n=>{const i=new rn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:u}=lr(e,r,i);if(!o)return ir(e);const c=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?sr(c):this.lineralizeSegments(r,c).pipe(Object(_e.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(qt.a)(t=>(n._loadedConfig=t,new rn(r,{})))):Object(wt.a)(new rn(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=lr(e,n,r);if(!i)return ir(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(_e.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>cr(t,e,n)&&hr(n)!==He)}(t,n,r)?{segmentGroup:ur(new rn(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&hr(r)!==He&&(n[hr(r)]=new rn([],{}));return n}(r,new rn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>cr(t,e,n))}(t,n,r)?{segmentGroup:ur(new rn(t.segments,function(t,e,n,r){const i={};for(const s of n)cr(t,e,s)&&!r[hr(s)]&&(i[hr(s)]=new rn([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(qt.a)(t=>new rn(s,t))):0===r.length&&0===o.length?Object(wt.a)(new rn(s,{})):this.expandSegment(n,i,r,o,He,!0).pipe(Object(qt.a)(t=>new rn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(wt.a)(new Yn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(wt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(_e.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(qt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Rt.a(e=>e.error(We(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(wt.a)(new Yn([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(wt.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Xn(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Xn(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return tn(s)});return Object(wt.a)(i).pipe(er(),Object(Ce.a)(t=>{if(!Zn(t))return;const e=We(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(qt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(wt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return or(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new nn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ze(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Ze(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new rn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function lr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Ke)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ur(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new rn(t.segments.concat(e.segments),e.children)}return t}function cr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function hr(t){return t.outlet||He}class dr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class fr{constructor(t,e){this.component=t,this.route=e}}function pr(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Tn(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,l=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!on(t.url,e.url);case"pathParamsOrQueryParamsChange":return!on(t.url,e.url)||!Qe(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ln(t,e)||!Qe(t.queryParams,e.queryParams);case"paramsChange":default:return!Ln(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?s.canActivateChecks.push(new dr(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?l?l.children:null:r,i,s),u&&l&&l.outlet&&l.outlet.isActivated&&s.canDeactivateChecks.push(new fr(l.outlet.component,a))}else a&&mr(n,l,s),s.canActivateChecks.push(new dr(i)),t(e,null,o.component?l?l.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),Ze(o,(t,e)=>mr(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function gr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function mr(t,e,n){const r=Tn(t),i=t.value;Ze(r,(t,r)=>{mr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new fr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function br(t,e){return null!==t&&e&&e(new qe(t)),Object(wt.a)(!0)}function yr(t,e){return null!==t&&e&&e(new Fe(t)),Object(wt.a)(!0)}function vr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(wt.a)(!0);const i=r.map(r=>Vt(()=>{const i=gr(r,e,n);let s;if(function(t){return t&&Xn(t.canActivate)}(i))s=tn(i.canActivate(e,t));else{if(!Xn(i))throw new Error("Invalid CanActivate guard");s=tn(i(e,t))}return s.pipe(Ee())}));return Object(wt.a)(i).pipe(er())}function _r(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Vt(()=>{const i=e.guards.map(i=>{const s=gr(i,e.node,n);let o;if(function(t){return t&&Xn(t.canActivateChild)}(s))o=tn(s.canActivateChild(r,t));else{if(!Xn(s))throw new Error("Invalid CanActivateChild guard");o=tn(s(r,t))}return o.pipe(Ee())});return Object(wt.a)(i).pipe(er())}));return Object(wt.a)(i).pipe(er())}class wr{}class Er{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Sr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,He),n=new Rn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},He,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new In(n,e),i=new Pn(this.url,r);return this.inheritParamsAndData(i._root),Object(wt.a)(i)}catch(t){return new Rt.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=jn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=an(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===He?-1:e.value.outlet===He?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof wr))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new wr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new wr;if((t.outlet||He)!==r)throw new wr;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?Xe(n).parameters:{};i=new Rn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kr(t),r,t.component,t,Cr(e),Or(e)+n.length,xr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new wr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Ke)(n,t,e);if(!r)throw new wr;const i={};Ze(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Rn(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kr(t),r,t.component,t,Cr(e),Or(e)+s.length,xr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=Sr(e,s,o,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new In(i,t)]}if(0===a.length&&0===u.length)return[new In(i,[])];const c=this.processSegment(a,l,u,He);return[new In(i,c)]}}function Cr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Or(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Sr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Ir(t,e,n)&&Tr(n)!==He)}(t,n,r)){const i=new rn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Tr(s)!==He){const n=new rn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Tr(s)]=n}return i}(t,e,r,new rn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ir(t,e,n))}(t,n,r)){const s=new rn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Ir(t,n,a)&&!i[Tr(a)]){const n=new rn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Tr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new rn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Ir(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Tr(t){return t.outlet||He}function kr(t){return t.data||{}}function xr(t){return t.resolve||{}}function Ar(t){return function(e){return e.pipe(oe(e=>{const n=t(e);return n?Object(Et.a)(n).pipe(Object(qt.a)(()=>e)):Object(Et.a)([e])}))}}class jr{}class Rr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}class Pr{}function Nr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Dr(r,Mr(e,r))}}function Dr(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==He)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Nr(t.children,e)}function Mr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Lr(t){const e=t.children&&t.children.map(Lr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==He&&(n.component=Pr),n}const Ur=new r.q("ROUTES");class Fr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(qt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Yn(Ye(r.injector.get(Ur)).map(Lr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Et.a)(this.loader.load(t)):tn(t()).pipe(Object(_e.a)(t=>t instanceof r.v?Object(wt.a)(t):Object(Et.a)(this.compiler.compileModuleAsync(t))))}}class Vr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qr,this.attachRef=null}}class qr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Vr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Br{}class zr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Hr(t){throw t}function $r(t,e,n){return e.parse("/")}function Gr(t,e){return Object(wt.a)(null)}class Wr{constructor(t,e,n,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ct.a,this.errorHandler=Hr,this.malformedUriErrorHandler=$r,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Gr,afterPreactivation:Gr},this.urlHandlingStrategy=new zr,this.routeReuseStrategy=new Rr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.x),this.console=s.get(r.Y);const u=s.get(r.z);this.isNgZoneEnabled=u instanceof r.z,this.resetConfig(l),this.currentUrlTree=new nn(new rn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Fr(o,a,t=>this.triggerEvent(new Le(t)),t=>this.triggerEvent(new Ue(t))),this.routerState=xn(this.currentUrlTree,this.rootComponentType),this.transitions=new St({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Ht(t=>0!==t.id),Object(qt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),oe(t=>{let n=!1,r=!1;return Object(wt.a)(t).pipe(Object(Ce.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),oe(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(wt.a)(t).pipe(oe(t=>{const n=this.transitions.getValue();return e.next(new ke(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ft.a:[t]}),oe(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(oe(t=>function(t,e,n,r,i){return new ar(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(qt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Ce.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(_e.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Er(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(qt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ce.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Ce.a)(t=>{const n=new Re(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new ke(n,this.serializeUrl(r),i,s);e.next(a);const l=xn(r,this.rootComponentType).snapshot;return Object(wt.a)(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ft.a}),Ar(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ce.a)(t=>{const e=new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(qt.a)(t=>Object.assign(Object.assign({},t),{guards:pr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(_e.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(wt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Et.a)(t).pipe(Object(_e.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(wt.a)(!0);const o=s.map(s=>{const o=gr(s,e,i);let a;if(function(t){return t&&Xn(t.canDeactivate)}(o))a=tn(o.canDeactivate(t,e,n,r));else{if(!Xn(o))throw new Error("Invalid CanDeactivate guard");a=tn(o(t,e,n,r))}return a.pipe(Ee())});return Object(wt.a)(o).pipe(er())}(t.component,t.route,n,e,r)),Ee(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(_e.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Et.a)(e).pipe(we(e=>Object(Et.a)([yr(e.route.parent,r),br(e.route,r),_r(t,e.path,n),vr(t,e.route,n)]).pipe(zt(),Ee(t=>!0!==t,!0))),Ee(t=>!0!==t,!0))}(r,s,t,e):Object(wt.a)(n)),Object(qt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ce.a)(t=>{if(Zn(t.guardsResult)){const e=We(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Ce.a)(t=>{const e=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ht(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ar(t=>{if(t.guards.canActivateChecks.length)return Object(wt.a)(t).pipe(Object(Ce.a)(t=>{const e=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),oe(t=>{let n=!1;return Object(wt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(_e.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(wt.a)(t);let s=0;return Object(Et.a)(n).pipe(we(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(wt.a)({});const s={};return Object(Et.a)(i).pipe(Object(_e.a)(i=>function(t,e,n,r){const i=gr(t,e,r);return tn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Ce.a)(t=>{s[i]=t}))),Kt(1),Object(_e.a)(()=>Object.keys(s).length===i.length?Object(wt.a)(s):Ft.a))}(t._resolve,t,e,r).pipe(Object(qt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),jn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Ce.a)(()=>s++),Kt(1),Object(_e.a)(e=>s===n.length?Object(wt.a)(t):Ft.a))}))}),Object(Ce.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Ce.a)(t=>{const e=new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ar(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(qt.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new In(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new An(new St((i=n.value).url),new St(i.params),new St(i.queryParams),new St(i.fragment),new St(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new In(r,s)}}var i}(t,e._root,n?n._root:void 0);return new kn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ce.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(qt.a)(t=>(new Qn(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Ce.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Se(i))),be(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Zn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ae(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new je(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return Ft.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Nr(t),this.config=t.map(Lr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:l}=e;Object(r.U)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=l?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Vn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new qn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ze(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new qn(n,e,r)}(n);if(s.toRoot())return Vn(e.root,new rn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Bn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Bn(t,t===e.root,0)}const r=Un(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Bn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Hn(o.segmentGroup,o.index,s.commands):zn(o.segmentGroup,o.index,s.commands);return Vn(o.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,h,c)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Zn(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Zn(t))return en(this.currentUrlTree,t,e);const n=this.parseUrl(t);return en(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let l,u,c;i?(l=i.resolve,u=i.reject,c=i.promise):c=new Promise((t,e)=>{l=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:l,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Kr{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Ct.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Jr(this.skipLocationChange),replaceUrl:Jr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Jr(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Jr(this.preserveFragment)})}}class Qr{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Ct.a,this.subscription=t.events.subscribe(t=>{t instanceof xe&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Jr(this.skipLocationChange),replaceUrl:Jr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Jr(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Jr(this.preserveFragment)})}}function Jr(t){return""===t||!!t}class Yr{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof xe&&this.update()})}ngAfterContentInit(){Object(Et.a)([this.links.changes,this.linksWithHrefs.changes,Object(wt.a)(null)]).pipe(Object(Bt.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(Et.a)(e).pipe(Object(Bt.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}class Xr{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||He,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Zr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Zr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===An?this.route:t===qr?this.childContexts:this.parent.get(t,e)}}class ti{}class ei{preload(t,e){return e().pipe(be(()=>Object(wt.a)(null)))}}class ni{preload(t,e){return Object(wt.a)(null)}}class ri{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Fr(e,n,e=>t.triggerEvent(new Le(e)),e=>t.triggerEvent(new Ue(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ht(t=>t instanceof xe),we(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Et.a)(n).pipe(Object(Bt.a)(),Object(qt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(_e.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class ii{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ke?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xe&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ze&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ze(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const si=new r.q("ROUTER_CONFIGURATION"),oi=new r.q("ROUTER_FORROOT_GUARD"),ai=[C,{provide:ln,useClass:un},{provide:Wr,useFactory:pi,deps:[ln,qr,C,r.r,r.w,r.i,Ur,si,[Br,new r.A],[jr,new r.A]]},qr,{provide:An,useFactory:gi,deps:[Wr]},{provide:r.w,useClass:r.J},ri,ni,ei,{provide:si,useValue:{enableTracing:!1}}];function li(){return new r.y("Router",Wr)}class ui{constructor(t,e){}static forRoot(t,e){return{ngModule:ui,providers:[ai,fi(t),{provide:oi,useFactory:di,deps:[[Wr,new r.A,new r.I]]},{provide:si,useValue:e||{}},{provide:y,useFactory:hi,deps:[u,[new r.p(_),new r.A],si]},{provide:ii,useFactory:ci,deps:[Wr,yt,si]},{provide:ti,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:ni},{provide:r.y,multi:!0,useFactory:li},[mi,{provide:r.d,multi:!0,useFactory:bi,deps:[mi]},{provide:vi,useFactory:yi,deps:[mi]},{provide:r.b,multi:!0,useExisting:vi}]]}}static forChild(t){return{ngModule:ui,providers:[fi(t)]}}}function ci(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ii(t,e,n)}function hi(t,e,n={}){return n.useHash?new E(t,e):new w(t,e)}function di(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function fi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Ur,multi:!0,useValue:t}]}function pi(t,e,n,r,i,s,o,l={},u,c){const h=new Wr(null,t,e,n,r,i,s,Ye(o));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=a();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function gi(t){return t.routerState.root}class mi{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ct.a}appInitializer(){return this.injector.get(h,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Wr),r=this.injector.get(si);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(wt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(si),n=this.injector.get(ri),i=this.injector.get(ii),s=this.injector.get(Wr),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function bi(t){return t.appInitializer.bind(t)}function yi(t){return t.bootstrapListener.bind(t)}const vi=new r.q("Router Initializer");var _i=r.tb({encapsulation:2,styles:[],data:{}});function wi(t){return r.Ub(0,[(t()(),r.vb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ub(1,212992,null,0,Xr,[qr,r.P,r.j,[8,null],r.h],null,null)],(function(t,e){t(e,1,0)}),null)}function Ei(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"ng-component",[],null,null,null,wi,_i)),r.ub(1,49152,null,0,Pr,[],null,null)],null,null)}var Ci=r.rb("ng-component",Pr,Ei,{},{},[]);class Oi{constructor(){}ngOnInit(){}}var Si=r.tb({encapsulation:0,styles:[[""]],data:{}});function Ii(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Rb(-1,null,["home works!"]))],null,null)}function Ti(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-home",[],null,null,null,Ii,Si)),r.ub(1,114688,null,0,Oi,[],null,null)],(function(t,e){t(e,1,0)}),null)}var ki=r.rb("app-home",Oi,Ti,{},{},[]);class xi{constructor(t,e,n,r){this.prodService=t,this.router=e,this.activatedRoute=n,this.orderService=r,this.products=[],this.router.events.subscribe(t=>{if(t instanceof xe){const t=this.activatedRoute.snapshot.paramMap.get("category");this.getProducts(t)}})}ngOnInit(){}getProducts(t){this.products=[],this.prodService.getCategoryProducts(t).subscribe(t=>{this.products=t})}prodCount(t,e){e?t.count++:t.count>1&&t.count--}addToBasket(t){this.orderService.addBasket(t),t.count=1}}class Ai{}class ji{}class Ri{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ri?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ri;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ri?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Pi{encodeKey(t){return Ni(t)}encodeValue(t){return Ni(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Ni(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Di{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Pi,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Di({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Mi(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Li(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Ui(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Fi{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ri),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Di,this.urlWithParams=e}serializeBody(){return null===this.body?null:Mi(this.body)||Li(this.body)||Ui(this.body)||"string"==typeof this.body?this.body:this.body instanceof Di?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ui(this.body)?null:Li(this.body)?this.body.type||null:Mi(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Di?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new Fi(e,n,i,{params:l,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var Vi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class qi{constructor(t,e=200,n="OK"){this.headers=t.headers||new Ri,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Bi extends qi{constructor(t={}){super(t),this.type=Vi.ResponseHeader}clone(t={}){return new Bi({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class zi extends qi{constructor(t={}){super(t),this.type=Vi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new zi({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Hi extends qi{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function $i(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class Gi{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Fi)r=t;else{let i=void 0;i=n.headers instanceof Ri?n.headers:new Ri(n.headers);let s=void 0;n.params&&(s=n.params instanceof Di?n.params:new Di({fromObject:n.params})),r=new Fi(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(wt.a)(r).pipe(we(t=>this.handler.handle(t)));if(t instanceof Fi||"events"===n.observe)return i;const s=i.pipe(Ht(t=>t instanceof zi));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(qt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(qt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(qt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(qt.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Di).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,$i(n,e))}post(t,e,n={}){return this.request("POST",t,$i(n,e))}put(t,e,n={}){return this.request("PUT",t,$i(n,e))}}class Wi{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Ki=new r.q("HTTP_INTERCEPTORS");class Qi{intercept(t,e){return e.handle(t)}}const Ji=/^\)\]\}',?\n/;class Yi{}class Xi{constructor(){}build(){return new XMLHttpRequest}}class Zi{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Rt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new Ri(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Bi({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(Ji,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=t,u&&(u=!1,l={error:c,text:l})}}u?(e.next(new zi({body:l,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Hi({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new Hi({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let l=!1;const u=r=>{l||(e.next(s()),l=!0);let i={type:Vi.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},c=t=>{let n={type:Vi.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),e.next({type:Vi.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.readyState!==n.DONE&&n.abort()}})}}const ts=new r.q("XSRF_COOKIE_NAME"),es=new r.q("XSRF_HEADER_NAME");class ns{}class rs{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=nt(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class is{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}class ss{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Ki,[]);this.chain=t.reduceRight((t,e)=>new Wi(t,e),this.backend)}return this.chain.handle(t)}}class os{static disable(){return{ngModule:os,providers:[{provide:is,useClass:Qi}]}}static withOptions(t={}){return{ngModule:os,providers:[t.cookieName?{provide:ts,useValue:t.cookieName}:[],t.headerName?{provide:es,useValue:t.headerName}:[]]}}}class as{}let ls=(()=>{class t{constructor(t){this.http=t,this.products=[],this.url="http://localhost:3000/products"}getProducts(){return this.http.get(this.url)}postProduct(t){return this.http.post(this.url,t)}updateProduct(t){return this.http.put(`${this.url}/${t.id}`,t)}deleteProduct(t){return this.http.delete(`${this.url}/${t}`)}getCategoryProducts(t){return this.http.get(`${this.url}?category.name=${t}`)}getOneProduct(t){return this.http.get(`${this.url}/${t}`)}}return t.\u0275prov=r.Vb({factory:function(){return new t(r.Wb(Gi))},token:t,providedIn:"root"}),t})(),us=(()=>{class t{constructor(){this.basket=new Ct.a}addBasket(t){let e=[];if(localStorage.getItem("basket"))if(e=JSON.parse(localStorage.getItem("basket")),e.some(e=>e.id===t.id)){const n=e.findIndex(e=>e.id===t.id);e[n].count+=t.count}else e.push(t);else e.push(t);localStorage.setItem("basket",JSON.stringify(e)),this.basket.next(e)}}return t.\u0275prov=r.Vb({factory:function(){return new t},token:t,providedIn:"root"}),t})();var cs=r.tb({encapsulation:0,styles:[[".author[_ngcontent-%COMP%]{display:flex;color:#00f}.bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.img[_ngcontent-%COMP%]{height:300px}.card-text[_ngcontent-%COMP%]{text-align:justify}.productCountWrapper[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;font-size:30px}.toBuy[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.total[_ngcontent-%COMP%]{margin:0 5px;width:50px}.lessProduct[_ngcontent-%COMP%], .total[_ngcontent-%COMP%]{height:35px;display:flex;justify-content:center;align-items:center;border:1px solid rgba(0,0,0,.5);border-radius:5px}.lessProduct[_ngcontent-%COMP%]{width:30px}.moreProduct[_ngcontent-%COMP%]{width:30px;height:35px;display:flex;justify-content:center;align-items:center;border:1px solid rgba(0,0,0,.5);border-radius:5px}.price[_ngcontent-%COMP%], .productCountWrapper[_ngcontent-%COMP%]{display:flex}"]],data:{}});function hs(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,24,"div",[["class","card"],["style","width: 18rem;"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,0,"img",[["alt","..."],["class","card-img-top"]],[[1,"src",4]],null,null,null,null)),(t()(),r.vb(2,0,null,null,3,"a",[["class","btn btn-dark"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,3).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(3,671744,null,0,Qr,[Wr,An,y],{routerLink:[0,"routerLink"]},null),r.Jb(4,1),(t()(),r.Rb(-1,null,["Deteils"])),(t()(),r.vb(6,0,null,null,7,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),r.vb(7,0,null,null,4,"div",[["class","price"]],null,null,null,null,null)),(t()(),r.vb(8,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),r.Rb(9,null,["",""])),(t()(),r.vb(10,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r.Rb(11,null,[""," \u0433\u0440\u043d."])),(t()(),r.vb(12,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),r.Rb(13,null,["",""])),(t()(),r.vb(14,0,null,null,10,"div",[["class","toBuy"]],null,null,null,null,null)),(t()(),r.vb(15,0,null,null,6,"div",[["class","productCountWrapper"]],null,null,null,null,null)),(t()(),r.vb(16,0,null,null,1,"span",[["class"," lessProduct"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.prodCount(t.context.$implicit,!1)&&r),r}),null,null)),(t()(),r.Rb(-1,null,["-"])),(t()(),r.vb(18,0,null,null,1,"div",[["class","total"]],null,null,null,null,null)),(t()(),r.Rb(19,null,["",""])),(t()(),r.vb(20,0,null,null,1,"span",[["class"," moreProduct"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.prodCount(t.context.$implicit,!0)&&r),r}),null,null)),(t()(),r.Rb(-1,null,["+"])),(t()(),r.vb(22,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),r.vb(23,0,null,null,1,"button",[["class","btn btn-dark"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.addToBasket(t.context.$implicit)&&r),r}),null,null)),(t()(),r.Rb(-1,null,["\u041a\u0443\u043f\u0438\u0442\u0438"]))],(function(t,e){var n=t(e,4,0,e.context.$implicit.id);t(e,3,0,n)}),(function(t,e){t(e,1,0,e.context.$implicit.image),t(e,2,0,r.Ib(e,3).target,r.Ib(e,3).href),t(e,9,0,e.context.$implicit.name),t(e,11,0,e.context.$implicit.price*e.context.$implicit.count),t(e,13,0,e.context.$implicit.description),t(e,19,0,e.context.$implicit.count)}))}function ds(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,3,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,hs)),r.ub(3,278528,null,0,it,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,3,0,e.component.products)}),null)}function fs(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-products",[],null,null,null,ds,cs)),r.ub(1,114688,null,0,xi,[ls,Wr,An,us],null,null)],(function(t,e){t(e,1,0)}),null)}var ps=r.rb("app-products",xi,fs,{},{},[]);class gs{constructor(t,e,n){this.activatedRoute=t,this.prodService=e,this.location=n}ngOnInit(){this.getProd()}getProd(){const t=this.activatedRoute.snapshot.paramMap.get("id");this.prodService.getOneProduct(t).subscribe(t=>{this.product=t},t=>{console.log(t)})}}var ms=r.tb({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{margin:0 auto}.card[_ngcontent-%COMP%], .card-img-top[_ngcontent-%COMP%]{height:450px;width:700px}"]],data:{}});function bs(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,11,"div",[["class","card mb-3"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,0,"img",[["alt","..."],["class","card-img-top"]],[[1,"src",4]],null,null,null,null)),(t()(),r.vb(2,0,null,null,9,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),r.vb(3,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),r.Rb(4,null,["",""])),(t()(),r.vb(5,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),r.Rb(6,null,["",""])),(t()(),r.vb(7,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Rb(8,null,[""," \u0433\u0440\u043d"])),(t()(),r.vb(9,0,null,null,2,"div",[["class","button"]],null,null,null,null,null)),(t()(),r.vb(10,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.location.back()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Back"]))],null,(function(t,e){var n=e.component;t(e,1,0,null==n.product?null:n.product.image),t(e,4,0,null==n.product?null:n.product.name),t(e,6,0,null==n.product?null:n.product.description),t(e,8,0,null==n.product?null:n.product.price)}))}function ys(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-product-details",[],null,null,null,bs,ms)),r.ub(1,114688,null,0,gs,[An,ls,C],null,null)],(function(t,e){t(e,1,0)}),null)}var vs=r.rb("app-product-details",gs,ys,{},{},[]);class _s{constructor(t){this.blogsService=t,this.userBlogs=[]}ngOnInit(){this.getJSONBlogs()}getJSONBlogs(){this.blogsService.getJSONBlogs().subscribe(t=>{this.userBlogs=t},t=>{console.log(t)})}}let ws=(()=>{class t{constructor(t){this.http=t,this.blogs=[],this.url="http://localhost:3000/blogs"}getJSONBlogs(){return this.http.get(this.url)}postJSONBlog(t){return this.http.post(this.url,t)}updateJSONBlog(t){return this.http.put(`${this.url}/${t.id}`,t)}deleteJSONBlog(t){return this.http.delete(`${this.url}/${t.id}`)}getJSONOneBlog(t){return this.http.get(`${this.url}/${t}`)}}return t.\u0275prov=r.Vb({factory:function(){return new t(r.Wb(Gi))},token:t,providedIn:"root"}),t})();var Es=r.tb({encapsulation:0,styles:[[".author[_ngcontent-%COMP%]{display:flex;color:#00f}.bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.img[_ngcontent-%COMP%]{height:300px}"]],data:{}});function Cs(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,20,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,19,"div",[["class","card"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,0,"img",[["alt","..."],["class","card-img-top img"]],[[1,"src",4]],null,null,null,null)),(t()(),r.vb(3,0,null,null,17,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),r.vb(4,0,null,null,5,"div",[["class","author"]],null,null,null,null,null)),(t()(),r.vb(5,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),r.Rb(6,null,["",""])),r.Lb(7,2),(t()(),r.vb(8,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Rb(9,null,["\u2002",""])),(t()(),r.vb(10,0,null,null,10,"div",[["class","bottom"]],null,null,null,null,null)),(t()(),r.vb(11,0,null,null,4,"div",[["class","text"]],null,null,null,null,null)),(t()(),r.vb(12,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),r.Rb(13,null,["",""])),(t()(),r.vb(14,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),r.Rb(15,null,["",""])),(t()(),r.vb(16,0,null,null,4,"div",[["class","button"]],null,null,null,null,null)),(t()(),r.vb(17,0,null,null,3,"a",[["class","btn btn-dark"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,18).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(18,671744,null,0,Qr,[Wr,An,y],{routerLink:[0,"routerLink"]},null),r.Jb(19,2),(t()(),r.Rb(-1,null,["Deteils"]))],(function(t,e){var n=t(e,19,0,"/blog",e.context.$implicit.id);t(e,18,0,n)}),(function(t,e){t(e,2,0,e.context.$implicit.image);var n=r.Sb(e,6,0,t(e,7,0,r.Ib(e.parent,0),e.context.$implicit.date,"MMMM d, y"));t(e,6,0,n),t(e,9,0,e.context.$implicit.author),t(e,13,0,e.context.$implicit.title),t(e,15,0,e.context.$implicit.text),t(e,17,0,r.Ib(e,18).target,r.Ib(e,18).href)}))}function Os(t){return r.Ub(0,[r.Kb(0,gt,[r.u]),(t()(),r.vb(1,0,null,null,3,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,Cs)),r.ub(4,278528,null,0,it,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,4,0,e.component.userBlogs)}),null)}function Ss(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-blog",[],null,null,null,Os,Es)),r.ub(1,114688,null,0,_s,[ws],null,null)],(function(t,e){t(e,1,0)}),null)}var Is=r.rb("app-blog",_s,Ss,{},{},[]);class Ts{constructor(t,e,n){this.activatedRoute=t,this.blogService=e,this.location=n}ngOnInit(){this.getBlog()}getBlog(){const t=this.activatedRoute.snapshot.paramMap.get("id");this.blogService.getJSONOneBlog(t).subscribe(t=>{this.blog=t},t=>{console.log(t)})}}var ks=r.tb({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{margin:5px auto;border:none}.card[_ngcontent-%COMP%], .card-img-overlay[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;height:600px;width:700px}.card-img-overlay[_ngcontent-%COMP%]{flex-direction:column}.button[_ngcontent-%COMP%], .card-img-overlay[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.card-img[_ngcontent-%COMP%]{height:600px;width:700px}"]],data:{}});function xs(t){return r.Ub(0,[r.Kb(0,gt,[r.u]),(t()(),r.vb(1,0,null,null,12,"div",[["class","card text-white"],["style","max-width: 650px;"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,0,"img",[["alt","..."],["class","card-img"]],[[1,"src",4]],null,null,null,null)),(t()(),r.vb(3,0,null,null,10,"div",[["class","card-img-overlay"]],null,null,null,null,null)),(t()(),r.vb(4,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),r.Rb(5,null,["",""])),(t()(),r.vb(6,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),r.Rb(7,null,["",""])),(t()(),r.vb(8,0,null,null,5,"div",[["class","button"]],null,null,null,null,null)),(t()(),r.vb(9,0,null,null,2,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),r.Rb(10,null,[""," ",""])),r.Lb(11,2),(t()(),r.vb(12,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.location.back()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Back"]))],null,(function(t,e){var n=e.component;t(e,2,0,null==n.blog?null:n.blog.image),t(e,5,0,null==n.blog?null:n.blog.title),t(e,7,0,null==n.blog?null:n.blog.text);var i=r.Sb(e,10,0,t(e,11,0,r.Ib(e,0),null==n.blog?null:n.blog.date,"MMMM d, y"));t(e,10,0,i,null==n.blog?null:n.blog.author)}))}function As(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-blog-details",[],null,null,null,xs,ks)),r.ub(1,114688,null,0,Ts,[An,ws,C],null,null)],(function(t,e){t(e,1,0)}),null)}var js=r.rb("app-blog-details",Ts,As,{},{},[]),Rs=n("XoHu");function Ps(t,e){return new Rt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=Object(Et.a)(t[a]);let u=!1;n.add(l.subscribe({next:t=>{u||(u=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&u||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Ns=new r.q("NgValueAccessor"),Ds=new r.q("CompositionEventMode");class Ms{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=a()?a().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class Ls{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Us extends Ls{get formDirective(){return null}get path(){return null}}class Fs extends Ls{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class Vs{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class qs extends Vs{constructor(t){super(t)}}class Bs extends Vs{constructor(t){super(t)}}function zs(t){return null==t||0===t.length}function Hs(t){return null!=t&&"number"==typeof t.length}const $s=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gs{static min(t){return e=>{if(zs(e.value)||zs(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(zs(e.value)||zs(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return zs(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return zs(t.value)||$s.test(t.value)?null:{email:!0}}static minLength(t){return e=>zs(e.value)||!Hs(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Hs(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Gs.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(zs(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Ws);return 0==e.length?null:function(t){return Qs(Js(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Ws);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Tt.a)(e))return Ps(e,null);if(Object(Rs.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ps(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ps(t=1===t.length&&Object(Tt.a)(t[0])?t[0]:t,null).pipe(Object(qt.a)(t=>e(...t)))}return Ps(t,null)}(Js(t,e).map(Ks)).pipe(Object(qt.a)(Qs))}}}function Ws(t){return null!=t}function Ks(t){const e=Object(r.Eb)(t)?Object(Et.a)(t):t;return Object(r.Db)(e),e}function Qs(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Js(t,e){return e.map(e=>e(t))}function Ys(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}class Xs{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}class Zs{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}function to(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class eo{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=to(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}class no{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(to(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function ro(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class io{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ro(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ro(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function so(t,e){t.validator=Gs.compose([t.validator,e.validator]),t.asyncValidator=Gs.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&oo(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&oo(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function oo(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ao(t){return null!=t?Gs.compose(Ys(t)):null}function lo(t){return null!=t?Gs.composeAsync(Ys(t)):null}const uo=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},Xs,eo,class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Fs),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}],co="VALID",ho="INVALID",fo="PENDING",po="DISABLED";function go(t){return(vo(t)?t.validators:t)||null}function mo(t){return Array.isArray(t)?ao(t):t||null}function bo(t,e){return(vo(e)?e.asyncValidators:t)||null}function yo(t){return Array.isArray(t)?lo(t):t||null}function vo(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class _o{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=mo(this._rawValidators),this._composedAsyncValidatorFn=yo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===co}get invalid(){return this.status===ho}get pending(){return this.status==fo}get disabled(){return this.status===po}get enabled(){return this.status!==po}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=mo(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=yo(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=fo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=po,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=co,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==co&&this.status!==fo||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?po:co}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=fo,this._hasOwnPendingAsyncValidator=!0;const e=Ks(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Eo?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Co&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?po:this.errors?ho:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fo)?fo:this._anyControlsHaveStatus(ho)?ho:co}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){vo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class wo extends _o{constructor(t=null,e,n){super(go(e),bo(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Eo extends _o{constructor(t,e,n){super(go(e),bo(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof wo?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Co extends _o{constructor(t,e,n){super(go(e),bo(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof wo?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Oo=(()=>Promise.resolve(null))();class So extends Us{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Eo({},ao(t),lo(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Oo.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),so(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Oo.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){Oo.then(()=>{const e=this._findContainer(t.path),n=new Eo({});(function(t,e){t.validator=Gs.compose([t.validator,e.validator]),t.asyncValidator=Gs.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Oo.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Oo.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}const Io=(()=>Promise.resolve(null))();class To extends Fs{constructor(t,e,n,i){super(),this.control=new wo,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Ms?n=t:(e=t,uo.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ao(this._rawValidators)}get asyncValidator(){return lo(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){so(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Io.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Io.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class ko{}class xo{}class Ao{}class jo{constructor(t,e){this.open=t,this.close=e||t}isManual(){return"manual"===this.open||"manual"===this.close}}const Ro={hover:["mouseover","mouseout"],focus:["focusin","focusout"]},Po="undefined"!=typeof window&&window||{};let No;function Do(){return void 0===Po||(void 0===Po.__theme?(No||(No=function(){if("undefined"==typeof document)return null;const t=document.createElement("span");t.innerText="test bs version",document.body.appendChild(t),t.classList.add("d-none");const e=t.getBoundingClientRect();return document.body.removeChild(t),e&&0===e.top?"bs4":"bs3"}()),"bs3"===No):"bs4"!==Po.__theme)}"undefined"==typeof console||console;let Mo=(()=>{class t{constructor(){this.animate=!1,this.max=100}}return t.\u0275prov=Object(r.Vb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class Lo{constructor(t){this.isStacked=!1,this._max=100,this.addClass=!0,this.bars=[],Object.assign(this,t)}set animate(t){this._animate=t,this.bars.forEach(e=>{e.animate=t})}set striped(t){this._striped=t,this.bars.forEach(e=>{e.striped=t})}set value(t){this.isStacked=Array.isArray(t),this._value=t}get isBs3(){return Do()}get max(){return this._max}set max(t){this._max=t,this.bars.forEach(t=>{t.recalculatePercentage()})}addBar(t){t.animate=this._animate,t.striped=this._striped,this.bars.push(t)}removeBar(t){this.bars.splice(this.bars.indexOf(t),1)}}class Uo{constructor(t,e,n){this.el=t,this.renderer=n,this.addClass=!0,this.percent=0,this.progress=e}get setBarWidth(){return this.recalculatePercentage(),this.percent}get isBs3(){return Do()}ngOnInit(){this.progress.addBar(this)}ngOnDestroy(){this.progress.removeBar(this)}ngOnChanges(t){if(t.value){if(!t.value.currentValue&&0!==t.value.currentValue)return;this.value=t.value.currentValue,this.recalculatePercentage()}t.type&&(this.type=t.type.currentValue,this.applyTypeClasses())}recalculatePercentage(){this.percent=+(this.value/this.progress.max*100).toFixed(2);const t=this.progress.bars.reduce((function(t,e){return t+e.percent}),0);t>100&&(this.percent-=t-100)}applyTypeClasses(){if(this._prevType){const t="bg-"+this._prevType;this.renderer.removeClass(this.el.nativeElement,"progress-bar-"+this._prevType),this.renderer.removeClass(this.el.nativeElement,t),this._prevType=null}if(this.type){const t="bg-"+this.type;this.renderer.addClass(this.el.nativeElement,"progress-bar-"+this.type),this.renderer.addClass(this.el.nativeElement,t),this._prevType=this.type}}}class Fo{static forRoot(){return{ngModule:Fo,providers:[]}}}var Vo=r.tb({encapsulation:2,styles:[],data:{}});function qo(t){return r.Ub(0,[r.Hb(null,0)],null,null)}var Bo=r.tb({encapsulation:0,styles:["[_nghost-%COMP%] {\n      width: 100%;\n      display: flex;\n    }"],data:{}});function zo(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,2,"bar",[["aria-valuemin","0"],["role","progressbar"]],[[2,"progress-bar-animated",null],[2,"progress-bar-striped",null],[2,"active",null],[1,"aria-valuenow",0],[1,"aria-valuetext",0],[1,"aria-valuemax",0],[4,"height","%"],[4,"width","%"],[2,"progress-bar",null]],null,null,qo,Vo)),r.ub(1,770048,null,0,Uo,[r.l,Lo,r.D],{max:[0,"max"],type:[1,"type"],value:[2,"value"]},null),r.Hb(0,0)],(function(t,e){var n=e.component;t(e,1,0,n._max,n.type,n._value)}),(function(t,e){t(e,0,0,!r.Ib(e,1).isBs3&&r.Ib(e,1).animate,r.Ib(e,1).striped,r.Ib(e,1).isBs3&&r.Ib(e,1).animate,r.Ib(e,1).value,r.Ib(e,1).percent?r.Ib(e,1).percent.toFixed(0)+"%":"",r.Ib(e,1).max,"100",r.Ib(e,1).setBarWidth,r.Ib(e,1).addClass)}))}function Ho(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,2,"bar",[["aria-valuemin","0"],["role","progressbar"]],[[2,"progress-bar-animated",null],[2,"progress-bar-striped",null],[2,"active",null],[1,"aria-valuenow",0],[1,"aria-valuetext",0],[1,"aria-valuemax",0],[4,"height","%"],[4,"width","%"],[2,"progress-bar",null]],null,null,qo,Vo)),r.ub(1,770048,null,0,Uo,[r.l,Lo,r.D],{max:[0,"max"],type:[1,"type"],value:[2,"value"]},null),(t()(),r.Rb(2,0,["",""]))],(function(t,e){t(e,1,0,e.context.$implicit.max,e.context.$implicit.type,e.context.$implicit.value)}),(function(t,e){t(e,0,0,!r.Ib(e,1).isBs3&&r.Ib(e,1).animate,r.Ib(e,1).striped,r.Ib(e,1).isBs3&&r.Ib(e,1).animate,r.Ib(e,1).value,r.Ib(e,1).percent?r.Ib(e,1).percent.toFixed(0)+"%":"",r.Ib(e,1).max,"100",r.Ib(e,1).setBarWidth,r.Ib(e,1).addClass),t(e,2,0,e.context.$implicit.label)}))}function $o(t){return r.Ub(0,[(t()(),r.eb(16777216,null,null,1,null,Ho)),r.ub(1,278528,null,0,it,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.eb(0,null,null,0))],(function(t,e){t(e,1,0,e.component._value)}),null)}function Go(t){return r.Ub(0,[(t()(),r.eb(16777216,null,null,1,null,zo)),r.ub(1,16384,null,0,ot,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,$o)),r.ub(3,16384,null,0,ot,[r.P,r.L],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,!n.isStacked),t(e,3,0,n.isStacked)}),null)}class Wo{constructor(t,e,n,r){this.db=t,this.modalService=e,this.storage=n,this.authService=r,this.addModalHeight=500,this.fileUploaded=!1,this.dynamic=0,this.userImage="assets/images/no-person.jpg"}ngOnInit(){}cheackLocalUser(){if(this.myFirstName&&this.myLastName&&this.myCity&&this.myOld&&localStorage.getItem("user")){let t=JSON.parse(localStorage.getItem("user"));void 0!==t.firtName&&void 0!==t.lastName&&void 0!==t.old&&void 0!==t.city||(t.firtName=this.myFirstName,t.lastName=this.myLastName,t.city=this.myCity,t.old=this.myOld)}}uploadFile(t){const e=t.target.files[0],n=this.storage.ref("images/"+e.name).put(e);this.uploadPercent=n.percentageChanges(),this.uploadPercent.subscribe(t=>{100===t&&(this.dynamic=100)}),n.then(t=>{this.storage.ref("images/"+t.metadata.name).getDownloadURL().subscribe(t=>{this.userImage=t,this.addModalHeight=540,this.fileUploaded=!0})})}openModalAdd(t){this.myFirstName="",this.myLastName="",this.myCity="",this.myOld=null,this.modalRef=this.modalService.show(t)}}var Ko=n("D0XW");function Qo(){return t=>t.lift(new Jo)}class Jo{call(t,e){return e.subscribe(new Yo(t))}}class Yo extends kt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Xo{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Zo(t,this.compare,this.keySelector))}}class Zo extends kt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var ta=n("pxpQ"),ea=n("jmUF"),na=n("Jgta"),ra=n("uXP2"),ia=n("zIRd"),sa=n("q/0M"),oa=n("qOnz"),aa=function(t,e){return(aa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function la(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ua,ca="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ha=ha||{},da=ca||self;function fa(){}function pa(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ga(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ma="closure_uid_"+(1e9*Math.random()>>>0),ba=0;function ya(t,e,n){return t.call.apply(t.bind,arguments)}function va(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _a(t,e,n){return(_a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ya:va).apply(null,arguments)}function wa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ea(){return Date.now()}function Ca(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Oa(){this.j=this.j,this.i=this.i}Oa.prototype.j=!1,Oa.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ma)&&t[ma]||(t[ma]=++ba)}(this)},Oa.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Sa=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ia=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Ta(t){return Array.prototype.concat.apply([],arguments)}function ka(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function xa(t){return/^[\s\xa0]*$/.test(t)}var Aa,ja=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ra(t,e){return-1!=t.indexOf(e)}function Pa(t,e){return t<e?-1:t>e?1:0}t:{var Na=da.navigator;if(Na){var Da=Na.userAgent;if(Da){Aa=Da;break t}}Aa=""}function Ma(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function La(t){var e={};for(var n in t)e[n]=t[n];return e}var Ua="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fa(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Ua.length;s++)n=Ua[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Va(t){return Va[" "](t),t}Va[" "]=fa;var qa,Ba,za=Ra(Aa,"Opera"),Ha=Ra(Aa,"Trident")||Ra(Aa,"MSIE"),$a=Ra(Aa,"Edge"),Ga=$a||Ha,Wa=Ra(Aa,"Gecko")&&!(Ra(Aa.toLowerCase(),"webkit")&&!Ra(Aa,"Edge"))&&!(Ra(Aa,"Trident")||Ra(Aa,"MSIE"))&&!Ra(Aa,"Edge"),Ka=Ra(Aa.toLowerCase(),"webkit")&&!Ra(Aa,"Edge");function Qa(){var t=da.document;return t?t.documentMode:void 0}t:{var Ja="",Ya=(Ba=Aa,Wa?/rv:([^\);]+)(\)|;)/.exec(Ba):$a?/Edge\/([\d\.]+)/.exec(Ba):Ha?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ba):Ka?/WebKit\/(\S+)/.exec(Ba):za?/(?:Version)[ \/]?(\S+)/.exec(Ba):void 0);if(Ya&&(Ja=Ya?Ya[1]:""),Ha){var Xa=Qa();if(null!=Xa&&Xa>parseFloat(Ja)){qa=String(Xa);break t}}qa=Ja}var Za={};function tl(t){return function(t,e){var n=Za;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=ja(String(qa)).split("."),r=ja(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Pa(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Pa(0==o[2].length,0==a[2].length)||Pa(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var el=da.document&&Ha&&(Qa()||parseInt(qa,10))||void 0,nl=!Ha||9<=Number(el),rl=Ha&&!tl("9"),il=function(){if(!da.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{da.addEventListener("test",fa,e),da.removeEventListener("test",fa,e)}catch(n){}return t}();function sl(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ol(t,e){if(sl.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Wa){t:{try{Va(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:al[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}sl.prototype.b=function(){this.defaultPrevented=!0},Ca(ol,sl);var al={2:"touch",3:"pen",4:"mouse"};ol.prototype.b=function(){ol.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rl)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ll="closure_listenable_"+(1e6*Math.random()|0),ul=0;function cl(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ul,this.Y=this.Z=!1}function hl(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function dl(t){this.src=t,this.a={},this.b=0}function fl(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Sa(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(hl(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pl(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}dl.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=pl(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new cl(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var gl="closure_lm_"+(1e6*Math.random()|0),ml={};function bl(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=Sl(r),e&&e[ll]?e.wa(n,r,ga(i)?!!i.capture:!!i,s):yl(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)bl(t,e[s],n,r,i);return null}return n=Sl(n),t&&t[ll]?t.va(e,n,ga(r)?!!r.capture:!!r,i):yl(t,e,n,!1,r,i)}function yl(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ga(i)?!!i.capture:!!i;if(o&&!nl)return null;var a=Cl(t);if(a||(t[gl]=a=new dl(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=El,e=nl?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)il||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_l(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vl(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ll])fl(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_l(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Cl(e))?(fl(n,t),0==n.b&&(n.src=null,e[gl]=null)):hl(t)}}}function _l(t){return t in ml?ml[t]:ml[t]="on"+t}function wl(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&vl(t),n.call(r,e)}function El(t,e){if(t.Y)return!0;if(!nl){if(!e)t:{e=["window","event"];for(var n=da,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return wl(t,e=new ol(e,this))}return wl(t,new ol(e,this))}function Cl(t){return(t=t[gl])instanceof dl?t:null}var Ol="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sl(t){return"function"==typeof t?t:(t[Ol]||(t[Ol]=function(e){return t.handleEvent(e)}),t[Ol])}function Il(){Oa.call(this),this.c=new dl(this),this.J=this,this.C=null}function Tl(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new sl(e,t);else if(e instanceof sl)e.target=e.target||t;else{var i=e;Fa(e=new sl(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=kl(o,r,!0,e)&&i}if(i=kl(o=e.a=t,r,!0,e)&&i,i=kl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=kl(o=e.a=n[s],r,!1,e)&&i}function kl(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,l=o.ca||o.src;o.Z&&fl(t.c,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Ca(Il,Oa),Il.prototype[ll]=!0,(ua=Il.prototype).addEventListener=function(t,e,n,r){bl(this,t,e,n,r)},ua.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=ga(i)?!!i.capture:!!i,r=Sl(r),e&&e[ll]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=pl(o=e.a[n],r,i,s))&&(hl(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=Cl(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pl(n,r,i,s)),(r=-1<e?n[e]:null)&&vl(r))}(this,t,e,n,r)},ua.G=function(){if(Il.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)hl(n[r]);delete e.a[t],e.b--}}this.C=null},ua.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ua.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var xl=da.JSON.stringify;function Al(){this.b=this.a=null}var jl,Rl=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Nl}),(function(t){t.reset()}));function Pl(){var t=Ul,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Nl(){this.next=this.b=this.a=null}function Dl(t){da.setTimeout((function(){throw t}),0)}function Ml(t,e){jl||function(){var t=da.Promise.resolve(void 0);jl=function(){t.then(Fl)}}(),Ll||(jl(),Ll=!0),Ul.add(t,e)}Al.prototype.add=function(t,e){var n=Rl.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Nl.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Nl.prototype.reset=function(){this.next=this.b=this.a=null};var Ll=!1,Ul=new Al;function Fl(){for(var t;t=Pl();){try{t.a.call(t.b)}catch(n){Dl(n)}var e=Rl;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ll=!1}function Vl(t,e){Il.call(this),this.b=t||1,this.a=e||da,this.f=_a(this.Za,this),this.g=Ea()}function ql(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Bl(t,e,n){if("function"==typeof t)n&&(t=_a(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_a(t.handleEvent,t)}return 2147483647<Number(e)?-1:da.setTimeout(t,e||0)}function zl(t){t.a=Bl((function(){t.a=null,t.c&&(t.c=!1,zl(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ca(Vl,Il),(ua=Vl.prototype).aa=!1,ua.M=null,ua.Za=function(){if(this.aa){var t=Ea()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Tl(this,"tick"),this.aa&&(ql(this),this.start()))}},ua.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ea())},ua.G=function(){Vl.X.G.call(this),ql(this),delete this.a};var Hl=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}aa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:zl(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(da.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Oa);function $l(t){Oa.call(this),this.b=t,this.a={}}Ca($l,Oa);var Gl=[];function Wl(t,e,n,r){Array.isArray(n)||(n&&(Gl[0]=n.toString()),n=Gl);for(var i=0;i<n.length;i++){var s=bl(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Kl(t){Ma(t.a,(function(t,e){this.a.hasOwnProperty(e)&&vl(t)}),t),t.a={}}function Ql(){this.a=!0}function Jl(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return xl(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}$l.prototype.G=function(){$l.X.G.call(this),Kl(this)},$l.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ql.prototype.info=function(){};var Yl={},Xl=null;function Zl(){return Xl=Xl||new Il}function tu(t){sl.call(this,Yl.Fa,t)}function eu(t){var e=Zl();Tl(e,new tu(e,t))}function nu(t,e){sl.call(this,Yl.STAT_EVENT,t),this.stat=e}function ru(t){var e=Zl();Tl(e,new nu(e,t))}function iu(t){sl.call(this,Yl.Ga,t)}function su(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return da.setTimeout((function(){t()}),e)}Yl.Fa="serverreachability",Ca(tu,sl),Yl.STAT_EVENT="statevent",Ca(nu,sl),Yl.Ga="timingevent",Ca(iu,sl);var ou={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},au={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function lu(){}function uu(){}lu.prototype.a=null;var cu,hu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function du(){sl.call(this,"d")}function fu(){sl.call(this,"c")}function pu(){}function gu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new $l(this),this.P=mu,this.R=new Vl(t=Ga?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ca(du,sl),Ca(fu,sl),Ca(pu,lu),cu=new pu;var mu=45e3,bu={},yu={};function vu(t,e,n){t.H=1,t.i=qu(Du(e)),t.j=n,t.I=!0,_u(t,null)}function _u(t,e){t.u=Ea(),Cu(t),t.l=Du(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),tc(n.b,"t",r),t.D=0,t.a=Kc(t.g,t.g.C?e:null),0<t.O&&(t.F=new Hl(_a(t.Ca,t,t.a),t.O)),Wl(t.J,t.a,"readystatechange",t.Xa),e=t.B?La(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),eu(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function wu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Eu(t,n);if(i==yu){4==e&&(t.h=4,ru(14),r=!1),Jl(t.c,t.f,null,"[Incomplete Response]");break}if(i==bu){t.h=4,ru(15),Jl(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Jl(t.c,t.f,i,null),ku(t,i)}4==e&&0==n.length&&(t.h=1,ru(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vc(e),e.F=!0,ru(11))):(Jl(t.c,t.f,n,"[Invalid Chunked Response]"),Tu(t),Iu(t))}function Eu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?yu:(n=Number(e.substring(n,r)),isNaN(n)?bu:(r+=1)+n>e.length?yu:(e=e.substr(r,n),t.D=r+n,e))}function Cu(t){t.T=Ea()+t.P,Ou(t,t.P)}function Ou(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=su(_a(t.Va,t),e)}function Su(t){t.o&&(da.clearTimeout(t.o),t.o=null)}function Iu(t){0==t.g.v||t.A||zc(t.g,t)}function Tu(t){Su(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,ql(t.R),Kl(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ku(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ac(n.b,t)))if(n.I=t.N,!t.C&&ac(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(N_){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Bc(n),jc(n)}Fc(n),ru(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=su(_a(n.Sa,n),6e3));if(1>=oc(n.b)&&n.ea){try{n.ea()}catch(N_){}n.ea=void 0}}else $c(n,11)}else if((t.C||n.a==t)&&Bc(n),!xa(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var l=1.5*a;n.D=l,n.c.info("backChannelRequestTimeoutMs_="+l)}l=n;var u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=l.b;!h.a&&(Ra(c,"spdy")||Ra(c,"quic")||Ra(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(lc(h,h.b),h.b=null))}if(l.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(l.na=d,Vu(l.B,l.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ea()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((l=n).la=Wc(l,l.C?l.ga:null,l.fa),f.C){uc(l.b,f);var p=f,g=l.D;g&&p.setTimeout(g),p.o&&(Su(p),Cu(p)),l.a=f}else Uc(l);0<n.g.length&&Nc(n)}else"stop"!=i[0]&&"close"!=i[0]||$c(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?$c(n,7):Ac(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);eu(4)}catch(N_){}}function xu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(pa(t)||"string"==typeof t)Ia(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(pa(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(pa(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Au(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Au)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ju(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ru(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ru(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ru(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ua=gu.prototype).setTimeout=function(t){this.P=t},ua.Xa=function(t){t=t.target;var e=this.F;e&&3==Ic(t)?e.f():this.Ca(t)},ua.Ca=function(t){try{if(t==this.a)t:{var e=Ic(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ga&&!this.a.$())){this.A||4!=e||7==n||eu(8==n||0>=r?3:2),Su(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xa(o)){var l=o;break e}}l=null}if(!l){this.b=!1,this.h=3,ru(12),Tu(this),Iu(this);break t}Jl(this.c,this.f,l,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ku(this,l)}this.I?(wu(this,e,s),Ga&&this.b&&3==e&&(Wl(this.J,this.R,"tick",this.Wa),this.R.start())):(Jl(this.c,this.f,s,null),ku(this,s)),4==e&&Tu(this),this.b&&!this.A&&(4==e?zc(this.g,this):(this.b=!1,Cu(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,ru(12)):(this.h=0,ru(13)),Tu(this),Iu(this)}}}catch(u){}},ua.Wa=function(){if(this.a){var t=Ic(this.a),e=this.a.$();this.D<e.length&&(Su(this),wu(this,t,e),this.b&&4!=t&&Cu(this))}},ua.cancel=function(){this.A=!0,Tu(this)},ua.Va=function(){this.o=null;var t=Ea();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(eu(3),ru(17)),Tu(this),this.h=2,Iu(this)):Ou(this,this.T-t)},(ua=Au.prototype).K=function(){ju(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ua.L=function(){return ju(this),this.a.concat()},ua.get=function(t,e){return Ru(this.b,t)?this.b[t]:e},ua.set=function(t,e){Ru(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ua.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Pu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Nu){this.a=void 0!==e?e:t.a,Mu(this,t.f),this.j=t.j,Lu(this,t.c),Uu(this,t.h),this.g=t.g,e=t.b;var n=new Ju;n.c=e.c,e.a&&(n.a=new Au(e.a),n.b=e.b),Fu(this,n),this.i=t.i}else t&&(n=String(t).match(Pu))?(this.a=!!e,Mu(this,n[1]||"",!0),this.j=Bu(n[2]||""),Lu(this,n[3]||"",!0),Uu(this,n[4]),this.g=Bu(n[5]||"",!0),Fu(this,n[6]||"",!0),this.i=Bu(n[7]||"")):(this.a=!!e,this.b=new Ju(null,this.a))}function Du(t){return new Nu(t)}function Mu(t,e,n){t.f=n?Bu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Lu(t,e,n){t.c=n?Bu(e,!0):e}function Uu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Fu(t,e,n){e instanceof Ju?(t.b=e,function(t,e){e&&!t.f&&(Yu(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xu(this,e),tc(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=zu(e,Ku)),t.b=new Ju(e,t.a))}function Vu(t,e,n){t.b.set(e,n)}function qu(t){return Vu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ea()).toString(36)),t}function Bu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Hu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zu(e,$u,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(zu(e,$u,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(zu(n,"/"==n.charAt(0)?Wu:Gu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",zu(n,Qu)),t.join("")};var $u=/[#\/\?@]/g,Gu=/[#\?:]/g,Wu=/[#\?]/g,Ku=/[#\?@]/g,Qu=/#/g;function Ju(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yu(t){t.a||(t.a=new Au,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xu(t,e){Yu(t),e=ec(t,e),Ru(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ru((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ju(t)))}function Zu(t,e){return Yu(t),e=ec(t,e),Ru(t.a.b,e)}function tc(t,e,n){Xu(t,e),0<n.length&&(t.c=null,t.a.set(ec(t,e),ka(n)),t.b+=n.length)}function ec(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ua=Ju.prototype).add=function(t,e){Yu(this),this.c=null,t=ec(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ua.forEach=function(t,e){Yu(this),this.a.forEach((function(n,r){Ia(n,(function(n){t.call(e,n,r,this)}),this)}),this)},ua.L=function(){Yu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},ua.K=function(t){Yu(this);var e=[];if("string"==typeof t)Zu(this,t)&&(e=Ta(e,this.a.get(ec(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ta(e,t[n])}return e},ua.set=function(t,e){return Yu(this),this.c=null,Zu(this,t=ec(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ua.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ua.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var nc=function(){return function(t,e){this.b=t,this.a=e}}();function rc(t){this.g=t||ic,t=da.PerformanceNavigationTiming?0<(t=da.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(da.ia&&da.ia.ya&&da.ia.ya()&&da.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ic=10;function sc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function oc(t){return t.b?1:t.a?t.a.size:0}function ac(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function lc(t,e){t.a?t.a.add(e):t.b=e}function uc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function cc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=la(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ka(t.c)}function hc(){}function dc(){this.a=new hc}function fc(t,e,n){var r=n||"";try{xu(t,(function(t,n){var i=t;ga(t)&&(i=xl(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}rc.prototype.cancel=function(){var t,e;if(this.c=cc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=la(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},hc.prototype.stringify=function(t){return da.JSON.stringify(t,void 0)},hc.prototype.parse=function(t){return da.JSON.parse(t,void 0)};var gc=da.JSON.parse;function mc(t){Il.call(this),this.headers=new Au,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=bc,this.D=this.F=!1}Ca(mc,Il);var bc="",yc=/^https?$/i,vc=["POST","PUT"];function _c(t){return"content-type"==t.toLowerCase()}function wc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ec(t),Oc(t)}function Ec(t){t.u||(t.u=!0,Tl(t,"complete"),Tl(t,"error"))}function Cc(t){if(t.b&&void 0!==ha&&(!t.s[1]||4!=Ic(t)||2!=t.W()))if(t.l&&4==Ic(t))Bl(t.za,0,t);else if(Tl(t,"readystatechange"),4==Ic(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Pu)[1]||null;if(!s&&da.self&&da.self.location){var o=da.self.location.protocol;s=o.substr(0,o.length-1)}i=!yc.test(s?s.toLowerCase():"")}e=i}if(e)Tl(t,"complete"),Tl(t,"success");else{t.h=6;try{var a=2<Ic(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ec(t)}}finally{Oc(t)}}}function Oc(t,e){if(t.a){Sc(t);var n=t.a,r=t.s[0]?fa:null;t.a=null,t.s=null,e||Tl(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Sc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(da.clearTimeout(t.m),t.m=null)}function Ic(t){return t.a?t.a.readyState:0}function Tc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ma(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Vu(t,e,n))}function kc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xc(t){this.pa=0,this.g=[],this.c=new Ql,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=kc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=kc("baseRetryDelayMs",5e3,t),this.Ra=kc("retryDelaySeedMs",1e4,t),this.Ma=kc("forwardChannelMaxRetries",2,t),this.ma=kc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new rc(t&&t.concurrentRequestLimit),this.ka=new dc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ac(t){if(Rc(t),3==t.v){var e=t.R++,n=Du(t.B);Vu(n,"SID",t.J),Vu(n,"RID",e),Vu(n,"TYPE","terminate"),Mc(t,n),(e=new gu(t,t.c,e,void 0)).H=2,e.i=qu(Du(n)),n=!1,da.navigator&&da.navigator.sendBeacon&&(n=da.navigator.sendBeacon(e.i.toString(),"")),!n&&da.Image&&((new Image).src=e.i,n=!0),n||(e.a=Kc(e.g,null),e.a.ba(e.i)),e.u=Ea(),Cu(e)}Gc(t)}function jc(t){t.a&&(Vc(t),t.a.cancel(),t.a=null)}function Rc(t){jc(t),t.j&&(da.clearTimeout(t.j),t.j=null),Bc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&da.clearTimeout(t.h),t.h=null)}function Pc(t,e){t.g.push(new nc(t.Oa++,e)),3==t.v&&Nc(t)}function Nc(t){sc(t.b)||t.h||(t.h=!0,Ml(t.Ba,t),t.u=0)}function Dc(t,e){var n;n=e?e.f:t.R++;var r=Du(t.B);Vu(r,"SID",t.J),Vu(r,"RID",n),Vu(r,"AID",t.P),Mc(t,r),t.i&&t.l&&Tc(r,t.i,t.l),n=new gu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Lc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),lc(t.b,n),vu(n,r,e)}function Mc(t,e){t.f&&xu({},(function(t,n){Vu(e,n,t)}))}function Lc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?_a(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,l=0;l<n;l++){var u=i[l].b,c=i[l].a;if(0>(u-=s))s=Math.max(0,i[l].b-100),a=!1;else try{fc(c,o,"req"+u+"_")}catch(Th){r&&r(c)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Uc(t){t.a||t.j||(t.T=1,Ml(t.Aa,t),t.o=0)}function Fc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=su(_a(t.Aa,t),Hc(t,t.o)),t.o++,0))}function Vc(t){null!=t.s&&(da.clearTimeout(t.s),t.s=null)}function qc(t){t.a=new gu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Du(t.la);Vu(e,"RID","rpc"),Vu(e,"SID",t.J),Vu(e,"CI",t.H?"0":"1"),Vu(e,"AID",t.P),Mc(t,e),Vu(e,"TYPE","xmlhttp"),t.i&&t.l&&Tc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=qu(Du(e)),n.j=null,n.I=!0,_u(n,t)}function Bc(t){null!=t.m&&(da.clearTimeout(t.m),t.m=null)}function zc(t,e){var n=null;if(t.a==e){Bc(t),Vc(t),t.a=null;var r=2}else{if(!ac(t.b,e))return;n=e.s,uc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ea()-e.u;var i=t.u;Tl(r=Zl(),new iu(r,n,e,i)),Nc(t)}else Uc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(oc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=su(_a(t.Ba,t,e),Hc(t,t.u)),t.u++,0)))}(t,e)||2==r&&Fc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:$c(t,5);break;case 4:$c(t,10);break;case 3:$c(t,6);break;default:$c(t,2)}}function Hc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function $c(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=_a(t.Ya,t);n||(n=new Nu("//www.google.com/images/cleardot.gif"),da.location&&"http"==da.location.protocol||Mu(n,"https"),qu(n)),function(t,e){var n=new Ql;if(da.Image){var r=new Image;r.onload=wa(pc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=wa(pc,n,r,"TestLoadImage: error",!1,e),r.onabort=wa(pc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=wa(pc,n,r,"TestLoadImage: timeout",!1,e),da.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ru(2);t.v=0,t.f&&t.f.ra(e),Gc(t),Rc(t)}function Gc(t){t.v=0,t.I=-1,t.f&&(0==cc(t.b).length&&0==t.g.length||(t.b.c.length=0,ka(t.g),t.g.length=0),t.f.qa())}function Wc(t,e,n){var r=function(t){return t instanceof Nu?Du(t):new Nu(t,void 0)}(n);if(""!=r.c)e&&Lu(r,e+"."+r.c),Uu(r,r.h);else{var i=da.location;r=function(t,e,n,r){var i=new Nu(null,void 0);return t&&Mu(i,t),e&&Lu(i,e),n&&Uu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ma(t.V,(function(t,e){Vu(r,e,t)})),n=t.na,(e=t.A)&&n&&Vu(r,e,n),Vu(r,"VER",t.ha),Mc(t,r),r}function Kc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mc(t.Na)).F=t.C,e}function Qc(){}function Jc(){if(Ha&&!(10<=Number(el)))throw Error("Environmental error: no available transport.")}function Yc(t,e){Il.call(this),this.a=new xc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!xa(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xa(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new th(this)}function Xc(t){du.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Zc(){fu.call(this),this.status=1}function th(t){this.a=t}(ua=mc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:cu),this.a.onreadystatechange=_a(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void wc(this,s)}t=n||"";var i=new Au(this.headers);r&&xu(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=_c,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=da.FormData&&t instanceof da.FormData,!(0<=Sa(vc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Sc(this),0<this.o&&((this.D=function(t){return Ha&&tl(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_a(this.xa,this)):this.m=Bl(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){wc(this,s)}},ua.xa=function(){void 0!==ha&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Tl(this,"timeout"),this.abort(8))},ua.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Tl(this,"complete"),Tl(this,"abort"),Oc(this))},ua.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Oc(this,!0)),mc.X.G.call(this)},ua.za=function(){this.j||(this.A||this.l||this.g?Cc(this):this.Ua())},ua.Ua=function(){Cc(this)},ua.W=function(){try{return 2<Ic(this)?this.a.status:-1}catch(Ba){return-1}},ua.$=function(){try{return this.a?this.a.responseText:""}catch(Ba){return""}},ua.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),gc(e)}},ua.ua=function(){return this.h},ua.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ua=xc.prototype).ha=8,ua.v=1,ua.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new gu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Fa(r=La(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Lc(this,n,e),Vu(i=Du(this.B),"RID",t),Vu(i,"CVER",22),this.A&&Vu(i,"X-HTTP-Session-Id",this.A),Mc(this,i),this.i&&r&&Tc(i,this.i,r),lc(this.b,n),this.Ia&&Vu(i,"TYPE","init"),this.da?(Vu(i,"$req",e),Vu(i,"SID","null"),n.U=!0,vu(n,i,null)):vu(n,i,e),this.v=2}}else 3==this.v&&(t?Dc(this,t):0==this.g.length||sc(this.b)||Dc(this))},ua.Aa=function(){if(this.j=null,qc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=su(_a(this.Ta,this),t)}},ua.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ru(10),jc(this),qc(this))},ua.Sa=function(){null!=this.m&&(this.m=null,jc(this),Fc(this),ru(19))},ua.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ru(2)):(this.c.info("Failed to ping google.com"),ru(1))},(ua=Qc.prototype).ta=function(){},ua.sa=function(){},ua.ra=function(){},ua.qa=function(){},ua.Ja=function(){},Jc.prototype.a=function(t,e){return new Yc(t,e)},Ca(Yc,Il),Yc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ru(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Wc(t,null,t.fa),Nc(t)},Yc.prototype.close=function(){Ac(this.a)},Yc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Pc(this.a,e)}else this.l?((e={}).__data__=xl(t),Pc(this.a,e)):Pc(this.a,t)},Yc.prototype.G=function(){this.a.f=null,delete this.f,Ac(this.a),delete this.a,Yc.X.G.call(this)},Ca(Xc,du),Ca(Zc,fu),Ca(th,Qc),th.prototype.ta=function(){Tl(this.a,"a")},th.prototype.sa=function(t){Tl(this.a,new Xc(t))},th.prototype.ra=function(t){Tl(this.a,new Zc(t))},th.prototype.qa=function(){Tl(this.a,"b")},Jc.prototype.createWebChannel=Jc.prototype.a,Yc.prototype.send=Yc.prototype.h,Yc.prototype.open=Yc.prototype.g,Yc.prototype.close=Yc.prototype.close,ou.NO_ERROR=0,ou.TIMEOUT=8,ou.HTTP_ERROR=6,au.COMPLETE="complete",uu.EventType=hu,hu.OPEN="a",hu.CLOSE="b",hu.ERROR="c",hu.MESSAGE="d",Il.prototype.listen=Il.prototype.va,mc.prototype.listenOnce=mc.prototype.wa,mc.prototype.getLastError=mc.prototype.Qa,mc.prototype.getLastErrorCode=mc.prototype.ua,mc.prototype.getStatus=mc.prototype.W,mc.prototype.getResponseJson=mc.prototype.Pa,mc.prototype.getResponseText=mc.prototype.$,mc.prototype.send=mc.prototype.ba;var eh=ou,nh=au,rh=Yl,ih=uu,sh=mc,oh=n("/6Yf"),ah=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},lh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),uh=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();uh.UNAUTHENTICATED=new uh(null),uh.l=new uh("google-credentials-uid"),uh._=new uh("first-party-uid");var ch=new sa.b("@firebase/firestore");function hh(){return ch.logLevel}function dh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ch.logLevel<=sa.a.DEBUG){var r=e.map(gh);ch.debug.apply(ch,Object(ra.g)(["Firestore (8.1.1): "+t],r))}}function fh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ch.logLevel<=sa.a.ERROR){var r=e.map(gh);ch.error.apply(ch,Object(ra.g)(["Firestore (8.1.1): "+t],r))}}function ph(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ch.logLevel<=sa.a.WARN){var r=e.map(gh);ch.warn.apply(ch,Object(ra.g)(["Firestore (8.1.1): "+t],r))}}function gh(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function mh(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.1) INTERNAL ASSERTION FAILED: "+t;throw fh(e),new Error(e)}function bh(t,e){t||mh()}function yh(t,e){return t}var vh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_h=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(ra.c)(e,t),e}(Error),wh=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},Eh=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(uh.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),Ch=function(){function t(t){var e=this;this.P=null,this.currentUser=uh.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then((function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.V!==e?(dh("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(bh("string"==typeof n.accessToken),new wh(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return bh(null===t||"string"==typeof t),new uh(t)},t}(),Oh=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=uh._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Sh=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new Oh(this.v,this.S))},t.prototype.A=function(t){t(uh._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function Ih(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Th=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ih(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function kh(t,e){return t<e?-1:t>e?1:0}function xh(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ah(t){return t+"\0"}var jh=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _h(vh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _h(vh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _h(vh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _h(vh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?kh(this.nanoseconds,t.nanoseconds):kh(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Rh=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new jh(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),Ph=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&mh(),void 0===n?n=t.length-e:n>t.length-e&&mh(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Nh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ra.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new _h(vh.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.X=function(){return new e([])},e}(Ph),Dh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ra.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return Dh.test(t)},e.prototype.J=function(){return this.H().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.Z(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new _h(vh.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new _h(vh.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new _h(vh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new _h(vh.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(Ph),Lh=function(){function t(t){this.path=t}return t.st=function(e){return new t(Nh.Y(e))},t.it=function(e){return new t(Nh.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Nh.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return Nh.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new Nh(e.slice()))},t}();function Uh(t){return null==t}function Fh(t){return 0===t&&1/t==-1/0}function Vh(t){return"number"==typeof t&&Number.isInteger(t)&&!Fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var qh=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ut=null};function Bh(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new qh(t,e,n,r,i,s,o)}function zh(t){var e=yh(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.J()+t.op.toString()+Ld(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.J()+t.dir}(t)})).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Up(e.startAt)),e.endAt&&(n+="|ub:",n+=Up(e.endAt)),e.ut=n}return e.ut}function Hh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!zp(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Pd(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vp(t.startAt,e.startAt)&&Vp(t.endAt,e.endAt)}function $h(t){return Lh.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Gh=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return kh(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();Gh.lt=new Gh("");var Wh,Kh,Qh=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Rh.min()),void 0===s&&(s=Rh.min()),void 0===o&&(o=Gh.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),Jh=function(t){this.count=t};function Yh(t){switch(t){case vh.OK:return mh();case vh.CANCELLED:case vh.UNKNOWN:case vh.DEADLINE_EXCEEDED:case vh.RESOURCE_EXHAUSTED:case vh.INTERNAL:case vh.UNAVAILABLE:case vh.UNAUTHENTICATED:return!1;case vh.INVALID_ARGUMENT:case vh.NOT_FOUND:case vh.ALREADY_EXISTS:case vh.PERMISSION_DENIED:case vh.FAILED_PRECONDITION:case vh.ABORTED:case vh.OUT_OF_RANGE:case vh.UNIMPLEMENTED:case vh.DATA_LOSS:return!0;default:return mh()}}function Xh(t){if(void 0===t)return fh("GRPC error has no .code"),vh.UNKNOWN;switch(t){case Wh.OK:return vh.OK;case Wh.CANCELLED:return vh.CANCELLED;case Wh.UNKNOWN:return vh.UNKNOWN;case Wh.DEADLINE_EXCEEDED:return vh.DEADLINE_EXCEEDED;case Wh.RESOURCE_EXHAUSTED:return vh.RESOURCE_EXHAUSTED;case Wh.INTERNAL:return vh.INTERNAL;case Wh.UNAVAILABLE:return vh.UNAVAILABLE;case Wh.UNAUTHENTICATED:return vh.UNAUTHENTICATED;case Wh.INVALID_ARGUMENT:return vh.INVALID_ARGUMENT;case Wh.NOT_FOUND:return vh.NOT_FOUND;case Wh.ALREADY_EXISTS:return vh.ALREADY_EXISTS;case Wh.PERMISSION_DENIED:return vh.PERMISSION_DENIED;case Wh.FAILED_PRECONDITION:return vh.FAILED_PRECONDITION;case Wh.ABORTED:return vh.ABORTED;case Wh.OUT_OF_RANGE:return vh.OUT_OF_RANGE;case Wh.UNIMPLEMENTED:return vh.UNIMPLEMENTED;case Wh.DATA_LOSS:return vh.DATA_LOSS;default:return mh()}}(Kh=Wh||(Wh={}))[Kh.OK=0]="OK",Kh[Kh.CANCELLED=1]="CANCELLED",Kh[Kh.UNKNOWN=2]="UNKNOWN",Kh[Kh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kh[Kh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kh[Kh.NOT_FOUND=5]="NOT_FOUND",Kh[Kh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kh[Kh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kh[Kh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kh[Kh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kh[Kh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kh[Kh.ABORTED=10]="ABORTED",Kh[Kh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kh[Kh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kh[Kh.INTERNAL=13]="INTERNAL",Kh[Kh.UNAVAILABLE=14]="UNAVAILABLE",Kh[Kh.DATA_LOSS=15]="DATA_LOSS";var Zh=function(){function t(t,e){this.$=t,this.root=e||ed.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,ed.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,ed.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new td(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new td(this.root,t,this.$,!1)},t.prototype.vt=function(){return new td(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new td(this.root,t,this.$,!0)},t}(),td=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),ed=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw mh();if(this.right.Mt())throw mh();var t=this.left.Qt();if(t!==this.right.Qt())throw mh();return t+(this.Mt()?0:1)},t}();ed.EMPTY=null,ed.RED=!0,ed.It=!1,ed.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw mh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw mh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw mh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw mh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw mh()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new ed(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var nd=function(){function t(t){this.$=t,this.data=new Zh(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt((function(e,n){return t(e),!1}))},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new rd(this.data.yt())},t.prototype.Vt=function(t){return new rd(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(0!==this.$(i,s))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),rd=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),id=new Zh(Lh.$);function sd(){return id}function od(){return sd()}var ad=new Zh(Lh.$);function ld(){return ad}var ud=new Zh(Lh.$),cd=new nd(Lh.$);function hd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=cd,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var dd=new nd(kh);function fd(){return dd}var pd=function(){function t(t){this.$=t?function(e,n){return t(e,n)||Lh.$(e.key,n.key)}:function(t,e){return Lh.$(t.key,e.key)},this.Ht=ld(),this.Jt=new Zh(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),gd=function(){function t(){this.Xt=new Zh(Lh.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):mh():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt((function(e,n){t.push(n)})),t},t}(),md=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=s,this.ne=o,this.se=a}return t.ie=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,pd.Yt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&Cp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),bd=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,yd.he(e,n)),new t(Rh.min(),r,fd(),sd(),hd())},t}(),yd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(Gh.lt,n,hd(),hd(),hd())},t}(),vd=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},_d=function(t,e){this.targetId=t,this.Te=e},wd=function(t,e,n,r){void 0===n&&(n=Gh.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ed=function(){function t(){this.Ie=0,this.me=Sd(),this.Ae=Gh.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=hd(),e=hd(),n=hd();return this.me.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:mh()}})),new yd(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=Sd()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),Cd=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=sd(),this.Me=Od(),this.ke=new nd(kh)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof up?this.Le(r,t.Ee):t.Ee instanceof cp&&this.Be(r,t.key,t.Ee)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Be(s[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,(function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:mh()}}))},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach((function(t,r){n.Ke(r)&&e(r)}))},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if($h(i))if(0===n){var s=new Lh(i.path);this.Be(e,s,new cp(s,Rh.min()))}else bh(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach((function(r,i){var s=e.Ge(i);if(s){if(r.le&&$h(s.target)){var o=new Lh(s.target.path);null!==e.Oe.get(o)||e.Je(i,o)||e.Be(i,o,new cp(o,t))}r.ye&&(n.set(i,r.pe()),r.ve())}}));var r=hd();this.Me.forEach((function(t,n){var i=!0;n.Wt((function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new bd(t,n,this.ke,this.Oe,r);return this.Oe=sd(),this.Me=Od(),this.ke=new nd(kh),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new Ed,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new nd(kh),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||dh("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new Ed),this.xe.Xe(t).forEach((function(n){e.Be(t,n,null)}))},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function Od(){return new Zh(Lh.$)}function Sd(){return new Zh(Lh.$)}function Id(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Td(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kd(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xd(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ad(t){var e=Ud(t.mapValue.fields.__local_write_time__.timestampValue);return new jh(e.seconds,e.nanos)}var jd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xd(t)?4:10:mh()}function Pd(t,e){var n=Rd(t);if(n!==Rd(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ad(t).isEqual(Ad(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ud(t.timestampValue),r=Ud(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Vd(t.bytesValue).isEqual(Vd(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Fd(t.geoPointValue.latitude)===Fd(e.geoPointValue.latitude)&&Fd(t.geoPointValue.longitude)===Fd(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Fd(t.integerValue)===Fd(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Fd(t.doubleValue),r=Fd(e.doubleValue);return n===r?Fh(n)===Fh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return xh(t.arrayValue.values||[],e.arrayValue.values||[],Pd);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Id(n)!==Id(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pd(n[i],r[i])))return!1;return!0}(t,e);default:return mh()}}function Nd(t,e){return void 0!==(t.values||[]).find((function(t){return Pd(t,e)}))}function Dd(t,e){var n=Rd(t),r=Rd(e);if(n!==r)return kh(n,r);switch(n){case 0:return 0;case 1:return kh(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Fd(t.integerValue||t.doubleValue),r=Fd(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Md(t.timestampValue,e.timestampValue);case 4:return Md(Ad(t),Ad(e));case 5:return kh(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Vd(t),r=Vd(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=kh(n[i],r[i]);if(0!==s)return s}return kh(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=kh(Fd(t.latitude),Fd(e.latitude));return 0!==n?n:kh(Fd(t.longitude),Fd(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Dd(n[i],r[i]);if(s)return s}return kh(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=kh(r[o],s[o]);if(0!==a)return a;var l=Dd(n[r[o]],i[s[o]]);if(0!==l)return l}return kh(r.length,s.length)}(t.mapValue,e.mapValue);default:throw mh()}}function Md(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return kh(t,e);var n=Ud(t),r=Ud(e),i=kh(n.seconds,r.seconds);return 0!==i?i:kh(n.nanos,r.nanos)}function Ld(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Ud(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vd(e.bytesValue).toBase64():"referenceValue"in e?Lh.it(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):mh();var n}(t)}function Ud(t){if(bh(!!t),"string"==typeof t){var e=0,n=jd.exec(t);if(bh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Fd(t.seconds),nanos:Fd(t.nanos)}}function Fd(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Vd(t){return"string"==typeof t?Gh.fromBase64String(t):Gh.fromUint8Array(t)}function qd(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function Bd(t){return!!t&&"integerValue"in t}function zd(t){return!!t&&"arrayValue"in t}function Hd(t){return!!t&&"nullValue"in t}function $d(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gd(t){return!!t&&"mapValue"in t}var Wd={asc:"ASCENDING",desc:"DESCENDING"},Kd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qd=function(t,e){this.t=t,this.tn=e};function Jd(t){return{integerValue:""+t}}function Yd(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function Xd(t,e){return Vh(e)?Jd(e):Yd(t,e)}function Zd(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function tf(t,e){return t.tn?e.toBase64():e.toUint8Array()}function ef(t,e){return Zd(t,e.M())}function nf(t){return bh(!!t),Rh.N(function(t){var e=Ud(t);return new jh(e.seconds,e.nanos)}(t))}function rf(t,e){return function(t){return new Nh(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function sf(t){var e=Nh.Y(t);return bh(Tf(e)),e}function of(t,e){return rf(t.t,e.path)}function af(t,e){var n=sf(e);if(n.get(1)!==t.t.projectId)throw new _h(vh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new _h(vh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Lh(hf(n))}function lf(t,e){return rf(t.t,e)}function uf(t){var e=sf(t);return 4===e.length?Nh.X():hf(e)}function cf(t){return new Nh(["projects",t.t.projectId,"databases",t.t.database]).J()}function hf(t){return bh(t.length>4&&"documents"===t.get(4)),t.B(5)}function df(t,e,n){return{name:of(t,e),fields:n.proto.mapValue.fields}}function ff(t,e){var n;if(e instanceof Yf)n={update:df(t,e.key,e.value)};else if(e instanceof rp)n={delete:of(t,e.key)};else if(e instanceof Xf)n={update:df(t,e.key,e.data),updateMask:If(e.en)};else if(e instanceof tp)n={transform:{document:of(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Rf)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof Pf)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof Df)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof Lf)return{fieldPath:e.field.J(),increment:n.nn};throw mh()}(0,t)}))}};else{if(!(e instanceof ip))return mh();n={verify:of(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ef(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:mh()}(t,e.rn)),n}function pf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?zf.updateTime(nf(t.updateTime)):void 0!==t.exists?zf.exists(t.exists):zf.on()}(e.currentDocument):zf.on();if(e.update){var r=af(t,e.update.name),i=new sp({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Vf((t.fieldPaths||[]).map((function(t){return Mh.nt(t)})))}(e.updateMask);return new Xf(r,i,s,n)}return new Yf(r,i,n)}if(e.delete){var o=af(t,e.delete);return new rp(o,n)}if(e.transform){var a=af(t,e.transform.document),l=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(bh("REQUEST_TIME"===e.setToServerValue),n=new Rf):"appendMissingElements"in e?n=new Pf(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Df(e.removeAllFromArray.values||[]):"increment"in e?n=new Lf(t,e.increment):mh();var r=Mh.nt(e.fieldPath);return new qf(r,n)}(t,e)}));return bh(!0===n.exists),new tp(a,l)}if(e.verify){var u=af(t,e.verify);return new ip(u,n)}return mh()}function gf(t,e){return{documents:[lf(t,e.path)]}}function mf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=lf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=lf(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if($d(t.value))return{unaryFilter:{field:Ef(t.field),op:"IS_NAN"}};if(Hd(t.value))return{unaryFilter:{field:Ef(t.field),op:"IS_NULL"}}}else if("!="===t.op){if($d(t.value))return{unaryFilter:{field:Ef(t.field),op:"IS_NOT_NAN"}};if(Hd(t.value))return{unaryFilter:{field:Ef(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ef(t.field),op:wf(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Ef(t.field),direction:_f(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.tn||Uh(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=yf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=yf(e.endAt)),n}function bf(t){var e=uf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){bh(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Sf(e)]:void 0!==e.fieldFilter?[Of(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):mh():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new qp(Cf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var l=null;n.limit&&(l=function(t){var e;return Uh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=vf(n.startAt));var c=null;return n.endAt&&(c=vf(n.endAt)),fp(e,i,a,o,l,"F",u,c)}function yf(t){return{before:t.before,values:t.position}}function vf(t){return new Lp(t.values||[],!!t.before)}function _f(t){return Wd[t]}function wf(t){return Kd[t]}function Ef(t){return{fieldPath:t.J()}}function Cf(t){return Mh.nt(t.fieldPath)}function Of(t){return kp.create(Cf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return mh()}}(t.fieldFilter.op),t.fieldFilter.value)}function Sf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Cf(t.unaryFilter.field);return kp.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Cf(t.unaryFilter.field);return kp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Cf(t.unaryFilter.field);return kp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Cf(t.unaryFilter.field);return kp.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return mh()}}function If(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}}function Tf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var kf=function(){this.cn=void 0};function xf(t,e,n){return t instanceof Rf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Pf?Nf(t,e):t instanceof Df?Mf(t,e):function(t,e){var n=jf(t,e),r=Uf(n)+Uf(t.nn);return Bd(n)&&Bd(t.nn)?Jd(r):Yd(t.serializer,r)}(t,e)}function Af(t,e,n){return t instanceof Pf?Nf(t,e):t instanceof Df?Mf(t,e):n}function jf(t,e){return t instanceof Lf?Bd(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Rf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ra.c)(e,t),e}(kf),Pf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ra.c)(e,t),e}(kf);function Nf(t,e){for(var n=Ff(e),r=function(t){n.some((function(e){return Pd(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Df=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ra.c)(e,t),e}(kf);function Mf(t,e){for(var n=Ff(e),r=function(t){n=n.filter((function(e){return!Pd(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Lf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(ra.c)(e,t),e}(kf);function Uf(t){return Fd(t.integerValue||t.doubleValue)}function Ff(t){return zd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Vf=function(){function t(t){this.fields=t,t.sort(Mh.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return xh(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),qf=function(t,e){this.field=t,this.transform=e},Bf=function(t,e){this.version=t,this.transformResults=e},zf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Hf(t,e){return void 0!==t.updateTime?e instanceof up&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof up}var $f=function(){};function Gf(t,e,n){return t instanceof Yf?function(t,e,n){return new up(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Xf?function(t,e,n){if(!Hf(t.rn,e))return new hp(t.key,n.version);var r=Zf(t,e);return new up(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof tp?function(t,e,n){if(bh(null!=n.transformResults),!Hf(t.rn,e))return new hp(t.key,n.version);var r=ep(0,e),i=function(t,e,n){var r=[];bh(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof up&&(a=e.field(s.field)),r.push(Af(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=np(t,r.data(),i);return new up(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new cp(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Wf(t,e,n,r){return t instanceof Yf?function(t,e){if(!Hf(t.rn,e))return e;var n=Jf(e);return new up(t.key,n,t.value,{an:!0})}(t,e):t instanceof Xf?function(t,e){if(!Hf(t.rn,e))return e;var n=Jf(e),r=Zf(t,e);return new up(t.key,n,r,{an:!0})}(t,e):t instanceof tp?function(t,e,n,r){if(!Hf(t.rn,e))return e;var i=ep(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],l=a.transform,u=null;n instanceof up&&(u=n.field(a.field)),null===u&&r instanceof up&&(u=r.field(a.field)),i.push(xf(l,u,e))}return i}(t.fieldTransforms,n,e,r),o=np(t,i.data(),s);return new up(t.key,i.version,o,{an:!0})}(t,e,r,n):function(t,e){return Hf(t.rn,e)?new cp(t.key,Rh.min()):e}(t,e)}function Kf(t,e){return t instanceof tp?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof up?e.field(s.field):void 0,a=jf(s.transform,o||null);null!=a&&(n=null==n?(new op).set(s.field,a):n.set(s.field,a))}return n?n.hn():null}(t,e):null}function Qf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||xh(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Pf&&e instanceof Pf||t instanceof Df&&e instanceof Df?xh(t.elements,e.elements,Pd):t instanceof Lf&&e instanceof Lf?Pd(t.nn,e.nn):t instanceof Rf&&e instanceof Rf}(t.transform,e.transform)}(t,e)})))}function Jf(t){return t instanceof up?t.version:Rh.min()}var Yf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(ra.c)(e,t),e}($f),Xf=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.en=r,s.rn=i,s.type=1,s}return Object(ra.c)(e,t),e}($f);function Zf(t,e){return function(t,e){var n=new op(e);return t.en.fields.forEach((function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.hn()}(t,e instanceof up?e.data():sp.empty())}var tp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=zf.exists(!0),r}return Object(ra.c)(e,t),e}($f);function ep(t,e){return e}function np(t,e,n){for(var r=new op(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var rp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(ra.c)(e,t),e}($f),ip=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(ra.c)(e,t),e}($f),sp=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Gd(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return Pd(this.proto,t.proto)},t}(),op=function(){function t(t){void 0===t&&(t=sp.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Rd(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(Mh.X(),this._n);return null!=t?new sp(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),s=Gd(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.dn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function ap(t){var e=[];return Td(t.fields||{},(function(t,n){var r=new Mh([t]);if(Gd(n)){var i=ap(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new Vf(e)}var lp=function(t,e){this.key=t,this.version=e},up=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).wn=r,s.an=!!i.an,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(ra.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(lp),cp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(ra.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(lp),hp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ra.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(lp),dp=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.In=null,this.mn=null};function fp(t,e,n,r,i,s,o,a){return new dp(t,e,n,r,i,s,o,a)}function pp(t){return new dp(t)}function gp(t){return!Uh(t.limit)&&"F"===t.limitType}function mp(t){return!Uh(t.limit)&&"L"===t.limitType}function bp(t){return t.Tn.length>0?t.Tn[0].field:null}function yp(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function vp(t){return null!==t.collectionGroup}function _p(t){var e=yh(t);if(null===e.In){e.In=[];var n=yp(e),r=bp(e);if(null!==n&&null===r)n.tt()||e.In.push(new qp(n)),e.In.push(new qp(Mh.et(),"asc"));else{for(var i=!1,s=0,o=e.Tn;s<o.length;s++){var a=o[s];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var l=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new qp(Mh.et(),l))}}}return e.In}function wp(t){var e=yh(t);if(!e.mn)if("F"===e.limitType)e.mn=Bh(e.path,e.collectionGroup,_p(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=_p(e);r<i.length;r++){var s=i[r];n.push(new qp(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Lp(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Lp(e.startAt.position,!e.startAt.before):null;e.mn=Bh(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.mn}function Ep(t,e,n){return new dp(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cp(t,e){return Hh(wp(t),wp(e))&&t.limitType===e.limitType}function Op(t){return zh(wp(t))+"|lt:"+t.limitType}function Sp(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.J()+" "+e.op+" "+Ld(e.value);var e})).join(", ")+"]"),Uh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Up(t.startAt)),t.endAt&&(e+=", endAt: "+Up(t.endAt)),"Target("+e+")"}(wp(t))+"; limitType="+t.limitType+")"}function Ip(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):Lh.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Fp(t.startAt,_p(t),e)||t.endAt&&Fp(t.endAt,_p(t),e))}(t,e)}function Tp(t){return function(e,n){for(var r=!1,i=0,s=_p(t);i<s.length;i++){var o=s[i],a=Bp(o,e,n);if(0!==a)return a;r=r||o.field.tt()}return 0}}var kp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(ra.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new xp(t,n,r):"array-contains"===n?new Pp(t,r):"in"===n?new Np(t,r):"not-in"===n?new Dp(t,r):"array-contains-any"===n?new Mp(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new Ap(t,n):new jp(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(Dd(e,this.value)):null!==e&&Rd(this.value)===Rd(e)&&this.Pn(Dd(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return mh()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),xp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Lh.it(r.referenceValue),i}return Object(ra.c)(e,t),e.prototype.matches=function(t){var e=Lh.$(t.key,this.key);return this.Pn(e)},e}(kp),Ap=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Rp(0,n),r}return Object(ra.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(kp),jp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Rp(0,n),r}return Object(ra.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(kp);function Rp(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Lh.it(t.referenceValue)}))}var Pp=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(ra.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return zd(e)&&Nd(e.arrayValue,this.value)},e}(kp),Np=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(ra.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Nd(this.value.arrayValue,e)},e}(kp),Dp=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(ra.c)(e,t),e.prototype.matches=function(t){if(Nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Nd(this.value.arrayValue,e)},e}(kp),Mp=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(ra.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!zd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Nd(e.value.arrayValue,t)}))},e}(kp),Lp=function(t,e){this.position=t,this.before=e};function Up(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Ld(t)})).join(",")}function Fp(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.tt()?Lh.$(Lh.it(o.referenceValue),n.key):Dd(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Vp(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Pd(t.position[n],e.position[n]))return!1;return!0}var qp=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Bp(t,e,n){var r=t.field.tt()?Lh.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Dd(r,i):mh()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return mh()}}function zp(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Hp=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Gf(s,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Wf(i,e,e,this.gn))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var l=a[o];l.key.isEqual(t)&&(e=Wf(l,e,s,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),hd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&xh(this.mutations,t.mutations,(function(t,e){return Qf(t,e)}))&&xh(this.baseMutations,t.baseMutations,(function(t,e){return Qf(t,e)}))},t}(),$p=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){bh(e.mutations.length===r.length);for(var i=ud,s=e.mutations,o=0;o<s.length;o++)i=i.Tt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Gp=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.Cn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Td(this.Nn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.W=function(){return kd(this.Nn)},t}(),Wp=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t((function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)}),(function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&mh(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t((function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}}))},t.prototype.Ln=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn((function(){return e(n)})):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.qn=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.qn(r)},t}(),Kp=function(){function t(){this.Qn=new Gp((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:Rh.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?Wp.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),Qp=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function Jp(t){return new Qd(t,!0)}function Yp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var Xp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zp=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach((function(t){return t()}))},t}(),tg=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next((function(r){return n.hs(t,e,r)}))},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t}))},t.prototype.ls=function(t,e,n){var r=od();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].pn(t,e);r=r.Tt(t,e)})),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next((function(e){return n.fs(t,e)}))},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next((function(r){var i=n.ls(t,e,r),s=sd();return i.forEach((function(t,e){e||(e=new cp(t,Rh.min())),s=s.Tt(t,e)})),s}))},t.prototype.ws=function(t,e,n){return function(t){return Lh.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):vp(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new Lh(e)).next((function(t){var e=ld();return t instanceof up&&(e=e.Tt(t.key,t)),e}))},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,s=ld();return this.os.As(t,i).next((function(o){return Wp.forEach(o,(function(o){var a=function(t,e){return new dp(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Is(t,a,n).next((function(t){t.forEach((function(t,e){s=s.Tt(t,e)}))}))})).next((function(){return s}))}))},t.prototype.Is=function(t,e,n){var r,i,s=this;return this.ss.ws(t,e,n).next((function(n){return r=n,s.rs.Rs(t,e)})).next((function(e){return s.Ps(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var l=a[o],u=l.key,c=r.get(u),h=Wf(l,c,c,s.gn);r=h instanceof up?r.Tt(u,h):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){Ip(e,n)||(r=r.remove(t))})),r}))},t.prototype.Ps=function(t,e,n){for(var r=hd(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var l=a[o];l instanceof Xf&&null===n.get(l.key)&&(r=r.add(l.key))}var u=n;return this.ss.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof up&&(u=u.Tt(t,e))})),u}))},t}(),eg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=hd(),i=hd(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ng=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();ng.Ds=-1;var rg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&dh("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,(function(){return e.$s=Date.now(),t()})),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),ig=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(oa.h)())&&fh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return dh("SimpleDb","Removing database:",t),cg(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(oa.h)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(ra.b)(this,void 0,void 0,(function(){var e,n=this;return Object(ra.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(dh("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new og(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new _h(vh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new og(t,n))},i.onupgradeneeded=function(t){dh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){dh("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}}))}))},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(ra.b)(this,void 0,void 0,(function(){var i,s,o,a,l;return Object(ra.d)(this,(function(u){switch(u.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,l,u,c;return Object(ra.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=lg.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),Wp.reject(t)})).Ln(),l={},o.catch((function(){})),[4,e.ei];case 3:return[2,(l.value=(h.sent(),o),l)];case 4:return dh("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",c="FirebaseError"!==u.name&&s<3),a.close(),c?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(l=u.sent()))return[2,l.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),sg=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return cg(this.ni.delete())},t}(),og=function(t){function e(e,n){var r=this;return(r=t.call(this,vh.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(ra.c)(e,t),e}(_h);function ag(t){return"IndexedDbTransactionError"===t.name}var lg=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new Qp,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new og(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=dg(e.target.error);n.ci.reject(new og(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new og(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(dh("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ug(e)},t}(),ug=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(dh("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(dh("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),cg(n)},t.prototype.add=function(t){return dh("SimpleDb","ADD",this.store.name,t,t),cg(this.store.add(t))},t.prototype.get=function(t){var e=this;return cg(this.store.get(t)).next((function(n){return void 0===n&&(n=null),dh("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return dh("SimpleDb","DELETE",this.store.name,t),cg(this.store.delete(t))},t.prototype.count=function(){return dh("SimpleDb","COUNT",this.store.name),cg(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.hi=function(t,e){dh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,(function(t,e,n){return n.delete()}))},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new Wp((function(n,r){e.onerror=function(t){var e=dg(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ai=function(t,e){var n=[];return new Wp((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new sg(i),o=e(i.primaryKey,i.value,s);if(o instanceof Wp){var a=o.catch((function(t){return s.done(),Wp.reject(t)}));n.push(a)}s.On?r():null===s.ri?i.continue():i.continue(s.ri)}else r()}})).next((function(){return Wp.qn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function cg(t){return new Wp((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=dg(t.target.error);n(e)}}))}var hg=!1;function dg(t){var e=ig.js(Object(oa.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new _h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return hg||(hg=!0,setTimeout((function(){throw r}),0)),r}}return t}function fg(){return"undefined"!=typeof window?window:null}function pg(){return"undefined"!=typeof document?document:null}var gg=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new Qp,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch((function(t){}))}return t.Ii=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.mi=setTimeout((function(){return e.Ai()}),t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new _h(vh.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri((function(){return null!==t.mi?(t.clearTimeout(),t.op().then((function(e){return t.Ti.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),mg=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new rg(this,"async_queue_retry"),this.Di=function(){var e=pg();e&&dh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=pg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=pg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise((function(t){})):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri((function(){return e.gi.push(t),e.ki()}))},t.prototype.ki=function(){return Object(ra.b)(this,void 0,void 0,(function(){var t,e=this;return Object(ra.d)(this,(function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!ag(t=n.sent()))throw t;return dh("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs((function(){return e.ki()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Fi=function(t){var e=this,n=this.Pi.then((function(){return e.vi=!0,t().catch((function(t){throw e.pi=t,e.vi=!1,fh("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.vi=!1,t}))}));return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=gg.Ii(this,t,e,n,(function(t){return r.$i(t)}));return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&mh()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(ra.b)(this,void 0,void 0,(function(){var t;return Object(ra.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then((function(){e.Vi.sort((function(t,e){return t.wi-e.wi}));for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()}))},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function bg(t,e){if(fh("AsyncQueue",e+": "+t),ag(t))return new _h(vh.UNAVAILABLE,e+": "+t);throw t}function yg(t,e){var n=t[1],r=e[1],i=kh(t[0],e[0]);return 0===i?kh(n,r):i}var vg=function(){function t(t){this.Ki=t,this.buffer=new nd(yg),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();yg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),_g={zi:!1,Hi:0,Ji:0,Yi:0},wg=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();wg.nr=10,wg.sr=1e3,wg.ir=new wg(41943040,wg.nr,wg.sr),wg.rr=new wg(-1,0,0);var Eg=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;dh("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,(function(){return Object(ra.b)(e,void 0,void 0,(function(){var e;return Object(ra.d)(this,(function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return ag(e=n.sent())?(dh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Qm(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Cg=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Tr=function(t,e){var n=this;if(0===e)return Wp.resolve(ng.Ds);var r=new vg(e);return this.dr.Ue(t,(function(t){return r.Gi(t.sequenceNumber)})).next((function(){return n.dr.Ir(t,(function(t){return r.Gi(t)}))})).next((function(){return r.maxValue}))},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(dh("LruGarbageCollector","Garbage collection skipped; disabled"),Wp.resolve(_g)):this.Pr(t).next((function(r){return r<n.params.Xi?(dh("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),_g):n.gr(t,e)}))},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,s,o,a,l,u=this,c=Date.now();return this.wr(t,this.params.Zi).next((function(e){return e>u.params.tr?(dh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.tr+" from "+e),r=u.params.tr):r=e,s=Date.now(),u.Tr(t,r)})).next((function(r){return n=r,o=Date.now(),u.mr(t,n,e)})).next((function(e){return i=e,a=Date.now(),u.Ar(t,n)})).next((function(t){return l=Date.now(),hh()<=sa.a.DEBUG&&dh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-c)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(l-a)+"ms\nTotal Duration: "+(l-c)+"ms"),Wp.resolve({zi:!0,Hi:r,Ji:i,Yi:t})}))},t}();function Og(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ig(e)),e=Sg(t.get(n),e);return Ig(e)}function Sg(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Ig(t){return t+"\x01\x01"}function Tg(t){var e=t.length;if(bh(e>=2),2===e)return bh("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Nh.X();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&mh(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),l=void 0;0===i.length?l=a:(l=i+=a,i=""),r.push(l);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:mh()}s=o+2}return new Nh(r)}var kg=function(t){this.yr=t};function xg(t,e){if(e.document)return function(t,e,n){var r=af(t,e.name),i=nf(e.updateTime),s=new sp({mapValue:{fields:e.fields}});return new up(r,i,s,{hasCommittedMutations:!!n})}(t.yr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Lh.ct(e.noDocument.path),r=Ng(e.noDocument.readTime);return new cp(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Lh.ct(e.unknownDocument.path),s=Ng(e.unknownDocument.version);return new hp(i,s)}return mh()}function Ag(t,e,n){var r=jg(n),i=e.key.path.q().H();if(e instanceof up){var s=function(t,e){return{name:of(t,e.key),fields:e.En().mapValue.fields,updateTime:Zd(t,e.version.M())}}(t.yr,e);return new am(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof cp){var o=e.key.path.H(),a=Pg(e.version),l=e.hasCommittedMutations;return new am(null,new sm(o,a),null,l,r,i)}if(e instanceof hp){var u=e.key.path.H(),c=Pg(e.version);return new am(new om(u,c),null,null,!0,r,i)}return mh()}function jg(t){var e=t.M();return[e.seconds,e.nanoseconds]}function Rg(t){var e=new jh(t[0],t[1]);return Rh.N(e)}function Pg(t){var e=t.M();return new tm(e.seconds,e.nanoseconds)}function Ng(t){var e=new jh(t.seconds,t.nanoseconds);return Rh.N(e)}function Dg(t,e){var n=(e.baseMutations||[]).map((function(e){return pf(t.yr,e)})),r=e.mutations.map((function(e){return pf(t.yr,e)})),i=jh.fromMillis(e.localWriteTimeMs);return new Hp(e.batchId,i,n,r)}function Mg(t){var e,n,r=Ng(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ng(t.lastLimboFreeSnapshotVersion):Rh.min();return void 0!==t.query.documents?(bh(1===(n=t.query).documents.length),e=wp(pp(uf(n.documents[0])))):e=function(t){return wp(bf(t))}(t.query),new Qh(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Gh.fromBase64String(t.resumeToken))}function Lg(t,e){var n,r=Pg(e.ft),i=Pg(e.lastLimboFreeSnapshotVersion);n=$h(e.target)?gf(t.yr,e.target):mf(t.yr,e.target);var s=e.resumeToken.toBase64();return new um(e.targetId,zh(e.target),r,s,e.sequenceNumber,i,n)}function Ug(t){var e=bf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ep(e,e.limit,"L"):e}var Fg=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Vr=r,this.pr={}}return t.vr=function(e,n,r,i){return bh(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.br=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bg(t)._i({index:rm.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Sr=function(t,e,n,r){var i=this,s=zg(t),o=Bg(t);return o.add({}).next((function(a){bh("number"==typeof a);for(var l=new Hp(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map((function(e){return ff(t.yr,e)})),i=n.mutations.map((function(e){return ff(t.yr,e)}));return new rm(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,l),c=[],h=new nd((function(t,e){return kh(t.J(),e.J())})),d=0,f=r;d<f.length;d++){var p=f[d],g=im.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),c.push(o.put(u)),c.push(s.put(g,im.PLACEHOLDER))}return h.forEach((function(e){c.push(i.os.Dr(t,e))})),t.es((function(){i.pr[a]=l.keys()})),Wp.qn(c).next((function(){return l}))}))},t.prototype.Cr=function(t,e){var n=this;return Bg(t).get(e).next((function(t){return t?(bh(t.userId===n.userId),Dg(n.serializer,t)):null}))},t.prototype.Nr=function(t,e){var n=this;return this.pr[e]?Wp.resolve(this.pr[e]):this.Cr(t,e).next((function(t){if(t){var r=t.keys();return n.pr[e]=r,r}return null}))},t.prototype.Fr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Bg(t)._i({index:rm.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(bh(e.batchId>=r),s=Dg(n.serializer,e)),i.done()})).next((function(){return s}))},t.prototype.Or=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Bg(t)._i({index:rm.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Mr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bg(t).ui(rm.userMutationsIndex,n).next((function(t){return t.map((function(t){return Dg(e.serializer,t)}))}))},t.prototype.us=function(t,e){var n=this,r=im.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return zg(t)._i({range:i},(function(r,i,o){var a=r[0],l=r[2],u=Tg(r[1]);if(a===n.userId&&e.path.isEqual(u))return Bg(t).get(l).next((function(t){if(!t)throw mh();bh(t.userId===n.userId),s.push(Dg(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.ds=function(t,e){var n=this,r=new nd(kh),i=[];return e.forEach((function(e){var s=im.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=zg(t)._i({range:o},(function(t,i,s){var o=t[0],a=t[2],l=Tg(t[1]);o===n.userId&&e.path.isEqual(l)?r=r.add(a):s.done()}));i.push(a)})),Wp.qn(i).next((function(){return n.kr(t,r)}))},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,s=im.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new nd(kh);return zg(t)._i({range:o},(function(t,e,s){var o=t[0],l=t[2],u=Tg(t[1]);o===n.userId&&r.j(u)?u.length===i&&(a=a.add(l)):s.done()})).next((function(){return n.kr(t,a)}))},t.prototype.kr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Bg(t).get(e).next((function(t){if(null===t)throw mh();bh(t.userId===n.userId),r.push(Dg(n.serializer,t))})))})),Wp.qn(i).next((function(){return r}))},t.prototype.$r=function(t,e){var n=this;return qg(t.Lr,this.userId,e).next((function(r){return t.es((function(){n.Br(e.batchId)})),Wp.forEach(r,(function(e){return n.Vr.qr(t,e)}))}))},t.prototype.Br=function(t){delete this.pr[t]},t.prototype.Ur=function(t){var e=this;return this.br(t).next((function(n){if(!n)return Wp.resolve();var r=IDBKeyRange.lowerBound(im.prefixForUser(e.userId)),i=[];return zg(t)._i({range:r},(function(t,n,r){if(t[0]===e.userId){var s=Tg(t[1]);i.push(s)}else r.done()})).next((function(){bh(0===i.length)}))}))},t.prototype.Qr=function(t,e){return Vg(t,this.userId,e)},t.prototype.Kr=function(t){var e=this;return Hg(t).get(this.userId).next((function(t){return t||new nm(e.userId,-1,"")}))},t}();function Vg(t,e,n){var r=im.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return zg(t)._i({range:s,li:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function qg(t,e,n){var r=t.store(rm.store),i=t.store(im.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,l=r._i({range:o},(function(t,e,n){return a++,n.delete()}));s.push(l.next((function(){bh(1===a)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=im.key(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return Wp.qn(s).next((function(){return u}))}function Bg(t){return Am.Ys(t,rm.store)}function zg(t){return Am.Ys(t,im.store)}function Hg(t){return Am.Ys(t,nm.store)}var $g=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return Kg(t).put(Qg(e),n)},t.prototype.Hn=function(t,e){var n=Kg(t),r=Qg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Wr(t,r)}))},t.prototype.Jn=function(t,e){var n=this;return Kg(t).get(Qg(e)).next((function(t){return n.jr(t)}))},t.prototype.Gr=function(t,e){var n=this;return Kg(t).get(Qg(e)).next((function(t){var e=n.jr(t);return e?{zn:e,size:Jg(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=od();return this.zr(t,e,(function(t,e){var i=n.jr(e);r=r.Tt(t,i)})).next((function(){return r}))},t.prototype.Hr=function(t,e){var n=this,r=od(),i=new Zh(Lh.$);return this.zr(t,e,(function(t,e){var s=n.jr(e);s?(r=r.Tt(t,s),i=i.Tt(t,Jg(e))):(r=r.Tt(t,null),i=i.Tt(t,0))})).next((function(){return{Jr:r,Yr:i}}))},t.prototype.zr=function(t,e,n){if(e.W())return Wp.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),s=i.Ct();return Kg(t)._i({range:r},(function(t,e,r){for(var o=Lh.ct(t);s&&Lh.$(s,o)<0;)n(s,null),s=i.Ct();s&&s.isEqual(o)&&(n(s,e),s=i.Nt()?i.Ct():null),s?r.oi(s.path.H()):r.done()})).next((function(){for(;s;)n(s,null),s=i.Nt()?i.Ct():null}))},t.prototype.ws=function(t,e,n){var r=this,i=ld(),s=e.path.length+1,o={};if(n.isEqual(Rh.min())){var a=e.path.H();o.range=IDBKeyRange.lowerBound(a)}else{var l=e.path.H(),u=jg(n);o.range=IDBKeyRange.lowerBound([l,u],!0),o.index=am.collectionReadTimeIndex}return Kg(t)._i(o,(function(t,n,o){if(t.length===s){var a=xg(r.serializer,n);e.path.j(a.key.path)?a instanceof up&&Ip(e,a)&&(i=i.Tt(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.Xr=function(t){return new Gg(this,!!t&&t.Zr)},t.prototype.eo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Wg(t).get(lm.key).next((function(t){return bh(!!t),t}))},t.prototype.Wr=function(t,e){return Wg(t).put(lm.key,e)},t.prototype.jr=function(t){if(t){var e=xg(this.serializer,t);return e instanceof cp&&e.version.isEqual(Rh.min())?null:e}return null},t}(),Gg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).no=e,r.Zr=n,r.so=new Gp((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(ra.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new nd((function(t,e){return kh(t.J(),e.J())}));return this.Qn.forEach((function(s,o){var a=e.so.get(s);if(o.zn){var l=Ag(e.no.serializer,o.zn,e.Wn(s));i=i.add(s.path.q());var u=Jg(l);r+=u-a,n.push(e.no.jn(t,s,l))}else if(r-=a,e.Zr){var c=Ag(e.no.serializer,new cp(s,Rh.min()),e.Wn(s));n.push(e.no.jn(t,s,c))}else n.push(e.no.Hn(t,s))})),i.forEach((function(r){n.push(e.no.os.Dr(t,r))})),n.push(this.no.updateMetadata(t,r)),Wp.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.no.Gr(t,e).next((function(t){return null===t?(n.so.set(e,0),null):(n.so.set(e,t.size),t.zn)}))},e.prototype.Xn=function(t,e){var n=this;return this.no.Hr(t,e).next((function(t){var e=t.Jr;return t.Yr.forEach((function(t,e){n.so.set(t,e)})),e}))},e}(Kp);function Wg(t){return Am.Ys(t,lm.store)}function Kg(t){return Am.Ys(t,am.store)}function Qg(t){return t.path.H()}function Jg(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw mh();e=t.noDocument}return JSON.stringify(e).length}var Yg=function(){function t(){this.io=new Xg}return t.prototype.Dr=function(t,e){return this.io.add(e),Wp.resolve()},t.prototype.As=function(t,e){return Wp.resolve(this.io.getEntries(e))},t}(),Xg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new nd(Nh.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new nd(Nh.$)).H()},t}(),Zg=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;bh(n<r&&n>=0&&r<=11);var s=new lg("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(em.store)}(t),function(t){t.createObjectStore(nm.store,{keyPath:nm.keyPath}),t.createObjectStore(rm.store,{keyPath:rm.keyPath,autoIncrement:!0}).createIndex(rm.userMutationsIndex,rm.userMutationsKeyPath,{unique:!0}),t.createObjectStore(im.store)}(t),fm(t),function(t){t.createObjectStore(am.store)}(t));var o=Wp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(cm.store),t.deleteObjectStore(um.store),t.deleteObjectStore(hm.store)}(t),fm(t)),o=o.next((function(){return function(t){var e=t.store(hm.store),n=new hm(0,0,Rh.min().M(),0);return e.put(hm.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(rm.store).ui().next((function(n){t.deleteObjectStore(rm.store),t.createObjectStore(rm.store,{keyPath:rm.keyPath,autoIncrement:!0}).createIndex(rm.userMutationsIndex,rm.userMutationsKeyPath,{unique:!0});var r=e.store(rm.store),i=n.map((function(t){return r.put(t)}));return Wp.qn(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(pm.store,{keyPath:pm.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(lm.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(am.store);e.createIndex(am.readTimeIndex,am.readTimeIndexPath,{unique:!1}),e.createIndex(am.collectionReadTimeIndex,am.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(gm.store,{keyPath:gm.keyPath})}(t),function(t){t.createObjectStore(mm.store,{keyPath:mm.keyPath})}(t)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(am.store)._i((function(t,n){e+=Jg(n)})).next((function(){var n=new lm(e);return t.store(lm.store).put(lm.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(nm.store),r=t.store(rm.store);return n.ui().next((function(n){return Wp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(rm.userMutationsIndex,i).next((function(r){return Wp.forEach(r,(function(r){bh(r.userId===n.userId);var i=Dg(e.serializer,r);return qg(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(cm.store),n=t.store(am.store);return t.store(hm.store).get(hm.key).next((function(t){var r=[];return n._i((function(n,i){var s=new Nh(n),o=function(t){return[0,Og(t)]}(s);r.push(e.get(o).next((function(n){return n?Wp.resolve():function(n){return e.put(new cm(0,Og(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return Wp.qn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(dm.store,{keyPath:dm.keyPath});var n=e.store(dm.store),r=new Xg,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:Og(i)})}};return e.store(am.store)._i({li:!0},(function(t,e){var n=new Nh(t);return i(n.q())})).next((function(){return e.store(im.store)._i({li:!0},(function(t,e){var n=Tg(t[1]);return i(n.q())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(um.store);return n._i((function(t,r){var i=Mg(r),s=Lg(e.serializer,i);return n.put(s)}))},t}(),tm=function(t,e){this.seconds=t,this.nanoseconds=e},em=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};em.store="owner",em.key="owner";var nm=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};nm.store="mutationQueues",nm.keyPath="userId";var rm=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};rm.store="mutations",rm.keyPath="batchId",rm.userMutationsIndex="userMutationsIndex",rm.userMutationsKeyPath=["userId","batchId"];var im=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Og(e)]},t.key=function(t,e,n){return[t,Og(e),n]},t}();im.store="documentMutations",im.PLACEHOLDER=new im;var sm=function(t,e){this.path=t,this.readTime=e},om=function(t,e){this.path=t,this.version=e},am=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};am.store="remoteDocuments",am.readTimeIndex="readTimeIndex",am.readTimeIndexPath="readTime",am.collectionReadTimeIndex="collectionReadTimeIndex",am.collectionReadTimeIndexPath=["parentPath","readTime"];var lm=function(t){this.byteSize=t};lm.store="remoteDocumentGlobal",lm.key="remoteDocumentGlobalKey";var um=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};um.store="targets",um.keyPath="targetId",um.queryTargetsIndexName="queryTargetsIndex",um.queryTargetsKeyPath=["canonicalId","targetId"];var cm=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};cm.store="targetDocuments",cm.keyPath=["targetId","path"],cm.documentTargetsIndex="documentTargetsIndex",cm.documentTargetsKeyPath=["path","targetId"];var hm=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};hm.key="targetGlobalKey",hm.store="targetGlobal";var dm=function(t,e){this.collectionId=t,this.parent=e};function fm(t){t.createObjectStore(cm.store,{keyPath:cm.keyPath}).createIndex(cm.documentTargetsIndex,cm.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(um.store,{keyPath:um.keyPath}).createIndex(um.queryTargetsIndexName,um.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(hm.store)}dm.store="collectionParents",dm.keyPath=["collectionId","parent"];var pm=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};pm.store="clientMetadata",pm.keyPath="clientId";var gm=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};gm.store="bundles",gm.keyPath="bundleId";var mm=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};mm.store="namedQueries",mm.keyPath="name";var bm=Object(ra.g)(Object(ra.g)(Object(ra.g)(Object(ra.g)([nm.store,rm.store,im.store,am.store,um.store,em.store,hm.store,cm.store],[pm.store]),[lm.store]),[dm.store]),[gm.store,mm.store]),ym=function(){function t(t){this.serializer=t}return t.prototype.ro=function(t,e){return vm(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Ng(e.createTime),version:e.version};var e}))},t.prototype.oo=function(t,e){return vm(t).put({bundleId:(n=e).id,createTime:Pg(nf(n.createTime)),version:n.version});var n},t.prototype.co=function(t,e){return _m(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Ug(e.bundledQuery),readTime:Ng(e.readTime)};var e}))},t.prototype.uo=function(t,e){return _m(t).put(function(t){return{name:t.name,readTime:Pg(nf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function vm(t){return Am.Ys(t,gm.store)}function _m(t){return Am.Ys(t,mm.store)}var wm=function(){function t(){this.ao=new Xg}return t.prototype.Dr=function(t,e){var n=this;if(!this.ao.has(e)){var r=e.K(),i=e.q();t.es((function(){n.ao.add(e)}));var s={collectionId:r,parent:Og(i)};return Em(t).put(s)}return Wp.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ah(e),""],!1,!0);return Em(t).ui(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Tg(s.parent))}return n}))},t}();function Em(t){return Am.Ys(t,dm.store)}var Cm=function(){function t(t){this.ho=t}return t.prototype.next=function(){return this.ho+=2,this.ho},t.lo=function(){return new t(0)},t._o=function(){return new t(-1)},t}(),Om=function(){function t(t,e){this.Vr=t,this.serializer=e}return t.prototype.fo=function(t){var e=this;return this.wo(t).next((function(n){var r=new Cm(n.highestTargetId);return n.highestTargetId=r.next(),e.Eo(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.To=function(t){return this.wo(t).next((function(t){return Rh.N(new jh(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Io=function(t){return this.wo(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.mo=function(t,e,n){var r=this;return this.wo(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Eo(t,i)}))},t.prototype.Ao=function(t,e){var n=this;return this.Ro(t,e).next((function(){return n.wo(t).next((function(r){return r.targetCount+=1,n.Po(e,r),n.Eo(t,r)}))}))},t.prototype.yo=function(t,e){return this.Ro(t,e)},t.prototype.Vo=function(t,e){var n=this;return this.po(t,e.targetId).next((function(){return Sm(t).delete(e.targetId)})).next((function(){return n.wo(t)})).next((function(e){return bh(e.targetCount>0),e.targetCount-=1,n.Eo(t,e)}))},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return Sm(t)._i((function(o,a){var l=Mg(a);l.sequenceNumber<=e&&null===n.get(l.targetId)&&(i++,s.push(r.Vo(t,l)))})).next((function(){return Wp.qn(s)})).next((function(){return i}))},t.prototype.Ue=function(t,e){return Sm(t)._i((function(t,n){var r=Mg(n);e(r)}))},t.prototype.wo=function(t){return Im(t).get(hm.key).next((function(t){return bh(null!==t),t}))},t.prototype.Eo=function(t,e){return Im(t).put(hm.key,e)},t.prototype.Ro=function(t,e){return Sm(t).put(Lg(this.serializer,e))},t.prototype.Po=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.vo=function(t){return this.wo(t).next((function(t){return t.targetCount}))},t.prototype.bo=function(t,e){var n=zh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Sm(t)._i({range:r,index:um.queryTargetsIndexName},(function(t,n,r){var s=Mg(n);Hh(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.So=function(t,e,n){var r=this,i=[],s=Tm(t);return e.forEach((function(e){var o=Og(e.path);i.push(s.put(new cm(n,o))),i.push(r.Vr.Do(t,n,e))})),Wp.qn(i)},t.prototype.Co=function(t,e,n){var r=this,i=Tm(t);return Wp.forEach(e,(function(e){var s=Og(e.path);return Wp.qn([i.delete([n,s]),r.Vr.No(t,n,e)])}))},t.prototype.po=function(t,e){var n=Tm(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Tm(t),i=hd();return r._i({range:n,li:!0},(function(t,e,n){var r=Tg(t[1]),s=new Lh(r);i=i.add(s)})).next((function(){return i}))},t.prototype.Qr=function(t,e){var n=Og(e.path),r=IDBKeyRange.bound([n],[Ah(n)],!1,!0),i=0;return Tm(t)._i({index:cm.documentTargetsIndex,li:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ze=function(t,e){return Sm(t).get(e).next((function(t){return t?Mg(t):null}))},t}();function Sm(t){return Am.Ys(t,um.store)}function Im(t){return Am.Ys(t,hm.store)}function Tm(t){return Am.Ys(t,cm.store)}var km="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",xm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Lr=e,r.Fo=n,r}return Object(ra.c)(e,t),e}(Zp),Am=function(){function t(e,n,r,i,s,o,a,l,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=s,this.window=o,this.document=a,this.Oo=u,this.Mo=c,this.ko=null,this.$o=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Lo=null,this.inForeground=!1,this.Bo=null,this.qo=null,this.Uo=Number.NEGATIVE_INFINITY,this.Qo=function(t){return Promise.resolve()},!t.Gs())throw new _h(vh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Vr=new Pm(this,i),this.Ko=n+"main",this.serializer=new kg(l),this.Wo=new ig(this.Ko,11,new Zg(this.serializer)),this.jo=new Om(this.Vr,this.serializer),this.os=new wm,this.ss=function(t,e){return new $g(t,e)}(this.serializer,this.os),this.Go=new ym(this.serializer),this.window&&this.window.localStorage?this.zo=this.window.localStorage:(this.zo=null,!1===c&&fh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof xm)return ig.Ys(t.Lr,e);throw mh()},t.prototype.start=function(){var t=this;return this.Ho().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new _h(vh.FAILED_PRECONDITION,km);return t.Jo(),t.Yo(),t.Xo(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.jo.Io(e)}))})).then((function(e){t.ko=new ng(e,t.Oo)})).then((function(){t.$o=!0})).catch((function(e){return t.Wo&&t.Wo.close(),Promise.reject(e)}))},t.prototype.Zo=function(t){var e=this;return this.Qo=function(n){return Object(ra.b)(e,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){return this.lr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.tc=function(t){var e=this;this.Wo.ti((function(n){return Object(ra.b)(e,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.ec=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri((function(){return Object(ra.b)(e,void 0,void 0,(function(){return Object(ra.d)(this,(function(t){switch(t.label){case 0:return this.lr?[4,this.Ho()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ho=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Rm(e).put(new pm(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.nc(e).next((function(e){e||(t.isPrimary=!1,t.Cs.Mi((function(){return t.Qo(!1)})))}))})).next((function(){return t.sc(e)})).next((function(n){return t.isPrimary&&!n?t.ic(e).next((function(){return!1})):!!n&&t.rc(e).next((function(){return!0}))}))})).catch((function(e){if(ag(e))return dh("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return dh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Cs.Mi((function(){return t.Qo(e)})),t.isPrimary=e}))},t.prototype.nc=function(t){var e=this;return jm(t).get(em.key).next((function(t){return Wp.resolve(e.oc(t))}))},t.prototype.cc=function(t){return Rm(t).delete(this.clientId)},t.prototype.uc=function(){return Object(ra.b)(this,void 0,void 0,(function(){var e,n,r,i=this;return Object(ra.d)(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.ac(this.Uo,18e5)?[3,2]:(this.Uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ys(e,pm.store);return n.ui().next((function(t){var e=i.hc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Wp.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=s.sent(),this.zo)for(n=0,r=e;n<r.length;n++)this.zo.removeItem(this.lc(r[n].clientId));s.label=2;case 2:return[2]}}))}))},t.prototype.Xo=function(){var t=this;this.qo=this.Cs.Us("client_metadata_refresh",4e3,(function(){return t.Ho().then((function(){return t.uc()})).then((function(){return t.Xo()}))}))},t.prototype.oc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sc=function(t){var e=this;return this.Mo?Wp.resolve(!0):jm(t).get(em.key).next((function(n){if(null!==n&&e.ac(n.leaseTimestampMs,5e3)&&!e._c(n.ownerId)){if(e.oc(n)&&e.networkEnabled)return!0;if(!e.oc(n)){if(!n.allowTabSynchronization)throw new _h(vh.FAILED_PRECONDITION,km);return!1}}return!(!e.networkEnabled||!e.inForeground)||Rm(t).ui().next((function(t){return void 0===e.hc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&dh("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.fc=function(){return Object(ra.b)(this,void 0,void 0,(function(){var t=this;return Object(ra.d)(this,(function(e){switch(e.label){case 0:return this.$o=!1,this.dc(),this.qo&&(this.qo.cancel(),this.qo=null),this.wc(),this.Ec(),[4,this.Wo.runTransaction("shutdown","readwrite",[em.store,pm.store],(function(e){var n=new xm(e,ng.Ds);return t.ic(n).next((function(){return t.cc(n)}))}))];case 1:return e.sent(),this.Wo.close(),this.Tc(),[2]}}))}))},t.prototype.hc=function(t,e){var n=this;return t.filter((function(t){return n.ac(t.updateTimeMs,e)&&!n._c(t.clientId)}))},t.prototype.Ic=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Rm(e).ui().next((function(e){return t.hc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return Fg.vr(t,this.serializer,this.os,this.Vr)},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.Pc=function(){return this.os},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r,i=this;return dh("IndexedDbPersistence","Starting transaction:",t),this.Wo.runTransaction(t,"readonly"===e?"readonly":"readwrite",bm,(function(s){return r=new xm(s,i.ko?i.ko.next():ng.Ds),"readwrite-primary"===e?i.nc(r).next((function(t){return!!t||i.sc(r)})).next((function(e){if(!e)throw fh("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi((function(){return i.Qo(!1)})),new _h(vh.FAILED_PRECONDITION,Xp);return n(r)})).next((function(t){return i.rc(r).next((function(){return t}))})):i.yc(r).next((function(){return n(r)}))})).then((function(t){return r.ns(),t}))},t.prototype.yc=function(t){var e=this;return jm(t).get(em.key).next((function(t){if(null!==t&&e.ac(t.leaseTimestampMs,5e3)&&!e._c(t.ownerId)&&!e.oc(t)&&!(e.Mo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new _h(vh.FAILED_PRECONDITION,km)}))},t.prototype.rc=function(t){var e=new em(this.clientId,this.allowTabSynchronization,Date.now());return jm(t).put(em.key,e)},t.Gs=function(){return ig.Gs()},t.prototype.ic=function(t){var e=this,n=jm(t);return n.get(em.key).next((function(t){return e.oc(t)?(dh("IndexedDbPersistence","Releasing primary lease."),n.delete(em.key)):Wp.resolve()}))},t.prototype.ac=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(fh("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Jo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Bo=function(){t.Cs.Ri((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ho()}))},this.document.addEventListener("visibilitychange",this.Bo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.wc=function(){this.Bo&&(this.document.removeEventListener("visibilitychange",this.Bo),this.Bo=null)},t.prototype.Yo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Lo=function(){e.dc(),e.Cs.Ri((function(){return e.fc()}))},this.window.addEventListener("unload",this.Lo))},t.prototype.Ec=function(){this.Lo&&(this.window.removeEventListener("unload",this.Lo),this.Lo=null)},t.prototype._c=function(t){var e;try{var n=null!==(null===(e=this.zo)||void 0===e?void 0:e.getItem(this.lc(t)));return dh("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return fh("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.dc=function(){if(this.zo)try{this.zo.setItem(this.lc(this.clientId),String(Date.now()))}catch(t){fh("Failed to set zombie client id.",t)}},t.prototype.Tc=function(){if(this.zo)try{this.zo.removeItem(this.lc(this.clientId))}catch(t){}},t.prototype.lc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function jm(t){return Am.Ys(t,em.store)}function Rm(t){return Am.Ys(t,pm.store)}var Pm=function(){function t(t,e){this.db=t,this.cr=new Cg(this,e)}return t.prototype.Er=function(t){var e=this.Vc(t);return this.db.Ac().vo(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Vc=function(t){var e=0;return this.Ir(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ue=function(t,e){return this.db.Ac().Ue(t,e)},t.prototype.Ir=function(t,e){return this.vc(t,(function(t,n){return e(n)}))},t.prototype.Do=function(t,e,n){return Nm(t,n)},t.prototype.No=function(t,e,n){return Nm(t,n)},t.prototype.mr=function(t,e,n){return this.db.Ac().mr(t,e,n)},t.prototype.qr=function(t,e){return Nm(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return Hg(t).fi((function(r){return Vg(t,r,e).next((function(t){return t&&(n=!0),Wp.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.Rc().Xr(),i=[],s=0;return this.vc(t,(function(o,a){if(a<=e){var l=n.bc(t,o).next((function(e){if(!e)return s++,r.Jn(t,o).next((function(){return r.Hn(o),Tm(t).delete([0,Og(o.path)])}))}));i.push(l)}})).next((function(){return Wp.qn(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Fo);return this.db.Ac().yo(t,n)},t.prototype.Sc=function(t,e){return Nm(t,e)},t.prototype.vc=function(t,e){var n,r=Tm(t),i=ng.Ds;return r._i({index:cm.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==ng.Ds&&e(new Lh(Tg(n)),i),i=o,n=s):i=ng.Ds})).next((function(){i!==ng.Ds&&e(new Lh(Tg(n)),i)}))},t.prototype.Pr=function(t){return this.db.Rc().eo(t)},t}();function Nm(t,e){return Tm(t).put(function(t,e){return new cm(0,Og(t.path),e)}(e,t.Fo))}function Dm(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Mm=function(){function t(t,e,n,r){this.persistence=t,this.Dc=e,this.serializer=r,this.Cc=new Zh(kh),this.Nc=new Gp((function(t){return zh(t)}),Hh),this.xc=Rh.min(),this.rs=t.mc(n),this.Fc=t.Rc(),this.jo=t.Ac(),this.Oc=new tg(this.Fc,this.rs,this.persistence.Pc()),this.Go=t.gc(),this.Dc.Mc(this.Oc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Rr(n,e.Cc)}))},t}();function Lm(t,e,n,r){return new Mm(t,e,n,r)}function Um(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(ra.d)(this,(function(o){switch(o.label){case 0:return n=yh(t),r=n.rs,i=n.Oc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.rs.Mr(t).next((function(o){return s=o,r=n.persistence.mc(e),i=new tg(n.Fc,r,n.persistence.Pc()),r.Mr(t)})).next((function(e){for(var n=[],r=[],o=hd(),a=0,l=s;a<l.length;a++){var u=l[a];n.push(u.batchId);for(var c=0,h=u.mutations;c<h.length;c++)o=o.add(h[c].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i._s(t,o).next((function(t){return{kc:t,$c:n,Lc:r}}))}))}))];case 1:return s=o.sent(),[2,(n.rs=r,n.Oc=i,n.Dc.Mc(n.Oc),s)]}}))}))}function Fm(t,e){var n=yh(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Fc.Xr({Zr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Wp.resolve();return s.forEach((function(t){o=o.next((function(){return r.Jn(e,t)})).next((function(e){var s=e,o=n.Sn.get(t);bh(null!==o),(!s||s.version.F(o)<0)&&(s=i.yn(t,s,n))&&r.jn(s,n.bn)}))})),o.next((function(){return t.rs.$r(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.rs.Ur(t)})).next((function(){return n.Oc._s(t,r)}))}))}function Vm(t){var e=yh(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.jo.To(t)}))}function qm(t,e){var n=yh(t),r=e.ft,i=n.Cc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Fc.Xr({Zr:!0});i=n.Cc;var o=[];e.re.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.jo.Co(t,e.de,s).next((function(){return n.jo.So(t,e._e,s)})));var l=e.resumeToken;if(l.ht()>0){var u=a.wt(l,r).dt(t.Fo);i=i.Tt(s,u),function(t,e,n){return bh(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,u,e)&&o.push(n.jo.yo(t,u))}}}));var a=sd();if(e.ce.forEach((function(r,i){e.ue.has(r)&&o.push(n.persistence.Vr.Sc(t,r))})),o.push(function(t,e,n,r,i){var s=hd();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var i=sd();return n.forEach((function(n,s){var o=t.get(n),a=r;s instanceof cp&&s.version.isEqual(Rh.min())?(e.Hn(n,a),i=i.Tt(n,s)):null==o||s.version.F(o.version)>0||0===s.version.F(o.version)&&o.hasPendingWrites?(e.jn(s,a),i=i.Tt(n,s)):dh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),i}))}(t,s,e.ce,r).next((function(t){a=t}))),!r.isEqual(Rh.min())){var l=n.jo.To(t).next((function(e){return n.jo.mo(t,t.Fo,r)}));o.push(l)}return Wp.qn(o).next((function(){return s.apply(t)})).next((function(){return n.Oc.fs(t,a)}))})).then((function(t){return n.Cc=i,t}))}function Bm(t,e){var n=yh(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.rs.Fr(t,e)}))}function zm(t,e){var n=yh(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.jo.bo(t,e).next((function(i){return i?Wp.resolve(r=i):n.jo.fo(t).next((function(i){return r=new Qh(e,i,0,t.Fo),n.jo.Ao(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Cc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Cc=n.Cc.Tt(t.targetId,t),n.Nc.set(e,t.targetId)),t}))}function Hm(t,e,n){return Object(ra.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(ra.d)(this,(function(a){switch(a.label){case 0:r=yh(t),i=r.Cc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.Vr.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!ag(o=a.sent()))throw o;return dh("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Cc=r.Cc.remove(e),r.Nc.delete(i.target),[2]}}))}))}function $m(t,e,n){var r=yh(t),i=Rh.min(),s=hd();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=yh(t),i=r.Nc.get(n);return void 0!==i?Wp.resolve(r.Cc.get(i)):r.jo.bo(e,n)}(r,t,wp(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.jo.xo(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.Dc.ws(t,e,n?i:Rh.min(),n?s:hd())})).next((function(t){return{documents:t,Bc:s}}))}))}function Gm(t,e){var n=yh(t),r=yh(n.jo),i=n.Cc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ze(t,e).next((function(t){return t?t.target:null}))}))}function Wm(t){var e=yh(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=yh(t),i=sd(),s=jg(n),o=Kg(e),a=IDBKeyRange.lowerBound(s,!0);return o._i({index:am.readTimeIndex,range:a},(function(t,e){var n=xg(r.serializer,e);i=i.Tt(n.key,n),s=e.readTime})).next((function(){return{qc:i,readTime:Rg(s)}}))}(e.Fc,t,e.xc)})).then((function(t){var n=t.qc;return e.xc=t.readTime,n}))}function Km(t){return Object(ra.b)(this,void 0,void 0,(function(){var e;return Object(ra.d)(this,(function(n){return[2,(e=yh(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Kg(t),n=Rh.min();return e._i({index:am.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Rg(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.xc=t}))]}))}))}function Qm(t){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){if(t.code!==vh.FAILED_PRECONDITION||t.message!==Xp)throw t;return dh("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Jm=function(){function t(t,e,n,r,i,s){this.Cs=t,this.Uc=n,this.Qc=r,this.Kc=i,this.listener=s,this.state=0,this.Wc=0,this.jc=null,this.stream=null,this.Si=new rg(t,e)}return t.prototype.Gc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.zc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Hc()},t.prototype.stop=function(){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(t){switch(t.label){case 0:return this.Gc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Jc=function(){this.state=0,this.Si.reset()},t.prototype.Yc=function(){var t=this;this.zc()&&null===this.jc&&(this.jc=this.Cs.Us(this.Uc,6e4,(function(){return t.Xc()})))},t.prototype.Zc=function(t){this.tu(),this.stream.send(t)},t.prototype.Xc=function(){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(t){return this.zc()?[2,this.close(0)]:[2]}))}))},t.prototype.tu=function(){this.jc&&(this.jc.cancel(),this.jc=null)},t.prototype.close=function(t,e){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(n){switch(n.label){case 0:return this.tu(),this.Si.cancel(),this.Wc++,3!==t?this.Si.reset():e&&e.code===vh.RESOURCE_EXHAUSTED?(fh(e.toString()),fh("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===vh.UNAUTHENTICATED&&this.Kc.m(),null!==this.stream&&(this.eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.nu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.su(this.Wc),n=this.Wc;this.Kc.getToken().then((function(e){t.Wc===n&&t.iu(e)}),(function(n){e((function(){var e=new _h(vh.UNKNOWN,"Fetching auth token failed: "+n.message);return t.ru(e)}))}))},t.prototype.iu=function(t){var e=this,n=this.su(this.Wc);this.stream=this.ou(t),this.stream.cu((function(){n((function(){return e.state=2,e.listener.cu()}))})),this.stream.nu((function(t){n((function(){return e.ru(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Hc=function(){var t=this;this.state=4,this.Si.Bs((function(){return Object(ra.b)(t,void 0,void 0,(function(){return Object(ra.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.ru=function(t){return dh("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.su=function(t){var e=this;return function(n){e.Cs.Ri((function(){return e.Wc===t?n():(dh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Ym=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(ra.c)(e,t),e.prototype.ou=function(t){return this.Qc.uu("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:mh()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.tn?(bh(void 0===e||"string"==typeof e),Gh.fromBase64String(e||"")):(bh(void 0===e||e instanceof Uint8Array),Gh.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?vh.UNKNOWN:Xh(t.code);return new _h(e,t.message||"")}(o);n=new wd(r,i,s,a||null)}else if("documentChange"in e){var l=e.documentChange,u=af(t,l.document.name),c=nf(l.document.updateTime),h=new sp({mapValue:{fields:l.document.fields}}),d=new up(u,c,h,{});n=new vd(l.targetIds||[],l.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){var f=e.documentDelete,p=af(t,f.document),g=f.readTime?nf(f.readTime):Rh.min(),m=new cp(p,g);n=new vd([],f.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){var b=e.documentRemove,y=af(t,b.document);n=new vd([],b.removedTargetIds||[],y,null)}else{if(!("filter"in e))return mh();var v=e.filter,_=new Jh(v.count||0);n=new _d(v.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Rh.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Rh.min():e.readTime?nf(e.readTime):Rh.min()}(t);return this.listener.au(e,n)},e.prototype.hu=function(t){var e={};e.database=cf(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=$h(r)?{documents:gf(t,r)}:{query:mf(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=tf(t,e.resumeToken):e.ft.F(Rh.min())>0&&(n.readTime=Zd(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mh()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.Zc(e)},e.prototype.lu=function(t){var e={};e.database=cf(this.serializer),e.removeTarget=t,this.Zc(e)},e}(Jm),Xm=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o._u=!1,o}return Object(ra.c)(e,t),Object.defineProperty(e.prototype,"fu",{get:function(){return this._u},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._u=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.eu=function(){this._u&&this.du([])},e.prototype.ou=function(t){return this.Qc.uu("Write",t)},e.prototype.onMessage=function(t){if(bh(!!t.streamToken),this.lastStreamToken=t.streamToken,this._u){this.Si.reset();var e=function(t,e){return t&&t.length>0?(bh(void 0!==e),t.map((function(t){return function(t,e){var n=nf(t.updateTime?t.updateTime:e);n.isEqual(Rh.min())&&(n=nf(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Bf(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=nf(t.commitTime);return this.listener.wu(n,e)}return bh(!t.writeResults||0===t.writeResults.length),this._u=!0,this.listener.Eu()},e.prototype.Tu=function(){var t={};t.database=cf(this.serializer),this.Zc(t)},e.prototype.du=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return ff(e.serializer,t)}))};this.Zc(n)},e}(Jm),Zm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qc=n,i.serializer=r,i.Iu=!1,i}return Object(ra.c)(e,t),e.prototype.mu=function(){if(this.Iu)throw new _h(vh.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Au=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Au(t,e,n,i)})).catch((function(t){throw t.code===vh.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.Ru=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Ru(t,e,n,i)})).catch((function(t){throw t.code===vh.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.terminate=function(){this.Iu=!1},e}((function(){})),tb=function(){function t(t,e){this.di=t,this.Pu=e,this.state="Unknown",this.gu=0,this.yu=null,this.Vu=!0}return t.prototype.pu=function(){var t=this;0===this.gu&&(this.vu("Unknown"),this.yu=this.di.Us("online_state_timeout",1e4,(function(){return t.yu=null,t.bu("Backend didn't respond within 10 seconds."),t.vu("Offline"),Promise.resolve()})))},t.prototype.Su=function(t){"Online"===this.state?this.vu("Unknown"):(this.gu++,this.gu>=1&&(this.Du(),this.bu("Connection failed 1 times. Most recent error: "+t.toString()),this.vu("Offline")))},t.prototype.set=function(t){this.Du(),this.gu=0,"Online"===t&&(this.Vu=!1),this.vu(t)},t.prototype.vu=function(t){t!==this.state&&(this.state=t,this.Pu(t))},t.prototype.bu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vu?(fh(e),this.Vu=!1):dh("OnlineStateTracker",e)},t.prototype.Du=function(){null!==this.yu&&(this.yu.cancel(),this.yu=null)},t}(),eb=function(t,e,n,r,i){var s=this;this.Cu=t,this.Nu=e,this.di=n,this.xu={},this.Fu=[],this.Ou=new Map,this.Mu=new Set,this.ku=[],this.$u=i,this.$u.Lu((function(t){n.Ri((function(){return Object(ra.b)(s,void 0,void 0,(function(){return Object(ra.d)(this,(function(t){switch(t.label){case 0:return cb(this)?(dh("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(ra.b)(this,void 0,void 0,(function(){var e;return Object(ra.d)(this,(function(n){switch(n.label){case 0:return(e=yh(t)).Mu.add(4),[4,rb(e)];case 1:return n.sent(),e.Bu.set("Unknown"),e.Mu.delete(4),[4,nb(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Bu=new tb(n,r)};function nb(t){return Object(ra.b)(this,void 0,void 0,(function(){var e,n;return Object(ra.d)(this,(function(r){switch(r.label){case 0:if(!cb(t))return[3,4];e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function rb(t){return Object(ra.b)(this,void 0,void 0,(function(){var e,n;return Object(ra.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function ib(t,e){var n=yh(t);n.Ou.has(e.targetId)||(n.Ou.set(e.targetId,e),ub(n)?lb(n):Sb(n).zc()&&ob(n,e))}function sb(t,e){var n=yh(t),r=Sb(n);n.Ou.delete(e),r.zc()&&ab(n,e),0===n.Ou.size&&(r.zc()?r.Yc():cb(n)&&n.Bu.set("Unknown"))}function ob(t,e){t.qu.De(e.targetId),Sb(t).hu(e)}function ab(t,e){t.qu.De(e),Sb(t).lu(e)}function lb(t){t.qu=new Cd({Xe:function(e){return t.xu.Xe(e)},Ze:function(e){return t.Ou.get(e)||null}}),Sb(t).start(),t.Bu.pu()}function ub(t){return cb(t)&&!Sb(t).Gc()&&t.Ou.size>0}function cb(t){return 0===yh(t).Mu.size}function hb(t){t.qu=void 0}function db(t){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){return t.Ou.forEach((function(e,n){ob(t,e)})),[2]}))}))}function fb(t,e){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(n){return hb(t),ub(t)?(t.Bu.Su(e),lb(t)):t.Bu.set("Unknown"),[2]}))}))}function pb(t,e,n){return Object(ra.b)(this,void 0,void 0,(function(){var r,i,s;return Object(ra.d)(this,(function(o){switch(o.label){case 0:if(t.Bu.set("Online"),!(e instanceof wd&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(ra.d)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Ou.has(s=i[r])?[4,t.xu.Uu(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Ou.delete(s),t.qu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),dh("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,gb(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof vd?t.qu.$e(e):e instanceof _d?t.qu.je(e):t.qu.qe(e),n.isEqual(Rh.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Vm(t.Cu)];case 8:return i=o.sent(),n.F(i)>=0?[4,function(t,e){var n=t.qu.He(e);return n.re.forEach((function(n,r){if(n.resumeToken.ht()>0){var i=t.Ou.get(r);i&&t.Ou.set(r,i.wt(n.resumeToken,e))}})),n.oe.forEach((function(e){var n=t.Ou.get(e);if(n){t.Ou.set(e,n.wt(Gh.lt,n.ft)),ab(t,e);var r=new Qh(n.target,e,1,n.sequenceNumber);ob(t,r)}})),t.xu.Qu(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return dh("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,gb(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function gb(t,e,n){return Object(ra.b)(this,void 0,void 0,(function(){var r=this;return Object(ra.d)(this,(function(i){switch(i.label){case 0:if(!ag(e))throw e;return t.Mu.add(1),[4,rb(t)];case 1:return i.sent(),t.Bu.set("Offline"),n||(n=function(){return Vm(t.Cu)}),t.di.Mi((function(){return Object(ra.b)(r,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return dh("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Mu.delete(1),[4,nb(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function mb(t,e){return e().catch((function(n){return gb(t,n,e)}))}function bb(t){return Object(ra.b)(this,void 0,void 0,(function(){var e,n,r,i,s;return Object(ra.d)(this,(function(o){switch(o.label){case 0:e=yh(t),n=Ib(e),r=e.Fu.length>0?e.Fu[e.Fu.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return cb(t)&&t.Fu.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Bm(e.Cu,r)];case 3:return null===(i=o.sent())?(0===e.Fu.length&&n.Yc(),[3,7]):(r=i.batchId,function(t,e){t.Fu.push(e);var n=Ib(t);n.zc()&&n.fu&&n.du(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,gb(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return yb(e)&&vb(e),[2]}}))}))}function yb(t){return cb(t)&&!Ib(t).Gc()&&t.Fu.length>0}function vb(t){Ib(t).start()}function _b(t){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){return Ib(t).Tu(),[2]}))}))}function wb(t){return Object(ra.b)(this,void 0,void 0,(function(){var e,n,r;return Object(ra.d)(this,(function(i){for(e=Ib(t),n=0,r=t.Fu;n<r.length;n++)e.du(r[n].mutations);return[2]}))}))}function Eb(t,e,n){return Object(ra.b)(this,void 0,void 0,(function(){var r,i;return Object(ra.d)(this,(function(s){switch(s.label){case 0:return r=t.Fu.shift(),i=$p.from(r,e,n),[4,mb(t,(function(){return t.xu.Ku(i)}))];case 1:return s.sent(),[4,bb(t)];case 2:return s.sent(),[2]}}))}))}function Cb(t,e){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(n){switch(n.label){case 0:return e&&Ib(t).fu?[4,function(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r;return Object(ra.d)(this,(function(i){switch(i.label){case 0:return Yh(r=e.code)&&r!==vh.ABORTED?(n=t.Fu.shift(),Ib(t).Jc(),[4,mb(t,(function(){return t.xu.Wu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,bb(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return yb(t)&&vb(t),[2]}}))}))}function Ob(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n;return Object(ra.d)(this,(function(r){switch(r.label){case 0:return n=yh(t),e?(n.Mu.delete(2),[4,nb(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Mu.add(2),[4,rb(n)]);case 3:r.sent(),n.Bu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Sb(t){var e=this;return t.ju||(t.ju=function(t,e,n){var r=yh(t);return r.mu(),new Ym(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:db.bind(null,t),nu:fb.bind(null,t),au:pb.bind(null,t)}),t.ku.push((function(n){return Object(ra.b)(e,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return n?(t.ju.Jc(),ub(t)?lb(t):t.Bu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ju.stop()];case 2:e.sent(),hb(t),e.label=3;case 3:return[2]}}))}))}))),t.ju}function Ib(t){var e=this;return t.Gu||(t.Gu=function(t,e,n){var r=yh(t);return r.mu(),new Xm(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:_b.bind(null,t),nu:Cb.bind(null,t),Eu:wb.bind(null,t),wu:Eb.bind(null,t)}),t.ku.push((function(n){return Object(ra.b)(e,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return n?(t.Gu.Jc(),[4,bb(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Gu.stop()];case 3:e.sent(),t.Fu.length>0&&(dh("RemoteStore","Stopping write stream with "+t.Fu.length+" pending writes"),t.Fu=[]),e.label=4;case 4:return[2]}}))}))}))),t.Gu}var Tb=function(){this.zu=void 0,this.listeners=[]},kb=function(){this.queries=new Gp((function(t){return Op(t)}),Cp),this.onlineState="Unknown",this.Hu=new Set};function xb(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,l;return Object(ra.d)(this,(function(u){switch(u.label){case 0:if(n=yh(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Tb),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.Ju(r)];case 2:return o.zu=u.sent(),[3,4];case 3:return a=u.sent(),l=bg(a,"Initialization of query '"+Sp(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Yu(n.onlineState),s.zu&&e.Xu(s.zu)&&Pb(n),[2]}}))}))}function Ab(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(ra.d)(this,(function(a){return n=yh(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Zu(r))]:[2]}))}))}function jb(t,e){for(var n=yh(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var l=0,u=a.listeners;l<u.length;l++)u[l].Xu(o)&&(r=!0);a.zu=o}}r&&Pb(n)}function Rb(t,e,n){var r=yh(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Pb(t){t.Hu.forEach((function(t){t.next()}))}var Nb=function(){function t(t,e,n){this.query=t,this.ta=e,this.ea=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Xu=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new md(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var s=!1;return this.ea?this.sa(t)&&(this.ta.next(t),s=!0):this.ia(t,this.onlineState)&&(this.ra(t),s=!0),this.na=t,s},t.prototype.onError=function(t){this.ta.error(t)},t.prototype.Yu=function(t){this.onlineState=t;var e=!1;return this.na&&!this.ea&&this.ia(this.na,t)&&(this.ra(this.na),e=!0),e},t.prototype.ia=function(t,e){return!t.fromCache||!(this.options.oa&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.sa=function(t){return t.docChanges.length>0||!!(t.ne||this.na&&this.na.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ra=function(t){t=md.ie(t.query,t.docs,t.ee,t.fromCache),this.ea=!0,this.ta.next(t)},t}(),Db=function(){function t(){this.ca=new nd(Mb.ua),this.aa=new nd(Mb.ha)}return t.prototype.W=function(){return this.ca.W()},t.prototype.Do=function(t,e){var n=new Mb(t,e);this.ca=this.ca.add(n),this.aa=this.aa.add(n)},t.prototype.la=function(t,e){var n=this;t.forEach((function(t){return n.Do(t,e)}))},t.prototype.No=function(t,e){this._a(new Mb(t,e))},t.prototype.fa=function(t,e){var n=this;t.forEach((function(t){return n.No(t,e)}))},t.prototype.da=function(t){var e=this,n=new Lh(new Nh([])),r=new Mb(n,t),i=new Mb(n,t+1),s=[];return this.aa.Kt([r,i],(function(t){e._a(t),s.push(t.key)})),s},t.prototype.wa=function(){var t=this;this.ca.forEach((function(e){return t._a(e)}))},t.prototype._a=function(t){this.ca=this.ca.delete(t),this.aa=this.aa.delete(t)},t.prototype.Ea=function(t){var e=new Lh(new Nh([])),n=new Mb(e,t),r=new Mb(e,t+1),i=hd();return this.aa.Kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Qr=function(t){var e=new Mb(t,0),n=this.ca.jt(e);return null!==n&&t.isEqual(n.key)},t}(),Mb=function(){function t(t,e){this.key=t,this.Ta=e}return t.ua=function(t,e){return Lh.$(t.key,e.key)||kh(t.Ta,e.Ta)},t.ha=function(t,e){return kh(t.Ta,e.Ta)||Lh.$(t.key,e.key)},t}();function Lb(t,e){return"firestore_clients_"+t+"_"+e}function Ub(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function Fb(t,e){return"firestore_targets_"+t+"_"+e}var Vb=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ia=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new _h(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(fh("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qb=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ia=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new _h(r.error.code,r.error.message)),i?new t(e,r.state,s):(fh("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Bb=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ia=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=fd(),o=0;i&&o<r.activeTargetIds.length;++o)i=Vh(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(fh("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),zb=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ia=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(fh("SharedClientState","Failed to parse online state: "+e),null)},t}(),Hb=function(){function t(){this.activeTargetIds=fd()}return t.prototype.Aa=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ra=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ma=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),$b=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.Pa=r,this.ga=null,this.Pu=null,this.ps=null,this.ya=this.Va.bind(this),this.pa=new Zh(kh),this.lr=!1,this.va=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ba=Lb(this.persistenceKey,this.Pa),this.Sa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pa=this.pa.Tt(this.Pa,new Hb),this.Da=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Ca=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Na=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.xa=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fa=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ya)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(ra.b)(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,a,l,u,c=this;return Object(ra.d)(this,(function(h){switch(h.label){case 0:return[4,this.ga.Ic()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pa&&(i=this.getItem(Lb(this.persistenceKey,r)))&&(s=Bb.Ia(r,i))&&(this.pa=this.pa.Tt(s.clientId,s));for(this.Oa(),(o=this.storage.getItem(this.xa))&&(a=this.Ma(o))&&this.ka(a),l=0,u=this.va;l<u.length;l++)this.Va(u[l]);return this.va=[],this.window.addEventListener("unload",(function(){return c.fc()})),this.lr=!0,[2]}}))}))},t.prototype.Ss=function(t){this.setItem(this.Sa,JSON.stringify(t))},t.prototype.$a=function(){return this.La(this.pa)},t.prototype.Ba=function(t){var e=!1;return this.pa.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.qa=function(t){this.Ua(t,"pending")},t.prototype.Qa=function(t,e,n){this.Ua(t,e,n),this.Ka(t)},t.prototype.Wa=function(t){var e="not-current";if(this.Ba(t)){var n=this.storage.getItem(Fb(this.persistenceKey,t));if(n){var r=qb.Ia(t,n);r&&(e=r.state)}}return this.ja.Aa(t),this.Oa(),e},t.prototype.Ga=function(t){this.ja.Ra(t),this.Oa()},t.prototype.za=function(t){return this.ja.activeTargetIds.has(t)},t.prototype.Ha=function(t){this.removeItem(Fb(this.persistenceKey,t))},t.prototype.Ja=function(t,e,n){this.Ya(t,e,n)},t.prototype.Xa=function(t,e,n){var r=this;e.forEach((function(t){r.Ka(t)})),this.currentUser=t,n.forEach((function(t){r.qa(t)}))},t.prototype.Za=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.fc=function(){this.lr&&(this.window.removeEventListener("storage",this.ya),this.removeItem(this.ba),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return dh("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){dh("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){dh("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Va=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(dh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ba)return void fh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi((function(){return Object(ra.b)(e,void 0,void 0,(function(){var t,e,r,i,s,o;return Object(ra.d)(this,(function(a){if(this.lr){if(null!==n.key)if(this.Da.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Ca.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.uh(r)]}else if(this.Na.test(n.key)){if(null!==n.newValue&&(i=this.ah(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xa){if(null!==n.newValue&&(s=this.Ma(n.newValue)))return[2,this.ka(s)]}else if(n.key===this.Sa)(o=function(t){var e=ng.Ds;if(null!=t)try{var n=JSON.parse(t);bh("number"==typeof n),e=n}catch(t){fh("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ng.Ds&&this.ps(o);else if(n.key===this.Fa)return[2,this.ga.lh()]}else this.va.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ja",{get:function(){return this.pa.get(this.Pa)},enumerable:!1,configurable:!0}),t.prototype.Oa=function(){this.setItem(this.ba,this.ja.ma())},t.prototype.Ua=function(t,e,n){var r=new Vb(this.currentUser,t,e,n),i=Ub(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ma())},t.prototype.Ka=function(t){var e=Ub(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){this.storage.setItem(this.xa,JSON.stringify({clientId:this.Pa,onlineState:t}))},t.prototype.Ya=function(t,e,n){var r=Fb(this.persistenceKey,t),i=new qb(t,e,n);this.setItem(r,i.ma())},t.prototype.nh=function(){this.setItem(this.Fa,"value-not-used")},t.prototype.sh=function(t){var e=this.Da.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return Bb.Ia(n,e)},t.prototype.oh=function(t,e){var n=this.Ca.exec(t),r=Number(n[1]);return Vb.Ia(new uh(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ah=function(t,e){var n=this.Na.exec(t),r=Number(n[1]);return qb.Ia(r,e)},t.prototype.Ma=function(t){return zb.Ia(t)},t.prototype.uh=function(t){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.ga._h(t.batchId,t.state,t.error)]:(dh("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.hh=function(t){return this.ga.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pa.Tt(t,e):this.pa.remove(t),i=this.La(this.pa),s=this.La(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.ga.dh(o,a).then((function(){n.pa=r}))},t.prototype.ka=function(t){this.pa.get(t.clientId)&&this.Pu(t.onlineState)},t.prototype.La=function(t){var e=fd();return t.forEach((function(t,n){e=e.Gt(n.activeTargetIds)})),e},t}(),Gb=function(){function t(){this.wh=new Hb,this.Eh={},this.Pu=null,this.ps=null}return t.prototype.qa=function(t){},t.prototype.Qa=function(t,e,n){},t.prototype.Wa=function(t){return this.wh.Aa(t),this.Eh[t]||"not-current"},t.prototype.Ja=function(t,e,n){this.Eh[t]=e},t.prototype.Ga=function(t){this.wh.Ra(t)},t.prototype.za=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Ha=function(t){delete this.Eh[t]},t.prototype.$a=function(){return this.wh.activeTargetIds},t.prototype.Ba=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new Hb,Promise.resolve()},t.prototype.Xa=function(t,e,n){},t.prototype.Za=function(t){},t.prototype.fc=function(){},t.prototype.Ss=function(t){},t.prototype.eh=function(){},t}(),Wb=function(t){this.key=t},Kb=function(t){this.key=t},Qb=function(){function t(t,e){this.query=t,this.Th=e,this.Ih=null,this.le=!1,this.mh=hd(),this.ee=hd(),this.Ah=Tp(t),this.Rh=new pd(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Th},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.yh:new gd,i=e?e.Rh:this.Rh,s=e?e.ee:this.ee,o=i,a=!1,l=gp(this.query)&&i.size===this.query.limit?i.last():null,u=mp(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt((function(t,e){var c=i.get(t),h=e instanceof up?e:null;h&&(h=Ip(n.query,h)?h:null);var d=!!c&&n.ee.has(c.key),f=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.Vh(c,h)||(r.track({type:2,doc:h}),p=!0,(l&&n.Ah(h,l)>0||u&&n.Ah(h,u)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(l||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),gp(this.query)||mp(this.query))for(;o.size>this.query.limit;){var c=gp(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Rh:o,yh:r,ph:a,ee:s}},t.prototype.Vh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.ee=t.ee;var s=t.yh.Zt();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mh()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)})),this.bh(n);var o=e?this.Sh():[],a=0===this.mh.size&&this.le?1:0,l=a!==this.Ih;return this.Ih=a,0!==s.length||l?{snapshot:new md(this.query,t.Rh,i,s,t.ee,0===a,l,!1),Dh:o}:{Dh:o}},t.prototype.Yu=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Rh:this.Rh,yh:new gd,ee:this.ee,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Th.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).an},t.prototype.bh=function(t){var e=this;t&&(t._e.forEach((function(t){return e.Th=e.Th.add(t)})),t.fe.forEach((function(t){})),t.de.forEach((function(t){return e.Th=e.Th.delete(t)})),this.le=t.le)},t.prototype.Sh=function(){var t=this;if(!this.le)return[];var e=this.mh;this.mh=hd(),this.Rh.forEach((function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))}));var n=[];return e.forEach((function(e){t.mh.has(e)||n.push(new Kb(e))})),this.mh.forEach((function(t){e.has(t)||n.push(new Wb(t))})),n},t.prototype.Nh=function(t){this.Th=t.Bc,this.mh=hd();var e=this.gh(t.documents);return this.Zn(e,!0)},t.prototype.xh=function(){return md.ie(this.query,this.Rh,this.ee,0===this.Ih)},t}(),Jb=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Yb=function(t){this.key=t,this.Fh=!1},Xb=function(){function t(t,e,n,r,i,s){this.Cu=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=s,this.Lh={},this.Bh=new Gp((function(t){return Op(t)}),Cp),this.qh=new Map,this.Uh=[],this.Qh=new Zh(Lh.$),this.Kh=new Map,this.Wh=new Db,this.jh={},this.Gh=new Map,this.zh=Cm._o(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function Zb(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(ra.d)(this,(function(a){switch(a.label){case 0:return n=ky(t),(i=n.Bh.get(e))?(n.kh.Wa(i.targetId),r=i.view.xh(),[3,4]):[3,1];case 1:return[4,zm(n.Cu,wp(e))];case 2:return s=a.sent(),o=n.kh.Wa(s.targetId),[4,ty(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Jh&&ib(n.Oh,s),a.label=4;case 4:return[2,r]}}))}))}function ty(t,e,n,r){return Object(ra.b)(this,void 0,void 0,(function(){var i,s,o,a,l,u;return Object(ra.d)(this,(function(c){switch(c.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return Object(ra.b)(this,void 0,void 0,(function(){var i,s,o;return Object(ra.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.gh(n)).ph?[4,$m(t.Cu,e.query,!1).then((function(t){return e.view.gh(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.re.get(e.targetId),o=e.view.Zn(i,t.Jh,s),[2,(fy(t,e.targetId,o.Dh),o.snapshot)]}}))}))}(t,e,n,r)},[4,$m(t.Cu,e,!0)];case 1:return i=c.sent(),s=new Qb(e,i.Bc),o=s.gh(i.documents),a=yd.he(n,r&&"Offline"!==t.onlineState),l=s.Zn(o,t.Jh,a),fy(t,n,l.Dh),u=new Jb(e,n,s),[2,(t.Bh.set(e,u),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),l.snapshot)]}}))}))}function ey(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ra.d)(this,(function(s){switch(s.label){case 0:return n=yh(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter((function(t){return!Cp(t,e)}))),void n.Bh.delete(e))]:n.Jh?(n.kh.Ga(r.targetId),n.kh.Ba(r.targetId)?[3,2]:[4,Hm(n.Cu,r.targetId,!1).then((function(){n.kh.Ha(r.targetId),sb(n.Oh,r.targetId),hy(n,r.targetId)})).catch(Qm)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return hy(n,r.targetId),[4,Hm(n.Cu,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function ny(t,e,n){return Object(ra.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(ra.d)(this,(function(a){switch(a.label){case 0:r=xy(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=yh(t),i=jh.now(),s=e.reduce((function(t,e){return t.add(e.key)}),hd());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Oc._s(t,s).next((function(s){n=s;for(var o=[],a=0,l=e;a<l.length;a++){var u=l[a],c=Kf(u,n.get(u.key));null!=c&&o.push(new Xf(u.key,c,ap(c.proto.mapValue),zf.exists(!0)))}return r.rs.Sr(t,i,o,e)}))})).then((function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}}))}(r.Cu,e)];case 2:return i=a.sent(),r.kh.qa(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.h()];r||(r=new Zh(kh)),r=r.Tt(e,n),t.jh[t.currentUser.h()]=r}(r,i.batchId,n),[4,my(r,i.Qn)];case 3:return a.sent(),[4,bb(r.Oh)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=bg(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function ry(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r;return Object(ra.d)(this,(function(i){switch(i.label){case 0:n=yh(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,qm(n.Cu,e)];case 2:return r=i.sent(),e.re.forEach((function(t,e){var r=n.Kh.get(e);r&&(bh(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.Fh=!0:t.fe.size>0?bh(r.Fh):t.de.size>0&&(bh(r.Fh),r.Fh=!1))})),[4,my(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Qm(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function iy(t,e,n){var r=yh(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach((function(t,n){var r=n.view.Yu(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=yh(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Yu(e)&&(r=!0)})),r&&Pb(n)}(r.Mh,e),i.length&&r.Lh.au(i),r.onlineState=e,r.Jh&&r.kh.Za(e)}}function sy(t,e,n){return Object(ra.b)(this,void 0,void 0,(function(){var r,i,s,o,a,l;return Object(ra.d)(this,(function(u){switch(u.label){case 0:return(r=yh(t)).kh.Ja(e,"rejected",n),i=r.Kh.get(e),(s=i&&i.key)?(o=(o=new Zh(Lh.$)).Tt(s,new cp(s,Rh.min())),a=hd().add(s),l=new bd(Rh.min(),new Map,new nd(kh),o,a),[4,ry(r,l)]):[3,2];case 1:return u.sent(),r.Qh=r.Qh.remove(s),r.Kh.delete(e),gy(r),[3,4];case 2:return[4,Hm(r.Cu,e,!1).then((function(){return hy(r,e,n)})).catch(Qm)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))}function oy(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ra.d)(this,(function(s){switch(s.label){case 0:n=yh(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Fm(n.Cu,e)];case 2:return i=s.sent(),cy(n,r,null),uy(n,r),n.kh.Qa(r,"acknowledged"),[4,my(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Qm(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function ay(t,e,n){return Object(ra.b)(this,void 0,void 0,(function(){var r,i;return Object(ra.d)(this,(function(s){switch(s.label){case 0:r=yh(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=yh(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.rs.Cr(t,e).next((function(e){return bh(null!==e),r=e.keys(),n.rs.$r(t,e)})).next((function(){return n.rs.Ur(t)})).next((function(){return n.Oc._s(t,r)}))}))}(r.Cu,e)];case 2:return i=s.sent(),cy(r,e,n),uy(r,e),r.kh.Qa(e,"rejected",n),[4,my(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Qm(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function ly(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(ra.d)(this,(function(a){switch(a.label){case 0:cb((n=yh(t)).Oh)||dh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=yh(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.rs.Or(t)}))}(n.Cu)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return s=a.sent(),o=bg(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function uy(t,e){(t.Gh.get(e)||[]).forEach((function(t){t.resolve()})),t.Gh.delete(e)}function cy(t,e,n){var r=yh(t),i=r.jh[r.currentUser.h()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.jh[r.currentUser.h()]=i}}function hy(t,e,n){void 0===n&&(n=null),t.kh.Ga(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var s=i[r];t.Bh.delete(s),n&&t.Lh.Xh(s,n)}t.qh.delete(e),t.Jh&&t.Wh.da(e).forEach((function(e){t.Wh.Qr(e)||dy(t,e)}))}function dy(t,e){var n=t.Qh.get(e);null!==n&&(sb(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),gy(t))}function fy(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Wb?(t.Wh.Do(s.key,e),py(t,s)):s instanceof Kb?(dh("SyncEngine","Document no longer in limbo: "+s.key),t.Wh.No(s.key,e),t.Wh.Qr(s.key)||dy(t,s.key)):mh()}}function py(t,e){var n=e.key;t.Qh.get(n)||(dh("SyncEngine","New document in limbo: "+n),t.Uh.push(n),gy(t))}function gy(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new Yb(e)),t.Qh=t.Qh.Tt(e,n),ib(t.Oh,new Qh(wp(pp(e.path)),n,2,ng.Ds))}}function my(t,e,n){return Object(ra.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(ra.d)(this,(function(a){switch(a.label){case 0:return r=yh(t),i=[],s=[],o=[],r.Bh.W()?[3,3]:(r.Bh.forEach((function(t,a){o.push(r.Yh(a,e,n).then((function(t){if(t){r.Jh&&r.kh.Ja(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=eg.Vs(a.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return a.sent(),r.Lh.au(i),[4,function(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,l,u;return Object(ra.d)(this,(function(c){switch(c.label){case 0:n=yh(t),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Wp.forEach(e,(function(e){return Wp.forEach(e.gs,(function(r){return n.persistence.Vr.Do(t,e.targetId,r)})).next((function(){return Wp.forEach(e.ys,(function(r){return n.persistence.Vr.No(t,e.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!ag(r=c.sent()))throw r;return dh("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(l=n.Cc.get(a),u=l.Et(l.ft),n.Cc=n.Cc.Tt(a,u));return[2]}}))}))}(r.Cu,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function by(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r;return Object(ra.d)(this,(function(i){switch(i.label){case 0:return(n=yh(t)).currentUser.isEqual(e)?[3,3]:(dh("SyncEngine","User change. New user:",e.h()),[4,Um(n.Cu,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Gh.forEach((function(t){t.forEach((function(t){t.reject(new _h(vh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Gh.clear()}(n),n.kh.Xa(e,r.$c,r.Lc),[4,my(n,r.kc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function yy(t,e){var n=yh(t),r=n.Kh.get(e);if(r&&r.Fh)return hd().add(r.key);var i=hd(),s=n.qh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var l=n.Bh.get(a[o]);i=i.Gt(l.view.Ph)}return i}function vy(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ra.d)(this,(function(s){switch(s.label){case 0:return[4,$m((n=yh(t)).Cu,e.query,!0)];case 1:return r=s.sent(),i=e.view.Nh(r),[2,(n.Jh&&fy(n,e.targetId,i.Dh),i)]}}))}))}function _y(t){return Object(ra.b)(this,void 0,void 0,(function(){var e;return Object(ra.d)(this,(function(n){return[2,Wm((e=yh(t)).Cu).then((function(t){return my(e,t)}))]}))}))}function wy(t,e,n,r){return Object(ra.b)(this,void 0,void 0,(function(){var i,s;return Object(ra.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=yh(t),r=yh(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Nr(t,e).next((function(e){return e?n.Oc._s(t,e):Wp.resolve(null)}))}))}((i=yh(t)).Cu,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,bb(i.Oh)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cy(i,e,r||null),uy(i,e),function(t,e){yh(yh(t).rs).Br(e)}(i.Cu,e)):mh(),o.label=4;case 4:return[4,my(i,s)];case 5:return o.sent(),[3,7];case 6:dh("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function Ey(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,l;return Object(ra.d)(this,(function(u){switch(u.label){case 0:return ky(n=yh(t)),xy(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$a(),[4,Cy(n,r.H())]);case 1:return i=u.sent(),n.Hh=!0,[4,Ob(n.Oh,!0)];case 2:for(u.sent(),s=0,o=i;s<o.length;s++)ib(n.Oh,o[s]);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(a=[],l=Promise.resolve(),n.qh.forEach((function(t,e){n.kh.za(e)?a.push(e):l=l.then((function(){return hy(n,e),Hm(n.Cu,e,!0)})),sb(n.Oh,e)})),[4,l]);case 4:return u.sent(),[4,Cy(n,a)];case 5:return u.sent(),function(t){var e=yh(t);e.Kh.forEach((function(t,n){sb(e.Oh,n)})),e.Wh.wa(),e.Kh=new Map,e.Qh=new Zh(Lh.$)}(n),n.Hh=!1,[4,Ob(n.Oh,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))}function Cy(t,e,n){return Object(ra.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,l,u,c,h,d,f,p;return Object(ra.d)(this,(function(g){switch(g.label){case 0:n=yh(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(l=void 0,(u=n.qh.get(a=o[s]))&&0!==u.length?[4,zm(n.Cu,wp(u[0]))]:[3,7]):[3,13];case 2:l=g.sent(),c=0,h=u,g.label=3;case 3:return c<h.length?(d=n.Bh.get(h[c]),[4,vy(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,Gm(n.Cu,a)];case 8:return p=g.sent(),[4,zm(n.Cu,p)];case 9:return l=g.sent(),[4,ty(n,Oy(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(l),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Lh.au(i),r)]}}))}))}function Oy(t){return fp(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Sy(t){var e=yh(t);return yh(yh(e.Cu).persistence).Ic()}function Iy(t,e,n,r){return Object(ra.b)(this,void 0,void 0,(function(){var i,s,o;return Object(ra.d)(this,(function(a){switch(a.label){case 0:return(i=yh(t)).Hh?(dh("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Wm(i.Cu)];case 3:return s=a.sent(),o=bd.ae(e,"current"===n),[4,my(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Hm(i.Cu,e,!0)];case 6:return a.sent(),hy(i,e,r),[3,8];case 7:mh(),a.label=8;case 8:return[2]}}))}))}function Ty(t,e,n){return Object(ra.b)(this,void 0,void 0,(function(){var r,i,s,o,a,l,u,c,h;return Object(ra.d)(this,(function(d){switch(d.label){case 0:if(!(r=ky(t)).Hh)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.qh.has(o=s[i])?(dh("SyncEngine","Adding an already active target "+o),[3,5]):[4,Gm(r.Cu,o)]:[3,6];case 2:return a=d.sent(),[4,zm(r.Cu,a)];case 3:return l=d.sent(),[4,ty(r,Oy(a),l.targetId,!1)];case 4:d.sent(),ib(r.Oh,l),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return r.qh.has(t)?[4,Hm(r.Cu,t,!1).then((function(){sb(r.Oh,t),hy(r,t)})).catch(Qm)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=0,h=n,d.label=7;case 7:return c<h.length?[5,u(h[c])]:[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}function ky(t){var e=yh(t);return e.Oh.xu.Qu=ry.bind(null,e),e.Oh.xu.Xe=yy.bind(null,e),e.Oh.xu.Uu=sy.bind(null,e),e.Lh.au=jb.bind(null,e.Mh),e.Lh.Xh=Rb.bind(null,e.Mh),e}function xy(t){var e=yh(t);return e.Oh.xu.Ku=oy.bind(null,e),e.Oh.xu.Wu=ay.bind(null,e),e}var Ay=function(){function t(){}return t.prototype.Mc=function(t){this.Zh=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(Rh.min())?this.tl(t,e):this.Zh._s(t,r).next((function(s){var o=i.el(e,s);return(gp(e)||mp(e))&&i.ph(e.limitType,o,r,n)?i.tl(t,e):(hh()<=sa.a.DEBUG&&dh("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Sp(e)),i.Zh.ws(t,e,n).next((function(t){return o.forEach((function(e){t=t.Tt(e.key,e)})),t})))}))},t.prototype.el=function(t,e){var n=new nd(Tp(t));return e.forEach((function(e,r){r instanceof up&&Ip(t,r)&&(n=n.add(r))})),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.tl=function(t,e){return hh()<=sa.a.DEBUG&&dh("IndexFreeQueryEngine","Using full collection scan to execute query:",Sp(e)),this.Zh.ws(t,e,Rh.min())},t}(),jy=function(){function t(t,e){this.os=t,this.Vr=e,this.rs=[],this.nl=1,this.sl=new nd(Mb.ua)}return t.prototype.br=function(t){return Wp.resolve(0===this.rs.length)},t.prototype.Sr=function(t,e,n,r){var i=this.nl;this.nl++;var s=new Hp(i,e,n,r);this.rs.push(s);for(var o=0,a=r;o<a.length;o++){var l=a[o];this.sl=this.sl.add(new Mb(l.key,i)),this.os.Dr(t,l.key.path.q())}return Wp.resolve(s)},t.prototype.Cr=function(t,e){return Wp.resolve(this.il(e))},t.prototype.Fr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return Wp.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Or=function(){return Wp.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.Mr=function(t){return Wp.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new Mb(e,0),i=new Mb(e,Number.POSITIVE_INFINITY),s=[];return this.sl.Kt([r,i],(function(t){var e=n.il(t.Ta);s.push(e)})),Wp.resolve(s)},t.prototype.ds=function(t,e){var n=this,r=new nd(kh);return e.forEach((function(t){var e=new Mb(t,0),i=new Mb(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],(function(t){r=r.add(t.Ta)}))})),Wp.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;Lh.ot(i)||(i=i.child(""));var s=new Mb(new Lh(i),0),o=new nd(kh);return this.sl.Wt((function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(o=o.add(t.Ta)),!0)}),s),Wp.resolve(this.ol(o))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.$r=function(t,e){var n=this;bh(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return Wp.forEach(e.mutations,(function(i){var s=new Mb(i.key,e.batchId);return r=r.delete(s),n.Vr.qr(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Br=function(t){},t.prototype.Qr=function(t,e){var n=new Mb(e,0),r=this.sl.jt(n);return Wp.resolve(e.isEqual(r&&r.key))},t.prototype.Ur=function(t){return Wp.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),Ry=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new Zh(Lh.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:o,readTime:n}),this.size+=o-s,this.os.Dr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return Wp.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=od();return e.forEach((function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)})),Wp.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=ld(),i=new Lh(e.path.child("")),s=this.docs.Vt(i);s.Nt();){var o=s.Ct(),a=o.value,l=a.zn,u=a.readTime;if(!e.path.j(o.key.path))break;u.F(n)<=0||l instanceof up&&Ip(e,l)&&(r=r.Tt(l.key,l))}return Wp.resolve(r)},t.prototype.al=function(t,e){return Wp.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Xr=function(t){return new Py(this)},t.prototype.eo=function(t){return Wp.resolve(this.size)},t}(),Py=function(t){function e(e){var n=this;return(n=t.call(this)||this).no=e,n}return Object(ra.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach((function(r,i){i&&i.zn?n.push(e.no.jn(t,i.zn,e.Wn(r))):e.no.Hn(r)})),Wp.qn(n)},e.prototype.Yn=function(t,e){return this.no.Jn(t,e)},e.prototype.Xn=function(t,e){return this.no.getEntries(t,e)},e}(Kp),Ny=function(){function t(t){this.persistence=t,this.hl=new Gp((function(t){return zh(t)}),Hh),this.lastRemoteSnapshotVersion=Rh.min(),this.highestTargetId=0,this.ll=0,this._l=new Db,this.targetCount=0,this.fl=Cm.lo()}return t.prototype.Ue=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),Wp.resolve()},t.prototype.To=function(t){return Wp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Io=function(t){return Wp.resolve(this.ll)},t.prototype.fo=function(t){return this.highestTargetId=this.fl.next(),Wp.resolve(this.highestTargetId)},t.prototype.mo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),Wp.resolve()},t.prototype.Ro=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new Cm(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Ao=function(t,e){return this.Ro(e),this.targetCount+=1,Wp.resolve()},t.prototype.yo=function(t,e){return this.Ro(e),Wp.resolve()},t.prototype.Vo=function(t,e){return this.hl.delete(e.target),this._l.da(e.targetId),this.targetCount-=1,Wp.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return this.hl.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(o),s.push(r.po(t,a.targetId)),i++)})),Wp.qn(s).next((function(){return i}))},t.prototype.vo=function(t){return Wp.resolve(this.targetCount)},t.prototype.bo=function(t,e){var n=this.hl.get(e)||null;return Wp.resolve(n)},t.prototype.So=function(t,e,n){return this._l.la(e,n),Wp.resolve()},t.prototype.Co=function(t,e,n){this._l.fa(e,n);var r=this.persistence.Vr,i=[];return r&&e.forEach((function(e){i.push(r.qr(t,e))})),Wp.qn(i)},t.prototype.po=function(t,e){return this._l.da(e),Wp.resolve()},t.prototype.xo=function(t,e){var n=this._l.Ea(e);return Wp.resolve(n)},t.prototype.Qr=function(t,e){return Wp.resolve(this._l.Qr(e))},t}(),Dy=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ro=function(t,e){return Wp.resolve(this.dl.get(e))},t.prototype.oo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:nf(n.createTime)}),Wp.resolve()},t.prototype.co=function(t,e){return Wp.resolve(this.wl.get(e))},t.prototype.uo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Ug(n.bundledQuery),readTime:nf(n.readTime)}),Wp.resolve()},t}(),My=function(){function t(t,e){var n=this;this.El={},this.ko=new ng(0),this.$o=!1,this.$o=!0,this.Vr=t(this),this.jo=new Ny(this),this.os=new Yg,this.ss=function(t,e){return new Ry(t,(function(t){return n.Vr.Tl(t)}))}(this.os),this.serializer=new kg(e),this.Go=new Dy(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.fc=function(){return this.$o=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.tc=function(){},t.prototype.ec=function(){},t.prototype.Pc=function(){return this.os},t.prototype.mc=function(t){var e=this.El[t.h()];return e||(e=new jy(this.os,this.Vr),this.El[t.h()]=e),e},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r=this;dh("MemoryPersistence","Starting transaction:",t);var i=new Ly(this.ko.next());return this.Vr.Il(),n(i).next((function(t){return r.Vr.ml(i).next((function(){return t}))})).Ln().then((function(t){return i.ns(),t}))},t.prototype.Al=function(t,e){return Wp.Un(Object.values(this.El).map((function(n){return function(){return n.Qr(t,e)}})))},t}(),Ly=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fo=e,n}return Object(ra.c)(e,t),e}(Zp),Uy=function(){function t(t){this.persistence=t,this.Rl=new Db,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw mh()},enumerable:!1,configurable:!0}),t.prototype.Do=function(t,e,n){return this.Rl.Do(n,e),this.yl.delete(n.toString()),Wp.resolve()},t.prototype.No=function(t,e,n){return this.Rl.No(n,e),this.yl.add(n.toString()),Wp.resolve()},t.prototype.qr=function(t,e){return this.yl.add(e.toString()),Wp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.da(e.targetId).forEach((function(t){return n.yl.add(t.toString())}));var r=this.persistence.Ac();return r.xo(t,e.targetId).next((function(t){t.forEach((function(t){return n.yl.add(t.toString())}))})).next((function(){return r.Vo(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Rc().Xr();return Wp.forEach(this.yl,(function(r){var i=Lh.st(r);return e.Vl(t,i).next((function(t){t||n.Hn(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.Sc=function(t,e){var n=this;return this.Vl(t,e).next((function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())}))},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return Wp.Un([function(){return Wp.resolve(n.Rl.Qr(e))},function(){return n.persistence.Ac().Qr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),Fy=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.cu=function(t){this.bl=t},t.prototype.nu=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),Vy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},qy=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(ra.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,s){var o=new sh;o.listenOnce(nh.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case eh.NO_ERROR:var e=o.getResponseJson();dh("Connection","XHR received:",JSON.stringify(e)),i(e);break;case eh.TIMEOUT:dh("Connection",'RPC "'+t+'" timed out'),s(new _h(vh.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:var n=o.getStatus();if(dh("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(vh).indexOf(e)>=0?e:vh.UNKNOWN}(r.status);s(new _h(a,r.message))}else s(new _h(vh.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new _h(vh.UNAVAILABLE,"Connection failed."));break;default:mh()}}finally{dh("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype.uu=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Jc,i=Zl(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(s.initMessageHeaders,e),Object(oa.m)()||Object(oa.o)()||Object(oa.k)()||Object(oa.l)()||Object(oa.p)()||Object(oa.j)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");dh("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),l=!1,u=!1,c=new Fy({pl:function(t){u?dh("Connection","Not sending because WebChannel is closed:",t):(l||(dh("Connection","Opening WebChannel transport."),a.open(),l=!0),dh("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,ih.EventType.OPEN,(function(){u||dh("Connection","WebChannel transport opened.")})),h(a,ih.EventType.CLOSE,(function(){u||(u=!0,dh("Connection","WebChannel transport closed"),c.Nl())})),h(a,ih.EventType.ERROR,(function(t){u||(u=!0,ph("Connection","WebChannel transport errored:",t),c.Nl(new _h(vh.UNAVAILABLE,"The operation could not be completed")))})),h(a,ih.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];bh(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){dh("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Wh[t];if(void 0!==e)return Xh(e)}(i),o=r.message;void 0===s&&(s=vh.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),u=!0,c.Nl(new _h(s,o)),a.close()}else dh("Connection","WebChannel received:",n),c.xl(n)}})),h(i,rh.STAT_EVENT,(function(t){10===t.stat?dh("Connection","Detected buffering proxy"):11===t.stat&&dh("Connection","Detected no buffering proxy")})),setTimeout((function(){c.Cl()}),0),c},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.Au=function(t,e,n,r){var i=this.kl(t,e);dh("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.Ll(t,i,s,n).then((function(t){return dh("RestConnection","Received: ",t),t}),(function(e){throw ph("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ru=function(t,e,n,r){return this.Au(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.1",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+Vy[t]},t}()),By=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Lu=function(t){this.Kl.push(t)},t.prototype.fc=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){dh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){dh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),zy=function(){function t(){}return t.prototype.Lu=function(t){},t.prototype.fc=function(){},t}(),Hy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return this.serializer=Jp(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Cu=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Lm(this.persistence,new Ay,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new My(Uy.gl,this.serializer)},t.prototype.jl=function(t){return new Gb},t.prototype.terminate=function(){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.fc()];case 1:return t.sent(),[4,this.persistence.fc()];case 2:return t.sent(),[2]}}))}))},t}(),$y=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(ra.c)(e,t),e.prototype.initialize=function(e){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Km(this.Cu)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,xy(this.Xl.ga)];case 4:return n.sent(),[4,bb(this.Xl.Oh)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return Lm(this.persistence,new Ay,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new Eg(this.persistence.Vr.cr,t.di)},e.prototype.Gl=function(t){var e=Dm(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?wg.er(this.cacheSizeBytes):wg.ir;return new Am(this.synchronizeTabs,e,t.clientId,n,t.di,fg(),pg(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new Gb},e}(Hy),Gy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(ra.c)(e,t),e.prototype.initialize=function(e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r=this;return Object(ra.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.ga,this.kh instanceof $b?(this.kh.ga={_h:wy.bind(null,n),fh:Iy.bind(null,n),dh:Ty.bind(null,n),Ic:Sy.bind(null,n),lh:_y.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Zo((function(t){return Object(ra.b)(r,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return[4,Ey(this.Xl.ga,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Cu):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=fg();if(!$b.Gs(e))throw new _h(vh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Dm(t.Fl.t,t.Fl.persistenceKey);return new $b(e,t.di,n,t.clientId,t.Yl)},e}($y),Wy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n=this;return Object(ra.d)(this,(function(r){switch(r.label){case 0:return this.Cu?[3,2]:(this.Cu=t.Cu,this.kh=t.kh,this.Nu=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.ga=this.n_(e,!t.synchronizeTabs),this.kh.Pu=function(t){return iy(n.ga,t,1)},this.Oh.xu.s_=by.bind(null,this.ga),[4,Ob(this.Oh,this.ga.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new kb},t.prototype.Zl=function(t){var e=Jp(t.Fl.t),n=new qy(t.Fl);return function(t,e,n){return new Zm(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Cu,n=this.Nu,r=t.di,i=function(t){return iy(o.ga,t,0)},s=By.Gs()?new By:new zy,new eb(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new Xb(t,e,n,r,i,s);return o&&(a.Hh=!0),a}(this.Cu,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object(ra.b)(this,void 0,void 0,(function(){var e;return Object(ra.d)(this,(function(n){switch(n.label){case 0:return e=yh(t),dh("RemoteStore","RemoteStore shutting down."),e.Mu.add(5),[4,rb(e)];case 1:return n.sent(),e.$u.fc(),e.Bu.set("Unknown"),[2]}}))}))}(this.Oh)},t}(),Ky=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Qy=function(t){this.o_=t};function Jy(t,e,n){if(!n)throw new _h(vh.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Yy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _h(vh.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Xy(t,e,n,r){if(!0===e&&!0===r)throw new _h(vh.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Zy(t){if(!Lh.ot(t))throw new _h(vh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function tv(t){if(Lh.ot(t))throw new _h(vh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ev(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":mh()}function nv(t,e){if(t instanceof Qy&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new _h(vh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ev(t);throw new _h(vh.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function rv(t,e){if(e<=0)throw new _h(vh.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var iv=function(t){this.c_=t},sv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ra.c)(e,t),e.prototype.u_=function(t){if(2!==t.a_)throw t.h_(1===t.a_?this.c_+"() can only appear at the top level of your update data":this.c_+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(iv);function ov(t,e,n){return new u_({a_:3,l_:e.settings.l_,methodName:t.c_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var av=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ra.c)(e,t),e.prototype.u_=function(t){return new qf(t.path,new Rf)},e.prototype.isEqual=function(t){return t instanceof e},e}(iv),lv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(ra.c)(e,t),e.prototype.u_=function(t){var e=ov(this,t,!0),n=this.f_.map((function(t){return g_(t,e)})),r=new Pf(n);return new qf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(iv),uv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(ra.c)(e,t),e.prototype.u_=function(t){var e=ov(this,t,!0),n=this.f_.map((function(t){return g_(t,e)})),r=new Df(n);return new qf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(iv),cv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object(ra.c)(e,t),e.prototype.u_=function(t){var e=new Lf(t.serializer,Xd(t.serializer,this.d_));return new qf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(iv),hv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new _h(vh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _h(vh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.E_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.E_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.E_===t.E_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.E_}},t.prototype.C=function(t){return kh(this.w_,t.w_)||kh(this.E_,t.E_)},t}(),dv=function(){function t(t){this.T_=t}return t.fromBase64String=function(e){try{return new t(Gh.fromBase64String(e))}catch(e){throw new _h(vh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Gh.fromUint8Array(e))},t.prototype.toBase64=function(){return this.T_.toBase64()},t.prototype.toUint8Array=function(){return this.T_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.T_.isEqual(t.T_)},t}(),fv=new Map,pv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new _h(vh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _h(vh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Xy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),gv=function(){function t(t,e){this.I_="(lite)",this.m_=new pv({}),this.A_=!1,t instanceof lh?(this.R_=t,this.P_=new Eh):(this.g_=t,this.R_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new _h(vh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(t.options.projectId)}(t),this.P_=new Ch(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.g_)throw new _h(vh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.g_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"V_",{get:function(){return void 0!==this.p_},enumerable:!1,configurable:!0}),t.prototype.v_=function(t){if(this.A_)throw new _h(vh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.m_=new pv(t),void 0!==t.credentials&&(this.P_=function(t){if(!t)return new Eh;switch(t.type){case"gapi":var e=t.client;return bh(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Sh(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new _h(vh.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.b_=function(){return this.m_},t.prototype.S_=function(){return this.A_=!0,this.m_},t.prototype._delete=function(){return this.p_||(this.p_=this.D_()),this.p_},t.prototype.D_=function(){return function(t){var e=fv.get(t);e&&(dh("ComponentProvider","Removing Datastore"),fv.delete(t),e.terminate())}(this),Promise.resolve()},t}();function mv(){if("undefined"==typeof Uint8Array)throw new _h(vh.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function bv(){if("undefined"==typeof atob)throw new _h(vh.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var yv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ra.c)(e,t),e.fromBase64String=function(t){return bv(),new e(dv.fromBase64String(t))},e.fromUint8Array=function(t){return mv(),new e(dv.fromUint8Array(t))},e.prototype.toBase64=function(){return bv(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return mv(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Qy),vv=function(){function t(){}return t.prototype.C_=function(t,e){switch(void 0===e&&(e="none"),Rd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Fd(t.integerValue||t.doubleValue);case 3:return this.N_(t.timestampValue);case 4:return this.x_(t,e);case 5:return t.stringValue;case 6:return this.F_(Vd(t.bytesValue));case 7:return this.O_(t.referenceValue);case 8:return this.M_(t.geoPointValue);case 9:return this.k_(t.arrayValue,e);case 10:return this.L_(t.mapValue,e);default:throw mh()}},t.prototype.L_=function(t,e){var n=this,r={};return Td(t.fields||{},(function(t,i){r[t]=n.C_(i,e)})),r},t.prototype.M_=function(t){return new hv(Fd(t.latitude),Fd(t.longitude))},t.prototype.k_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.C_(t,e)}))},t.prototype.x_=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return xd(n)?t(n):n}(t);return null==n?null:this.C_(n,e);case"estimate":return this.N_(Ad(t));default:return null}},t.prototype.N_=function(t){var e=Ud(t);return new jh(e.seconds,e.nanos)},t.prototype.B_=function(t,e){var n=Nh.Y(t);bh(Tf(n));var r=new lh(n.get(1),n.get(3)),i=new Lh(n.B(5));return r.isEqual(e)||fh("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),_v=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ra.c)(e,t),e.prototype.F_=function(t){return new yv(new dv(t))},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return W_.q_(e,this.firestore,null)},e}(vv),wv=function(){function t(t,e,n,r,i){this.U_=t,this.Q_=e,this.K_=n,this.W_=r,this.j_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Uv(this.U_,this.j_,this.K_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.W_},t.prototype.data=function(){if(this.W_){if(this.j_){var t=new Ev(this.U_,this.Q_,this.K_,this.W_,null);return this.j_.fromFirestore(t)}return this.Q_.C_(this.W_.En())}},t.prototype.get=function(t){if(this.W_){var e=this.W_.data().field(Cv("DocumentSnapshot.get",t));if(null!==e)return this.Q_.C_(e)}},t}(),Ev=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ra.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(wv);function Cv(t,e){return"string"==typeof e?w_(t,e):e instanceof Qy?e.o_.G_:e.G_}var Ov=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new _h(vh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.G_=new Mh(t)}return t.prototype.isEqual=function(t){return this.G_.isEqual(t.G_)},t}(),Sv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).z_=new mg,r.I_="name"in e?e.name:"[DEFAULT]",r}return Object(ra.c)(e,t),e.prototype.D_=function(){return this.H_||H_(this),this.H_.terminate()},e}(gv);function Iv(t,e,n){var r=this,i=new Qp;return t.di.enqueue((function(){return Object(ra.b)(r,void 0,void 0,(function(){var r;return Object(ra.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,T_(t,n)];case 1:return s.sent(),[4,k_(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===vh.FAILED_PRECONDITION||t.code===vh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Tv(t){if(t.y_||t.V_)throw new _h(vh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var kv=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).U_=e,a.J_=e,a.metadata=s,a}return Object(ra.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.W_){if(this.j_){var e=new xv(this.U_,this.Q_,this.K_,this.W_,this.metadata,null);return this.j_.fromFirestore(e,t)}return this.Q_.C_(this.W_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.W_){var n=this.W_.data().field(Cv("DocumentSnapshot.get",t));if(null!==n)return this.Q_.C_(n,e.serverTimestamps)}},e}(wv),xv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ra.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(kv),Av=function(){function t(t,e,n,r){this.U_=t,this.Q_=e,this.Y_=r,this.metadata=new Y_(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Y_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Y_.docs.forEach((function(r){t.call(e,new xv(n.U_,n.Q_,r.key,r,new Y_(n.Y_.ee.has(r.key),n.Y_.fromCache),n.query.j_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.Y_.se)throw new _h(vh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.X_&&this.Z_===e||(this.X_=function(t,e){if(t.Y_.te.W()){var n=0;return t.Y_.docChanges.map((function(e){return{type:"added",doc:new xv(t.U_,t.Q_,e.doc.key,e.doc,new Y_(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),oldIndex:-1,newIndex:n++}}))}var r=t.Y_.te;return t.Y_.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new xv(t.U_,t.Q_,e.doc.key,e.doc,new Y_(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:jv(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this.Z_=e),this.X_},t}();function jv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mh()}}function Rv(t,e){return t instanceof kv&&e instanceof kv?t.U_===e.U_&&t.K_.isEqual(e.K_)&&(null===t.W_?null===e.W_:t.W_.isEqual(e.W_))&&t.j_===e.j_:t instanceof Av&&e instanceof Av&&t.U_===e.U_&&r_(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.Y_.isEqual(e.Y_)}var Pv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ra.c)(e,t),e.prototype.F_=function(t){return new dv(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new Uv(this.firestore,null,e)},e}(vv);function Nv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=nv(t.firestore,Sv),o=i_(s);return e instanceof Qy&&(e=e.o_),Mv(s,("string"==typeof e||e instanceof Ov?f_(o,"updateDoc",t.K_,e,n,r):d_(o,"updateDoc",t.K_,e)).ef(t.K_,zf.exists(!0)))}function Dv(t){for(var e,n,r,i=this,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];var a={includeMetadataChanges:!1},l=0;"object"!=typeof s[l]||Yp(s[l])||(a=s[l],l++);var u,c,h,d={includeMetadataChanges:a.includeMetadataChanges};if(Yp(s[l])){var f=s[l];s[l]=null===(e=f.next)||void 0===e?void 0:e.bind(f),s[l+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),s[l+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Uv)c=nv(t.firestore,Sv),h=pp(t.K_.path),u={next:function(e){s[l]&&s[l](Lv(c,t,e))},error:s[l+1],complete:s[l+2]};else{c=nv(t.firestore,Sv),h=t.tf;var p=new Pv(c);u={next:function(e){s[l]&&s[l](new Av(c,p,t,e))},error:s[l+1],complete:s[l+2]},Yv(t.tf)}var g=z_(c),m=new Ky(u),b=new Nb(h,m,d);return c.z_.Ri((function(){return Object(ra.b)(i,void 0,void 0,(function(){var t;return Object(ra.d)(this,(function(e){switch(e.label){case 0:return t=xb,[4,D_(g)];case 1:return[2,t.apply(void 0,[e.sent(),b])]}}))}))})),function(){m.r_(),c.z_.Ri((function(){return Object(ra.b)(i,void 0,void 0,(function(){var t;return Object(ra.d)(this,(function(e){switch(e.label){case 0:return t=Ab,[4,D_(g)];case 1:return[2,t.apply(void 0,[e.sent(),b])]}}))}))}))}}function Mv(t,e){return function(t,e){var n=this,r=new Qp;return t.di.Ri((function(){return Object(ra.b)(n,void 0,void 0,(function(){var n;return Object(ra.d)(this,(function(i){switch(i.label){case 0:return n=ny,[4,N_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(z_(t),e)}function Lv(t,e,n){var r=n.docs.get(e.K_),i=new Pv(t);return new kv(t,i,e.K_,r,new Y_(n.hasPendingWrites,n.fromCache),e.j_)}var Uv=function(){function t(t,e,n){this.j_=e,this.K_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"nf",{get:function(){return this.K_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.K_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xv(this.firestore,this.j_,this.K_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.K_)},t}(),Fv=function(){function t(t,e,n){this.j_=e,this.tf=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.tf)},t}(),Vv=function(){};function qv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.sf(t)}return t}var Bv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).rf=e,i.cf=n,i.uf=r,i.type="where",i}return Object(ra.c)(e,t),e.prototype.sf=function(t){var e=i_(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.tt()){if("array-contains"===s||"array-contains-any"===s)throw new _h(vh.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Qv(o,s);for(var l=[],u=0,c=o;u<c.length;u++)l.push(Kv(r,t,c[u]));a={arrayValue:{values:l}}}else a=Kv(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Qv(o,s),a=p_(n,"where",o,"in"===s||"not-in"===s);var h=kp.create(i,s,a);return function(t,e){if(e.An()){var n=yp(t);if(null!==n&&!n.isEqual(e.field))throw new _h(vh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=bp(t);null!==r&&Jv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new _h(vh.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.tf,0,e,t.firestore.R_,this.rf,this.cf,this.uf);return new Fv(t.firestore,t.j_,function(t,e){var n=t.filters.concat([e]);return new dp(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,n))},e}(Vv),zv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.af=n,r.type="orderBy",r}return Object(ra.c)(e,t),e.prototype.sf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new _h(vh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new _h(vh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qp(e,n);return function(t,e){if(null===bp(t)){var n=yp(t);null!==n&&Jv(0,n,e.field)}}(t,r),r}(t.tf,this.rf,this.af);return new Fv(t.firestore,t.j_,function(t,e){var n=t.Tn.concat([e]);return new dp(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,e))},e}(Vv),Hv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.hf=n,i.lf=r,i}return Object(ra.c)(e,t),e.prototype.sf=function(t){return new Fv(t.firestore,t.j_,Ep(t.tf,this.hf,this.lf))},e}(Vv),$v=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(ra.c)(e,t),e.prototype.sf=function(t){var e=Wv(t,this.type,this._f,this.ff);return new Fv(t.firestore,t.j_,function(t,e){return new dp(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.tf,e))},e}(Vv),Gv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(ra.c)(e,t),e.prototype.sf=function(t){var e=Wv(t,this.type,this._f,this.ff);return new Fv(t.firestore,t.j_,function(t,e){return new dp(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.tf,e))},e}(Vv);function Wv(t,e,n,r){if(n[0]instanceof Qy&&(n[0]=n[0].o_),n[0]instanceof wv)return function(t,e,n,r,i){if(!r)throw new _h(vh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=_p(t);o<a.length;o++){var l=a[o];if(l.field.tt())s.push(qd(e,r.key));else{var u=r.field(l.field);if(xd(u))throw new _h(vh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var c=l.field.J();throw new _h(vh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}s.push(u)}}return new Lp(s,i)}(t.tf,t.firestore.R_,e,n[0].W_,r);var i=i_(t.firestore);return function(t,e,n,r,i,s){var o=t.Tn;if(i.length>o.length)throw new _h(vh.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],l=0;l<i.length;l++){var u=i[l];if(o[l].field.tt()){if("string"!=typeof u)throw new _h(vh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!vp(t)&&-1!==u.indexOf("/"))throw new _h(vh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var c=t.path.child(Nh.Y(u));if(!Lh.ot(c))throw new _h(vh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new Lh(c);a.push(qd(e,h))}else{var d=p_(n,r,u);a.push(d)}}return new Lp(a,s)}(t.tf,t.firestore.R_,i,e,n,r)}function Kv(t,e,n){if(n instanceof Qy&&(n=n.o_),"string"==typeof n){if(""===n)throw new _h(vh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!vp(e)&&-1!==n.indexOf("/"))throw new _h(vh.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Nh.Y(n));if(!Lh.ot(r))throw new _h(vh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return qd(t,new Lh(r))}if(n instanceof Uv)return qd(t,n.K_);throw new _h(vh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ev(n)+".")}function Qv(t,e){if(!Array.isArray(t)||0===t.length)throw new _h(vh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new _h(vh.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Jv(t,e,n){if(!n.isEqual(e))throw new _h(vh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Yv(t){if(mp(t)&&0===t.Tn.length)throw new _h(vh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,pp(r))||this).firestore=e,i.nf=r,i.type="collection",i}return Object(ra.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.tf.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.tf.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.nf.q();return t.W()?null:new Uv(this.firestore,null,new Lh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.nf)},e}(Fv);function Zv(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Jy("collection","path",e),t instanceof gv){var i=Nh.Y.apply(Nh,Object(ra.g)([e],n));return tv(i),new Xv(t,null,i)}if(!(t instanceof Uv||t instanceof Xv))throw new _h(vh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=Nh.Y.apply(Nh,Object(ra.g)([t.path],n)).child(Nh.Y(e));return tv(s),new Xv(t.firestore,null,s)}function t_(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===arguments.length&&(e=Th.D()),Jy("doc","path",e),t instanceof gv){var i=Nh.Y.apply(Nh,Object(ra.g)([e],n));return Zy(i),new Uv(t,null,new Lh(i))}if(!(t instanceof Uv||t instanceof Xv))throw new _h(vh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=t.nf.child(Nh.Y.apply(Nh,Object(ra.g)([e],n)));return Zy(s),new Uv(t.firestore,t instanceof Xv?t.j_:null,new Lh(s))}var e_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ra.c)(e,t),e.prototype.F_=function(t){return new dv(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new Uv(this.firestore,null,e)},e}(vv);function n_(t,e){return(t instanceof Uv||t instanceof Xv)&&(e instanceof Uv||e instanceof Xv)&&t.firestore===e.firestore&&t.path===e.path&&t.j_===e.j_}function r_(t,e){return t instanceof Fv&&e instanceof Fv&&t.firestore===e.firestore&&Cp(t.tf,e.tf)&&t.j_===e.j_}function i_(t){var e=t.S_(),n=Jp(t.R_);return new c_(t.R_,!!e.ignoreUndefinedProperties,n)}var s_=/^__.*__$/,o_=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[];return n.push(null!==this.en?new Xf(t,this.data,this.en,e):new Yf(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new tp(t,this.fieldTransforms)),n},t}(),a_=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[new Xf(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new tp(t,this.fieldTransforms)),n},t}();function l_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mh()}}var u_=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.df(),this.fieldTransforms=i||[],this.en=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a_",{get:function(){return this.settings.a_},enumerable:!1,configurable:!0}),t.prototype.wf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.Ef=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.Tf(t),r},t.prototype.If=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.df(),r},t.prototype.mf=function(t){return this.wf({path:void 0,__:!0})},t.prototype.h_=function(t){return E_(t,this.settings.methodName,this.settings.Af||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.j(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.j(e.field)}))},t.prototype.df=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Tf(this.path.get(t))},t.prototype.Tf=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(l_(this.a_)&&s_.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),c_=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||Jp(t)}return t.prototype.Rf=function(t,e,n,r){return void 0===r&&(r=!1),new u_({a_:t,methodName:e,l_:n,path:Mh.X(),__:!1,Af:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function h_(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Rf(s.merge||s.mergeFields?2:0,e,n,i);y_("Data must be an object, but it was:",o,r);var a,l,u=m_(r,o);if(s.merge)a=new Vf(o.en),l=o.fieldTransforms;else if(s.mergeFields){for(var c=[],h=0,d=s.mergeFields;h<d.length;h++){var f=v_(e,d[h],n);if(!o.contains(f))throw new _h(vh.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");C_(c,f)||c.push(f)}a=new Vf(c),l=o.fieldTransforms.filter((function(t){return a.un(t.field)}))}else a=null,l=o.fieldTransforms;return new o_(new sp(u),a,l)}function d_(t,e,n,r){var i=t.Rf(1,e,n);y_("Data must be an object, but it was:",i,r);var s=[],o=new op;Td(r,(function(t,r){var a=w_(e,t,n);r instanceof Qy&&(r=r.o_);var l=i.If(a);if(r instanceof sv)s.push(a);else{var u=g_(r,l);null!=u&&(s.push(a),o.set(a,u))}}));var a=new Vf(s);return new a_(o.hn(),a,i.fieldTransforms)}function f_(t,e,n,r,i,s){var o=t.Rf(1,e,n),a=[v_(e,r,n)],l=[i];if(s.length%2!=0)throw new _h(vh.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(v_(e,s[u])),l.push(s[u+1]);for(var c=[],h=new op,d=a.length-1;d>=0;--d)if(!C_(c,a[d])){var f=a[d],p=l[d];p instanceof Qy&&(p=p.o_);var g=o.If(f);if(p instanceof sv)c.push(f);else{var m=g_(p,g);null!=m&&(c.push(f),h.set(f,m))}}var b=new Vf(c);return new a_(h.hn(),b,o.fieldTransforms)}function p_(t,e,n,r){return void 0===r&&(r=!1),g_(n,t.Rf(r?4:3,e))}function g_(t,e){if(t instanceof Qy&&(t=t.o_),b_(t))return y_("Unsupported field value:",e,t),m_(t,e);if(t instanceof iv)return function(t,e){if(!l_(e.a_))throw e.h_(t.c_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.c_+"() is not currently supported inside arrays");var n=t.u_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.a_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=g_(s[i],e.mf(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Qy&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Xd(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=jh.fromDate(t);return{timestampValue:Zd(e.serializer,n)}}if(t instanceof jh){var r=new jh(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Zd(e.serializer,r)}}if(t instanceof hv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof dv)return{bytesValue:tf(e.serializer,t.T_)};if(t instanceof Uv){var i=e.t,s=t.firestore.R_;if(!s.isEqual(i))throw e.h_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:rf(t.firestore.R_||e.t,t.K_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+ev(t))}(t,e)}function m_(t,e){var n={};return kd(t)?e.path&&e.path.length>0&&e.en.push(e.path):Td(t,(function(t,r){var i=g_(r,e.Ef(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function b_(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof jh||t instanceof hv||t instanceof dv||t instanceof Uv||t instanceof iv)}function y_(t,e,n){if(!b_(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ev(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function v_(t,e,n){if(e instanceof Qy&&(e=e.o_),e instanceof Ov)return e.G_;if("string"==typeof e)return w_(t,e);throw E_("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var __=new RegExp("[~\\*/\\[\\]]");function w_(t,e,n){if(e.search(__)>=0)throw E_("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ov.bind.apply(Ov,Object(ra.g)([void 0],e.split("."))))).G_}catch(r){throw E_("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function E_(t,e,n,r,i){var s=r&&!r.W(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var l="";return(s||o)&&(l+=" (found",s&&(l+=" in field "+r),o&&(l+=" in document "+i),l+=")"),new _h(vh.INVALID_ARGUMENT,(a+=". ")+t+l)}function C_(t,e){return t.some((function(t){return t.isEqual(e)}))}var O_=function(){function t(t){this.Nu=t,this.Pf=new Map,this.mutations=[],this.gf=!1,this.yf=null,this.Vf=new Set}return t.prototype.pf=function(t){return Object(ra.b)(this,void 0,void 0,(function(){var e,n=this;return Object(ra.d)(this,(function(r){switch(r.label){case 0:if(this.vf(),this.mutations.length>0)throw new _h(vh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a;return Object(ra.d)(this,(function(l){switch(l.label){case 0:return n=yh(t),r=cf(n.serializer)+"/documents",i={documents:e.map((function(t){return of(n.serializer,t)}))},[4,n.Ru("BatchGetDocuments",r,i)];case 1:return s=l.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){bh(!!e.found);var n=af(t,e.found.name),r=nf(e.found.updateTime),i=new sp({mapValue:{fields:e.found.fields}});return new up(n,r,i,{})}(t,e):"missing"in e?function(t,e){bh(!!e.missing),bh(!!e.readTime);var n=af(t,e.missing),r=nf(e.readTime);return new cp(n,r)}(t,e):mh()}(n.serializer,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());bh(!!e),a.push(e)})),a)]}}))}))}(this.Nu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof cp||t instanceof up?n.bf(t):mh()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.ef(t,this.rn(t))),this.Vf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.ef(t,this.Sf(t)))}catch(t){this.yf=t}this.Vf.add(t.toString())},t.prototype.delete=function(t){this.write([new rp(t,this.rn(t))]),this.Vf.add(t.toString())},t.prototype.commit=function(){return Object(ra.b)(this,void 0,void 0,(function(){var t,e=this;return Object(ra.d)(this,(function(n){switch(n.label){case 0:if(this.vf(),this.yf)throw this.yf;return t=this.Pf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Lh.st(n);e.mutations.push(new ip(r,e.rn(r)))})),[4,function(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ra.d)(this,(function(s){switch(s.label){case 0:return n=yh(t),r=cf(n.serializer)+"/documents",i={writes:e.map((function(t){return ff(n.serializer,t)}))},[4,n.Au("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.Nu,this.mutations)];case 1:return n.sent(),this.gf=!0,[2]}}))}))},t.prototype.bf=function(t){var e;if(t instanceof up)e=t.version;else{if(!(t instanceof cp))throw mh();e=Rh.min()}var n=this.Pf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new _h(vh.ABORTED,"Document version changed between two reads.")}else this.Pf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Pf.get(t.toString());return!this.Vf.has(t.toString())&&e?zf.updateTime(e):zf.on()},t.prototype.Sf=function(t){var e=this.Pf.get(t.toString());if(!this.Vf.has(t.toString())&&e){if(e.isEqual(Rh.min()))throw new _h(vh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zf.updateTime(e)}return zf.exists(!0)},t.prototype.write=function(t){this.vf(),this.mutations=this.mutations.concat(t)},t.prototype.vf=function(){},t}(),S_=function(){function t(t,e,n,r){this.di=t,this.Nu=e,this.updateFunction=n,this.Ti=r,this.Df=5,this.Si=new rg(this.di,"transaction_retry")}return t.prototype.run=function(){this.Cf()},t.prototype.Cf=function(){var t=this;this.Si.Bs((function(){return Object(ra.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(ra.d)(this,(function(r){return t=new O_(this.Nu),(e=this.Nf(t))&&e.then((function(e){n.di.Ri((function(){return t.commit().then((function(){n.Ti.resolve(e)})).catch((function(t){n.xf(t)}))}))})).catch((function(t){n.xf(t)})),[2]}))}))}))},t.prototype.Nf=function(t){try{var e=this.updateFunction(t);return!Uh(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.xf=function(t){var e=this;this.Df>0&&this.Ff(t)?(this.Df-=1,this.di.Ri((function(){return e.Cf(),Promise.resolve()}))):this.Ti.reject(t)},t.prototype.Ff=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Yh(e)}return!1},t}(),I_=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=uh.UNAUTHENTICATED,this.clientId=Th.D(),this.Of=function(){},this.g=new Qp,this.credentials.A((function(t){dh("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Of(t)),r.g.resolve()}))}return t.prototype.getConfiguration=function(){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},t.prototype.Mf=function(t){var e=this;this.Of=t,this.g.promise.then((function(){return e.Of(e.user)}))},t.prototype.kf=function(){if(this.di.Ci)throw new _h(vh.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new Qp;return this.di.Ni((function(){return Object(ra.b)(t,void 0,void 0,(function(){var t,n;return Object(ra.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.$f?[4,this.$f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Lf?[4,this.Lf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=bg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function T_(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r=this;return Object(ra.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),dh("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Mf((function(n){return t.di.Mi((function(){return Object(ra.b)(r,void 0,void 0,(function(){return Object(ra.d)(this,(function(t){switch(t.label){case 0:return[4,Um(e.Cu,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.tc((function(){return t.terminate()})),t.Lf=e,[2]}}))}))}function k_(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r;return Object(ra.d)(this,(function(i){switch(i.label){case 0:return t.di.Li(),[4,x_(t)];case 1:return n=i.sent(),dh("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Mf((function(n){return t.di.Mi((function(){return function(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r;return Object(ra.d)(this,(function(i){switch(i.label){case 0:return(n=yh(t)).di.Li(),dh("RemoteStore","RemoteStore received new credentials"),r=cb(n),n.Mu.add(3),[4,rb(n)];case 1:return i.sent(),r&&n.Bu.set("Unknown"),[4,n.xu.s_(e)];case 2:return i.sent(),n.Mu.delete(3),[4,nb(n)];case 3:return i.sent(),[2]}}))}))}(e.Oh,n)}))})),t.$f=e,[2]}}))}))}function x_(t){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return t.Lf?[3,2]:(dh("FirestoreClient","Using default OfflineComponentProvider"),[4,T_(t,new Hy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.Lf]}}))}))}function A_(t){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return t.$f?[3,2]:(dh("FirestoreClient","Using default OnlineComponentProvider"),[4,k_(t,new Wy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}}))}))}function j_(t){return x_(t).then((function(t){return t.persistence}))}function R_(t){return x_(t).then((function(t){return t.Cu}))}function P_(t){return A_(t).then((function(t){return t.Oh}))}function N_(t){return A_(t).then((function(t){return t.ga}))}function D_(t){return Object(ra.b)(this,void 0,void 0,(function(){var e,n;return Object(ra.d)(this,(function(r){switch(r.label){case 0:return[4,A_(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ju=Zb.bind(null,e.ga),n.Zu=ey.bind(null,e.ga),n)]}}))}))}function M_(t,e,n,r,i){var s=new Ky({next:function(s){e.Ri((function(){return Ab(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new _h(vh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new _h(vh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Nb(pp(n.path),s,{includeMetadataChanges:!0,oa:!0});return xb(t,o)}function L_(t,e,n,r,i){var s=new Ky({next:function(n){e.Ri((function(){return Ab(t,o)})),n.fromCache&&"server"===r.source?i.reject(new _h(vh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Nb(n,s,{includeMetadataChanges:!0,oa:!0});return xb(t,o)}var U_=function(){function t(t,e){this.U_=t,this.Bf=e,this.qf=[],this.Uf=!1,this.Qf=i_(t)}return t.prototype.set=function(t,e,n){this.Kf();var r=F_(t,this.U_),i=sw(r.j_,e,n),s=h_(this.Qf,"WriteBatch.set",r.K_,i,null!==r.j_,n);return this.qf=this.qf.concat(s.ef(r.K_,zf.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Kf();var s,o=F_(t,this.U_);return e instanceof Qy&&(e=e.o_),s="string"==typeof e||e instanceof Ov?f_(this.Qf,"WriteBatch.update",o.K_,e,n,r):d_(this.Qf,"WriteBatch.update",o.K_,e),this.qf=this.qf.concat(s.ef(o.K_,zf.exists(!0))),this},t.prototype.delete=function(t){this.Kf();var e=F_(t,this.U_);return this.qf=this.qf.concat(new rp(e.K_,zf.on())),this},t.prototype.commit=function(){return this.Kf(),this.Uf=!0,this.qf.length>0?this.Bf(this.qf):Promise.resolve()},t.prototype.Kf=function(){if(this.Uf)throw new _h(vh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function F_(t,e){if(t instanceof Qy&&(t=t.o_),t.firestore!==e)throw new _h(vh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var V_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).U_=e,r}return Object(ra.c)(e,t),e.prototype.get=function(e){var n=this,r=F_(e,this.U_),i=new Pv(this.U_);return t.prototype.get.call(this,e).then((function(t){return new kv(n.U_,i,r.K_,t.W_,new Y_(!1,!1),r.j_)}))},e}(function(){function t(t,e){this.U_=t,this.Wf=e,this.Qf=i_(t)}return t.prototype.get=function(t){var e=this,n=F_(t,this.U_),r=new e_(this.U_);return this.Wf.pf([n.K_]).then((function(t){if(!t||1!==t.length)return mh();var i=t[0];if(i instanceof cp)return new wv(e.U_,r,n.K_,null,n.j_);if(i instanceof up)return new wv(e.U_,r,i.key,i,n.j_);throw mh()}))},t.prototype.set=function(t,e,n){var r=F_(t,this.U_),i=sw(r.j_,e,n),s=h_(this.Qf,"Transaction.set",r.K_,i,null!==r.j_,n);return this.Wf.set(r.K_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=F_(t,this.U_);return e instanceof Qy&&(e=e.o_),s="string"==typeof e||e instanceof Ov?f_(this.Qf,"Transaction.update",o.K_,e,n,r):d_(this.Qf,"Transaction.update",o.K_,e),this.Wf.update(o.K_,s),this},t.prototype.delete=function(t){var e=F_(t,this.U_);return this.Wf.delete(e.K_),this},t}()),q_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Tv(t);var n=z_(t),r=t.S_(),i=new Wy;return Iv(n,i,new $y(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Tv(t);var e=z_(t),n=t.S_(),r=new Wy;return Iv(e,r,new Gy(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.y_&&!t.V_)throw new _h(vh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Qp;return t.z_.Ni((function(){return Object(ra.b)(e,void 0,void 0,(function(){var e;return Object(ra.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(ra.b)(this,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return ig.Gs()?[4,ig.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Dm(t.R_,t.I_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),B_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).jf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof lh||(i.Gf=e),i}return Object(ra.c)(e,t),Object.defineProperty(e.prototype,"R_",{get:function(){return this.o_.R_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.b_()),t)).merge,this.o_.v_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.b_().host&&ph("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(ra.b)(e,void 0,void 0,(function(){var e,n;return Object(ra.d)(this,(function(r){switch(r.label){case 0:return[4,j_(t)];case 1:return e=r.sent(),[4,P_(t)];case 2:return n=r.sent(),[2,(e.ec(!0),function(t){var e=yh(t);return e.Mu.delete(0),nb(e)}(n))]}}))}))}))}(z_(this.o_))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue((function(){return Object(ra.b)(e,void 0,void 0,(function(){var e,n;return Object(ra.d)(this,(function(r){switch(r.label){case 0:return[4,j_(t)];case 1:return e=r.sent(),[4,P_(t)];case 2:return n=r.sent(),[2,(e.ec(!1),function(t){return Object(ra.b)(this,void 0,void 0,(function(){var e;return Object(ra.d)(this,(function(n){switch(n.label){case 0:return(e=yh(t)).Mu.add(0),[4,rb(e)];case 1:return n.sent(),e.Bu.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(z_(this.o_))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Xy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.jf.enableMultiTabIndexedDbPersistence(this):this.jf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.jf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Qp;return t.di.Ri((function(){return Object(ra.b)(e,void 0,void 0,(function(){var e;return Object(ra.d)(this,(function(r){switch(r.label){case 0:return e=ly,[4,N_(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(z_(this.o_))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=z_(t),i=Yp(e)?e:{next:e},s=new Ky(i);return t.z_.Ri((function(){return Object(ra.b)(n,void 0,void 0,(function(){var t;return Object(ra.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){yh(t).Hu.add(e),e.next()},[4,D_(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}}))}))})),function(){s.r_(),t.z_.Ri((function(){return Object(ra.b)(n,void 0,void 0,(function(){var t;return Object(ra.d)(this,(function(e){switch(e.label){case 0:return t=function(t,e){yh(t).Hu.delete(e)},[4,D_(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}}))}))}))}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Gf)throw new _h(vh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Gf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new rw(this,Zv(this.o_,t))}catch(t){throw K_(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new W_(this,t_(this.o_,t))}catch(t){throw K_(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new tw(this,function(t,e){if(Jy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _h(vh.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Fv(t,null,function(t){return new dp(Nh.X(),t)}(e))}(this.o_,t))}catch(t){throw K_(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Qp;return t.di.Ri((function(){return Object(ra.b)(n,void 0,void 0,(function(){var n;return Object(ra.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return A_(t).then((function(t){return t.Nu}))}(t)];case 1:return n=i.sent(),new S_(t.di,n,e,r).run(),[2]}}))}))})),r.promise}(z_(t),(function(n){return e(new V_(t,n))}))}(this.o_,(function(n){return t(new $_(e,n))}))},e.prototype.batch=function(){var t=this;return z_(this.o_),new G_(new U_(this.o_,(function(e){return Mv(t.o_,e)})))},e}(Qy);function z_(t){return t.H_||H_(t),t.H_.kf(),t.H_}function H_(t){var e=t.S_(),n=function(t,e,n){return new ah(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.R_,t.I_,e);t.H_=new I_(t.P_,t.z_,n)}var $_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(ra.c)(e,t),e.prototype.get=function(t){var e=this,n=iw(t);return this.o_.get(n).then((function(t){return new X_(e.U_,t)}))},e.prototype.set=function(t,e,n){var r=iw(t);return n?(Yy("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=iw(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(ra.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=iw(t);return this.o_.delete(e),this},e}(Qy),G_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ra.c)(e,t),e.prototype.set=function(t,e,n){var r=iw(t);return n?(Yy("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=iw(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(ra.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=iw(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(Qy),W_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Q_=new _v(e),r}return Object(ra.c)(e,t),e.zf=function(t,n,r){if(t.length%2!=0)throw new _h(vh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new Uv(n.o_,r,new Lh(t)))},e.q_=function(t,n,r){return new e(n,new Uv(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new rw(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new rw(this.firestore,Zv(this.o_,t))}catch(t){throw K_(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Qy&&(t=t.o_),t instanceof Uv&&n_(this.o_,t)},e.prototype.set=function(t,e){e=Yy("DocumentReference.set",e);try{return function(t,e,n){var r=nv(t.firestore,Sv),i=sw(t.j_,e,n);return Mv(r,h_(i_(r),"setDoc",t.K_,i,null!==t.j_,n).ef(t.K_,zf.on()))}(this.o_,t,e)}catch(t){throw K_(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Nv(this.o_,t):Nv.apply(void 0,Object(ra.g)([this.o_,t,e],n))}catch(t){throw K_(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Mv(nv((t=this.o_).firestore,Sv),[new rp(t.K_,zf.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Q_(e),i=J_(e,(function(e){return new X_(t.firestore,new kv(t.firestore.o_,t.Q_,e.K_,e.W_,e.metadata,t.o_.j_))}));return Dv(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=nv(t.firestore,Sv),r=z_(n),i=new Pv(n),s=new Qp;return n.z_.Ri((function(){return Object(ra.b)(e,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return[4,R_(r)];case 1:return[4,function(t,e,n){return Object(ra.b)(this,void 0,void 0,(function(){var r,i,s;return Object(ra.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=yh(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Oc.cs(t,e)}))}(t,e)];case 1:return(r=o.sent())instanceof up?n.resolve(r):r instanceof cp?n.resolve(null):n.reject(new _h(vh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=bg(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))}(e.sent(),t.K_,s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new kv(n,i,t.K_,e,new Y_(e instanceof up&&e.an,!0),t.j_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=nv(t.firestore,Sv),r=z_(n),i=new Qp;return n.z_.Ri((function(){return Object(ra.b)(e,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return[4,D_(r)];case 1:return[4,M_(e.sent(),n.z_,t.K_,{source:"server"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return Lv(n,t,e)}))}(this.o_):function(t){var e=this,n=nv(t.firestore,Sv),r=z_(n),i=new Qp;return n.z_.Ri((function(){return Object(ra.b)(e,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return[4,D_(r)];case 1:return[4,M_(e.sent(),n.z_,t.K_,{source:"default"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return Lv(n,t,e)}))}(this.o_)).then((function(t){return new X_(e.firestore,new kv(e.firestore.o_,e.Q_,t.K_,t.W_,t.metadata,e.o_.j_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Qy);function K_(t,e,n){return t.message=t.message.replace(e,n),t}function Q_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Yp(r))return r}return{}}function J_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Yp(t[0])?t[0]:Yp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Y_=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),X_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(ra.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new W_(this.U_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return Rv(this.o_,t.o_)},e}(Qy),Z_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ra.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(X_),tw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r}return Object(ra.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,qv(this.o_,function(t,e,n){var r=e,i=Cv("where",t);return new Bv(i,r,n)}(t,n,r)))}catch(t){throw K_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,qv(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=Cv("orderBy",t);return new zv(r,n)}(t,n)))}catch(t){throw K_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,qv(this.o_,function(t){return rv("limit",t),new Hv("limit",t,"F")}(t)))}catch(t){throw K_(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,qv(this.o_,function(t){return rv("limitToLast",t),new Hv("limitToLast",t,"L")}(t)))}catch(t){throw K_(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qv(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $v("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw K_(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qv(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $v("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw K_(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qv(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gv("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw K_(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,qv(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gv("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw K_(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return r_(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=nv(t.firestore,Sv),r=z_(n),i=new Pv(n),s=new Qp;return n.z_.Ri((function(){return Object(ra.b)(e,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return[4,R_(r)];case 1:return[4,function(t,e,n){return Object(ra.b)(this,void 0,void 0,(function(){var r,i,s,o,a,l;return Object(ra.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,$m(t,e,!0)];case 1:return r=u.sent(),i=new Qb(e,r.Bc),s=i.gh(r.documents),o=i.Zn(s,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),l=bg(a,"Failed to execute query '"+e+" against cache"),n.reject(l),[3,3];case 3:return[2]}}))}))}(e.sent(),t.tf,s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new Av(n,i,t,e)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=nv(t.firestore,Sv),r=z_(n),i=new Pv(n),s=new Qp;return n.z_.Ri((function(){return Object(ra.b)(e,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return[4,D_(r)];case 1:return[4,L_(e.sent(),n.z_,t.tf,{source:"server"},s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new Av(n,i,t,e)}))}(this.o_):function(t){var e=this,n=nv(t.firestore,Sv),r=z_(n),i=new Pv(n);Yv(t.tf);var s=new Qp;return n.z_.Ri((function(){return Object(ra.b)(e,void 0,void 0,(function(){return Object(ra.d)(this,(function(e){switch(e.label){case 0:return[4,D_(r)];case 1:return[4,L_(e.sent(),n.z_,t.tf,{source:"default"},s)];case 2:return e.sent(),[2]}}))}))})),s.promise.then((function(e){return new Av(n,i,t,e)}))}(this.o_)).then((function(t){return new nw(e.firestore,t)}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Q_(e),i=J_(e,(function(e){return new nw(t.firestore,e)}));return Dv(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Qy),ew=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(ra.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Z_(this.U_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(Qy),nw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(ra.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new tw(this.U_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new Z_(t.U_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new ew(e.U_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new Z_(n.U_,r))}))},e.prototype.isEqual=function(t){return Rv(this.o_,t.o_)},e}(Qy),rw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(ra.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new W_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new W_(this.firestore,void 0===t?t_(this.o_):t_(this.o_,t))}catch(t){throw K_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=nv(t.firestore,Sv),r=t_(t),i=sw(t.j_,e);return Mv(n,h_(i_(t.firestore),"addDoc",r.K_,i,null!==t.j_,{}).ef(r.K_,zf.exists(!1))).then((function(){return r}))}(this.o_,t).then((function(t){return new W_(e.firestore,t)}))},e.prototype.isEqual=function(t){return n_(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(tw);function iw(t){return t instanceof Qy&&(t=t.o_),nv(t,Uv)}function sw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var ow,aw=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Ov.bind.apply(Ov,Object(ra.g)([void 0],e))))||this}return Object(ra.c)(e,t),e.documentId=function(){return new e(Mh.et().J())},e.prototype.isEqual=function(t){return t instanceof Qy&&(t=t.o_),t instanceof Ov&&this.o_.G_.isEqual(t.G_)},e}(Qy),lw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ra.c)(e,t),e.serverTimestamp=function(){var t=new av("serverTimestamp");return t.c_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new sv("deleteField");return t.c_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lv("arrayUnion",t)}).apply(void 0,t);return r.c_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uv("arrayRemove",t)}).apply(void 0,t);return r.c_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new cv("increment",t)}(t);return n.c_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(Qy),uw={Firestore:B_,GeoPoint:hv,Timestamp:jh,Blob:yv,Transaction:$_,WriteBatch:G_,DocumentReference:W_,DocumentSnapshot:X_,Query:tw,QueryDocumentSnapshot:Z_,QuerySnapshot:nw,CollectionReference:rw,FieldPath:aw,FieldValue:lw,setLogLevel:function(t){ch.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new oh.a("firestore",(function(t){return function(t,e){return new B_(t,new Sv(t,e),new q_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},uw)))})(ow=ia.a),ow.registerVersion("@firebase/firestore","2.0.4");var cw=n("VRyK"),hw=n("qgXg"),dw=n("Ylt2");class fw extends Ct.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new pw(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Ot.a;if(this.isStopped||this.hasError?s=Oe.a.EMPTY:(this.observers.push(t),s=new dw.a(this,t)),r&&t.add(t=new ta.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||hw.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class pw{constructor(t,e){this.time=t,this.value=e}}function gw(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,l=!1;return function(u){let c;o++,!i||a?(a=!1,i=new fw(t,e,r),c=i.subscribe(this),s=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){l=!0,s=void 0,i.complete()}})):c=i.subscribe(this),this.add(()=>{o--,c.unsubscribe(),s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function mw(t,e){return e?oe(()=>t,e):oe(()=>t)}var bw=n("tf+s");const yw=new r.q("angularfire2.auth.use-emulator"),vw=new r.q("angularfire2.auth.settings"),_w=new r.q("angularfire2.auth.tenant-id"),ww=new r.q("angularfire2.auth.langugage-code"),Ew=new r.q("angularfire2.auth.use-device-language"),Cw=new r.q("angularfire.auth.persistence");let Ow=(()=>{class t{constructor(t,e,r,i,s,o,a,l,u,c){const h=new ea.e(i),d=Object(ea.i)(h),f=new Ct.a,p=Object(wt.a)(void 0).pipe(Object(ta.b)(h.outsideAngular),oe(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(qt.a)(()=>Object(ea.h)(t,i,e)),Object(qt.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(ea.g)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=l,u&&r.useDeviceLanguage(),n&&(r.settings=n),c&&r.setPersistence(c),r},[e,a,l,u,n,c])})),gw({bufferSize:1,refCount:!1}));if(bt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(wt.a)(null);else{p.pipe(Ee()).subscribe();const t=p.pipe(oe(t=>t.getRedirectResult().then(t=>t,()=>null)),d,gw({bufferSize:1,refCount:!1})),e=t=>new Rt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(oe(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(oe(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(mw(n),Object(bw.a)(h.outsideAngular),Object(ta.b)(h.insideAngular)),this.user=t.pipe(mw(r),Object(bw.a)(h.outsideAngular),Object(ta.b)(h.insideAngular)),this.idToken=this.user.pipe(oe(t=>t?Object(Et.a)(t.getIdToken()):Object(wt.a)(null))),this.idTokenResult=this.user.pipe(oe(t=>t?Object(Et.a)(t.getIdTokenResult()):Object(wt.a)(null))),this.credential=Object(cw.a)(t,f,this.authState.pipe(Ht(t=>!t))).pipe(Object(qt.a)(t=>(null==t?void 0:t.user)?t:null),Object(bw.a)(h.outsideAngular),Object(ta.b)(h.insideAngular))}return Object(ea.j)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275prov=Object(r.Vb)({factory:function(){return new t(Object(r.Wb)(ea.c),Object(r.Wb)(ea.b,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(yw,8),Object(r.Wb)(vw,8),Object(r.Wb)(_w,8),Object(r.Wb)(ww,8),Object(r.Wb)(Ew,8),Object(r.Wb)(Cw,8))},token:t,providedIn:"any"}),t})();class Sw{}function Iw(t,e){return function(t,e=Ko.a){return new Rt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Tw(t,e){return Iw(t,e).pipe(Object(qt.a)(t=>({payload:t,type:"query"})))}function kw(t,e){return Tw(t,e).pipe(fe(void 0),Qo(),Object(qt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function xw(t,e,n){return kw(t,n).pipe(pe((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Aw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Aw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Aw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Xo(void 0,void 0)),Object(qt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Aw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function jw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Rw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?kw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(qt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ht(t=>t.length>0),this.afs.keepUnstableUntilFirst):kw(this.query,this.afs.schedulers.outsideAngular).pipe(Ht(t=>t.length>0),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(pe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=jw(t);return xw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Tw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(qt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Et.a)(this.query.get(t)).pipe(Object(ta.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Pw(this.ref.doc(t),this.afs)}}class Pw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Fw(n,e);return new Rw(r,i,this.afs)}snapshotChanges(){return Iw(this.ref,this.afs.schedulers.outsideAngular).pipe(fe(void 0),Qo(),Object(qt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(qt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Et.a)(this.ref.get(t)).pipe(Object(ta.b)(this.afs.schedulers.insideAngular))}}class Nw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?kw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(qt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ht(t=>t.length>0),this.afs.keepUnstableUntilFirst):kw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(pe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=jw(t);return xw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Tw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(qt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Et.a)(this.query.get(t)).pipe(Object(ta.b)(this.afs.schedulers.insideAngular))}}const Dw=new r.q("angularfire2.enableFirestorePersistence"),Mw=new r.q("angularfire2.firestore.persistenceSettings"),Lw=new r.q("angularfire2.firestore.settings"),Uw=new r.q("angularfire2.firestore.use-emulator");function Fw(t,e=(t=>t)){return{query:e(t),ref:t}}let Vw=(()=>{class t{constructor(t,e,n,r,i,s,o,a,l){this.schedulers=new ea.e(s),this.keepUnstableUntilFirst=Object(ea.i)(this.schedulers);const u=Object(ea.h)(t,s,e);!na.a.auth&&l&&Object(ea.k)();const c=a;[this.firestore,this.persistenceEnabled$]=Object(ea.g)(u.name+".firestore","AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),c&&t.useEmulator(...c),n&&!bt(i)){const e=()=>{try{return Object(Et.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(wt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(wt.a)(!1)]},[r,c,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Fw(n,e),s=this.schedulers.ngZone.run(()=>r);return new Rw(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Nw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Pw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275prov=Object(r.Vb)({factory:function(){return new t(Object(r.Wb)(ea.c),Object(r.Wb)(ea.b,8),Object(r.Wb)(Dw,8),Object(r.Wb)(Lw,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(Mw,8),Object(r.Wb)(Uw,8),Object(r.Wb)(yw,8))},token:t,providedIn:"any"}),t})();class qw{static enablePersistence(t){return{ngModule:qw,providers:[{provide:Dw,useValue:!0},{provide:Mw,useValue:t}]}}}class Bw{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}class zw{constructor(t,e,n,i,s,o,a,l){this._viewContainerRef=t,this._renderer=e,this._elementRef=n,this._injector=i,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=a,this._posService=l,this.onBeforeShow=new r.n,this.onShown=new r.n,this.onBeforeHide=new r.n,this.onHidden=new r.n,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const e=r.r.create({providers:this._providers,parent:this._injector});this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof r.l&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document&&(document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector)).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode.removeChild(e),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef.nativeElement;const e=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),n=this._listenOpts.show=e=>{t.show?t.show(e):this.show(e),e()};return this._unregisterListenersFn=function(t,e){const n=function(t,e=Ro){const n=(t||"").trim();if(0===n.length)return[];const r=n.split(/\s+/).map(t=>t.split(":")).map(t=>{const n=e[t[0]]||t;return new jo(n[0],n[1])}),i=r.filter(t=>t.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(e.triggers),r=e.target;if(1===n.length&&n[0].isManual())return Function.prototype;const i=[],s=[],o=()=>{s.forEach(t=>i.push(t())),s.length=0};return n.forEach(n=>{const a=n.open===n.close,l=a?e.toggle:e.show;a||s.push(()=>t.listen(r,n.close,e.hide)),i.push(t.listen(r,n.open,()=>l(o)))}),()=>{i.forEach(t=>t())}}(this._renderer,{target:t.target,triggers:t.triggers,show:n,hide:e,toggle:t=>{this.isShown?e():n(t)}}),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=null)}attachInline(t,e){return this._inlineViewRef=t.createEmbeddedView(e),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{var e;this._globalListener=(e={targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide()}).outsideClick?this._renderer.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(e=>e.contains(t.target))||e.hide()}):Function.prototype})}var t;this._listenOpts.outsideEsc&&(this._globalListener=(t={targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide()}).outsideEsc?this._renderer.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(t=>t.contains(e.target))||t.hide()}):Function.prototype)}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}_getContentRef(t,e,n){if(!t)return new Bw([]);if(t instanceof r.L){if(this._viewContainerRef){const n=this._viewContainerRef.createEmbeddedView(t,e);return n.markForCheck(),new Bw([n.rootNodes],n)}const n=t.createEmbeddedView({});return this._applicationRef.attachView(n),new Bw([n.rootNodes],n)}if("function"==typeof t){const e=this._componentFactoryResolver.resolveComponentFactory(t),i=r.r.create({providers:this._providers,parent:this._injector}),s=e.create(i);return Object.assign(s.instance,n),this._applicationRef.attachView(s.hostView),new Bw([[s.location.nativeElement]],s.hostView,s)}return new Bw([[this._renderer.createText(""+t)]])}}class Hw{constructor(t,e,n,r,i){this._componentFactoryResolver=t,this._ngZone=e,this._injector=n,this._posService=r,this._applicationRef=i}createLoader(t,e,n){return new zw(e,n,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}var $w=n("n6bG");function Gw(t,e,n,r){return Object($w.a)(n)&&(r=n,n=void 0),r?Gw(t,e,n).pipe(Object(qt.a)(t=>Object(Tt.a)(t)?r(...t):r(t))):new Rt.a(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}var Ww=n("3N8a");class Kw extends Ww.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var Qw=n("IjjT");class Jw extends Qw.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Yw=new Jw(Kw);function Xw(t,e){if(1!==t.nodeType)return[];const n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function Zw(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function tE(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}const{overflow:e,overflowX:n,overflowY:r}=Xw(t);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(n))?t:tE(Zw(t))}const eE="undefined"!=typeof window&&"undefined"!=typeof document,nE=eE&&!(!window.MSInputMethodContext||!document.documentMode),rE=eE&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function iE(t){return 11===t?nE:10===t?rE:nE||rE}function sE(t){if(!t)return document.documentElement;const e=iE(10)?document.body:null;let n,r=t.offsetParent||null;for(;r===e&&t.nextElementSibling&&n!==t.nextElementSibling;)n=t.nextElementSibling,r=n.offsetParent;const i=r&&r.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===Xw(r,"position")?sE(r):r:n?n.ownerDocument.documentElement:document.documentElement}function oE(t){return null!==t.parentNode?oE(t.parentNode):t}function aE(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;const n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);const{commonAncestorContainer:o}=s;if(t!==o&&e!==o||r.contains(i))return function(t){const{nodeName:e}=t;return"BODY"!==e&&("HTML"===e||sE(t.firstElementChild)===t)}(o)?o:sE(o);const a=oE(t);return a.host?aE(a.host,e):aE(t,oE(e).host)}function lE(t,e){const n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t[`border${n}Width`])+parseFloat(t[`border${r}Width`])}function uE(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],iE(10)?parseInt(n["offset"+t],10)+parseInt(r["margin"+("Height"===t?"Top":"Left")],10)+parseInt(r["margin"+("Height"===t?"Bottom":"Right")],10):0)}function cE(t){const e=t.body,n=t.documentElement,r=iE(10)&&getComputedStyle(n);return{height:uE("Height",e,n,r),width:uE("Width",e,n,r)}}function hE(t,e="top"){const n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){const e=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||e)[n]}return t[n]}function dE(t){return Object.assign(Object.assign({},t),{right:t.left+t.width,bottom:t.top+t.height})}function fE(t){let e={};try{if(iE(10)){e=t.getBoundingClientRect();const n=hE(t,"top"),r=hE(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(o){return}const n={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?cE(t.ownerDocument):{};let i=t.offsetWidth-(r.width||t.clientWidth||n.right-n.left),s=t.offsetHeight-(r.height||t.clientHeight||n.bottom-n.top);if(i||s){const e=Xw(t);i-=lE(e,"x"),s-=lE(e,"y"),n.width-=i,n.height-=s}return dE(n)}function pE(t,e,n=!1){const r=iE(10),i="HTML"===e.nodeName,s=fE(t),o=fE(e),a=tE(t),l=Xw(e),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));let h=dE({top:s.top-o.top-u,left:s.left-o.left-c,width:s.width,height:s.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){const t=parseFloat(l.marginTop),e=parseFloat(l.marginLeft);h.top-=u-t,h.bottom-=u-t,h.left-=c-e,h.right-=c-e,h.marginTop=t,h.marginLeft=e}return(r&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(h=function(t,e,n=!1){const r=hE(e,"top"),i=hE(e,"left"),s=n?-1:1;return t.top+=r*s,t.bottom+=r*s,t.left+=i*s,t.right+=i*s,t}(h,e)),h}function gE(t){if(!t||!t.parentElement||iE())return document.documentElement;let e=t.parentElement;for(;e&&"none"===Xw(e,"transform");)e=e.parentElement;return e||document.documentElement}function mE(t,e,n=0,r,i=!1){let s={top:0,left:0};const o=i?gE(t):aE(t,e);if("viewport"===r)s=function(t,e=!1){const n=t.ownerDocument.documentElement,r=pE(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:hE(n),a=e?0:hE(n,"left");return dE({top:o-Number(r.top)+Number(r.marginTop),left:a-Number(r.left)+Number(r.marginLeft),width:i,height:s})}(o,i);else{let n;"scrollParent"===r?(n=tE(Zw(e)),"BODY"===n.nodeName&&(n=t.ownerDocument.documentElement)):n="window"===r?t.ownerDocument.documentElement:r;const a=pE(n,o,i);if("HTML"!==n.nodeName||function t(e){const n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===Xw(e,"position")||t(Zw(e)))}(o))s=a;else{const{height:e,width:n}=cE(t.ownerDocument);s.top+=a.top-a.marginTop,s.bottom=Number(e)+Number(a.top),s.left+=a.left-a.marginLeft,s.right=Number(n)+Number(a.left)}}return s.left+=n,s.top+=n,s.right-=n,s.bottom-=n,s}function bE({width:t,height:e}){return t*e}function yE(t,e,n,r,i=["top","bottom","right","left"],s="viewport",o=0){if(-1===t.indexOf("auto"))return t;const a=mE(n,r,o,s),l={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},u=Object.keys(l).map(t=>Object.assign(Object.assign({key:t},l[t]),{area:bE(l[t])})).sort((t,e)=>e.area-t.area);let c=u.filter(({width:t,height:e})=>t>=n.clientWidth&&e>=n.clientHeight);c=c.filter(t=>i.some(e=>e===t.key));const h=c.length>0?c[0].key:u[0].key,d=t.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,"bs-tooltip-"+h),h+(d?"-"+d:"")}function vE(t){const e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:Number(t.offsetWidth)+r,height:Number(t.offsetHeight)+n}}function _E(t,e,n=null){return pE(e,n?gE(t):aE(t,e),n)}function wE(t,e,n){const r=n.split(" ")[0],i=vE(t),s={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(r),a=o?"top":"left",l=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return s[a]=e[a]+e[u]/2-i[u]/2,s[l]=r===l?e[l]-i[c]:e[function(t){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,t=>e[t])}(l)],s}function EE(t,e){return t&&t.modifiers&&t.modifiers[e]&&t.modifiers[e].enabled}function CE(t,e,n){Object.keys(e).forEach(r=>{let i="";var s;-1!==["width","height","top","right","bottom","left"].indexOf(r)&&""!==(s=e[r])&&!isNaN(parseFloat(s))&&isFinite(s)&&(i="px"),n?n.setStyle(t,r,`${String(e[r])}${i}`):t.style[r]=String(e[r])+i})}function OE(t){let e=t.offsets.target;const n=t.instance.target.querySelector(".arrow");if(!n)return t;const r=-1!==["left","right"].indexOf(t.placement.split(" ")[0]),i=r?"height":"width",s=r?"Top":"Left",o=s.toLowerCase(),a=r?"left":"top",l=r?"bottom":"right",u=vE(n)[i],c=t.placement.split(" ")[1];t.offsets.host[l]-u<e[o]&&(e[o]-=e[o]-(t.offsets.host[l]-u)),Number(t.offsets.host[o])+Number(u)>e[l]&&(e[o]+=Number(t.offsets.host[o])+Number(u)-Number(e[l])),e=dE(e);const h=Xw(t.instance.target),d=parseFloat(h["margin"+s]),f=parseFloat(h[`border${s}Width`]);let p;if(c){const e=parseFloat(h.borderRadius),n=Number(d+f+e);p=o===c?Number(t.offsets.host[o])+n:Number(t.offsets.host[o])+Number(t.offsets.host[i]-n)}else p=Number(t.offsets.host[o])+Number(t.offsets.host[i]/2-u/2);let g=p-e[o]-d-f;return g=Math.max(Math.min(e[i]-u,g),0),t.offsets.arrow={[o]:Math.round(g),[a]:""},t.instance.arrow=n,t}function SE(t){if(t.offsets.target=dE(t.offsets.target),!EE(t.options,"flip"))return t.offsets.target=Object.assign(Object.assign({},t.offsets.target),wE(t.instance.target,t.offsets.host,t.placement)),t;const e=mE(t.instance.target,t.instance.host,0,"viewport",!1);let n=t.placement.split(" ")[0],r=t.placement.split(" ")[1]||"";const i=yE("auto",t.offsets.host,t.instance.target,t.instance.host,t.options.allowedPositions),s=[n,i];return s.forEach((i,o)=>{if(n!==i||s.length===o+1)return t;n=t.placement.split(" ")[0];const a="left"===n&&Math.floor(t.offsets.target.right)>Math.floor(t.offsets.host.left)||"right"===n&&Math.floor(t.offsets.target.left)<Math.floor(t.offsets.host.right)||"top"===n&&Math.floor(t.offsets.target.bottom)>Math.floor(t.offsets.host.top)||"bottom"===n&&Math.floor(t.offsets.target.top)<Math.floor(t.offsets.host.bottom),l=Math.floor(t.offsets.target.left)<Math.floor(e.left),u=Math.floor(t.offsets.target.right)>Math.floor(e.right),c=Math.floor(t.offsets.target.top)<Math.floor(e.top),h=Math.floor(t.offsets.target.bottom)>Math.floor(e.bottom),d="left"===n&&l||"right"===n&&u||"top"===n&&c||"bottom"===n&&h,f=-1!==["top","bottom"].indexOf(n),p=f&&"left"===r&&l||f&&"right"===r&&u||!f&&"left"===r&&c||!f&&"right"===r&&h;(a||d||p)&&((a||d)&&(n=s[o+1]),p&&(r=function(t){return"right"===t?"left":"left"===t?"right":t}(r)),t.placement=n+(r?" "+r:""),t.offsets.target=Object.assign(Object.assign({},t.offsets.target),wE(t.instance.target,t.offsets.host,t.placement)))}),t}function IE(t){if(!EE(t.options,"preventOverflow"))return t;const e="transform",n=t.instance.target.style,{top:r,left:i,[e]:s}=n;n.top="",n.left="",n[e]="";const o=mE(t.instance.target,t.instance.host,0,"scrollParent",!1);n.top=r,n.left=i,n[e]=s;const a={primary(e){let n=t.offsets.target[e];return t.offsets.target[e]<o[e]&&(n=Math.max(t.offsets.target[e],o[e])),{[e]:n}},secondary(e){const n="right"===e?"left":"top";let r=t.offsets.target[n];return t.offsets.target[e]>o[e]&&(r=Math.min(t.offsets.target[n],o[e]-("right"===e?t.offsets.target.width:t.offsets.target.height))),{[n]:r}}};let l;return["left","right","top","bottom"].forEach(e=>{l=-1!==["left","top"].indexOf(e)?"primary":"secondary",t.offsets.target=Object.assign(Object.assign({},t.offsets.target),a[l](e))}),t}function TE(t){const e=t.placement,n=e.split(" ")[0],r=e.split(" ")[1];if(r){const{host:e,target:i}=t.offsets,s=-1!==["bottom","top"].indexOf(n),o=s?"left":"top",a=s?"width":"height",l={start:{[o]:e[o]},end:{[o]:e[o]+e[a]-i[a]}};t.offsets.target=Object.assign(Object.assign({},i),{[o]:o===r?l.start[o]:l.end[o]})}return t}class kE{position(t,e,n=!0){return this.offset(t,e,!1)}offset(t,e,n=!0){return _E(e,t)}positionElements(t,e,n,r,i){return[SE,TE,IE,OE].reduce((t,e)=>e(t),function(t,e,n,r){const i=_E(t,e);n.match(/^(auto)*\s*(left|right|top|bottom)*$/)||n.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\s*(start|end)*$/)||(n="auto");const s=!!n.match(/auto/g);let o=n.match(/auto\s(left|right|top|bottom)/)?n.split(" ")[1]||"auto":n;const a=o.match(/^(left|right|top|bottom)* ?(?!\1)(left|right|top|bottom)?/);a&&(o=a[1]+(a[2]?" "+a[2]:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto");const l=wE(t,i,o);return o=yE(o,i,t,e,r?r.allowedPositions:void 0),{options:r,instance:{target:t,host:e,arrow:null},offsets:{target:l,host:i,arrow:null},positionFixed:!1,placement:o,placementAuto:s}}(e,t,n,i))}}const xE=new kE;class AE{constructor(t,e,n){this.update$$=new Ct.a,this.positionElements=new Map,this.isDisabled=!1,function(t){return"browser"===t}(n)&&t.runOutsideAngular(()=>{this.triggerEvent$=Object(cw.a)(Gw(window,"scroll",{passive:!0}),Gw(window,"resize",{passive:!0}),Object(wt.a)(0,Yw),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(t=>{!function(t,e,n,r,i,s){const o=xE.positionElements(t,e,n,r,i),a=function(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left),top:Math.round(t.offsets.target.top),bottom:Math.round(t.offsets.target.bottom),right:Math.floor(t.offsets.target.right)}}(o);CE(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&CE(o.instance.arrow,o.offsets.arrow,s),function(t,e){const n=t.instance.target;let r=n.className;t.placementAuto&&(r=r.replace(/bs-popover-auto/g,"bs-popover-"+t.placement),r=r.replace(/bs-tooltip-auto/g,"bs-tooltip-"+t.placement),r=r.replace(/\sauto/g," "+t.placement),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom/g,""+t.placement.split(" ")[0]),e?e.setAttribute(n,"class",r):n.className=r}(o,s)}(jE(t.target),jE(t.element),t.attachment,t.appendToBody,this.options,e.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(jE(t.element),t)}calcPosition(){this.update$$.next()}deletePositionElement(t){this.positionElements.delete(jE(t))}setOptions(t){this.options=t}}function jE(t){return"string"==typeof t?document.querySelector(t):t instanceof r.l?t.nativeElement:t}class RE{constructor(){this.hide=Function,this.setClass=Function}}class PE{}const NE={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{}},DE=new r.q("override-default-config"),ME="modal-open",LE="show";class UE{constructor(t,e,n){this._element=e,this._renderer=n,this.isShown=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,Do()?"in":LE)},this.isAnimated?150:0),document&&document.body&&(1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,ME)),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){this.isShown&&(27!==t.keyCode&&"Escape"!==t.key||t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService.getModalsCount()&&(this.bsModalService.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this.hide()}hide(){!this.isModalHiding&&this.isShown&&(this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,Do()?"in":LE),setTimeout(()=>{this.isShown=!1,document&&document.body&&1===this.bsModalService.getModalsCount()&&this._renderer.removeClass(document.body,ME),this.bsModalService.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0))}}class FE{constructor(t,e){this._isShown=!1,this.element=t,this.renderer=e}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),Do()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class{static reflow(t){}static getStyles(t){let e=t.ownerDocument.defaultView;return e&&e.opener||(e=Po),e.getComputedStyle(t)}}.reflow(this.element.nativeElement)),this.isShown=!0}}class VE{constructor(t,e,n){this.clf=e,this.modalDefaultOption=n,this.onShow=new r.n,this.onShown=new r.n,this.onHide=new r.n,this.onHidden=new r.n,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason=null,this.loaders=[],this._backdropLoader=this.clf.createLoader(null,null,null),this._renderer=t.createRenderer(null,null),this.config=n?Object.assign({},NE,n):NE}show(t,e){this.modalsCount++,this._createLoaders();const n=(null==e?void 0:e.id)||(new Date).getUTCMilliseconds();return this.config=this.modalDefaultOption?Object.assign({},NE,this.modalDefaultOption,e):Object.assign({},NE,e),this.config.id=n,this._showBackdrop(),this.lastDismissReason=null,this._showModal(t)}hide(t){1!==this.modalsCount&&null!=t||(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=this.config.backdrop||"static"===this.config.backdrop,e=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&e&&(this._backdropLoader.attach(FE).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var e;const n=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const r of this.config.providers)n.provide(r);const i=new RE,s=n.provide({provide:PE,useValue:this.config}).provide({provide:RE,useValue:i}).attach(UE).to("body");return i.hide=()=>s.instance.hide(),i.setClass=t=>{s.instance.config.class=t},i.onHidden=new r.n,i.onHide=new r.n,this.copyEvent(n.onBeforeHide,i.onHide),this.copyEvent(n.onHidden,i.onHidden),s.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance.level=this.getModalsCount(),i.content=n.getInnerComponent()||null,i.id=null===(e=s.instance.config)||void 0===e?void 0:e.id,i}_hideModal(t){if(null!=t){const e=this.loaders.findIndex(e=>e.instance.config.id===t),n=this.loaders[e];n&&n.hide(t)}else this.loaders.forEach(t=>{t.hide(t.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,ME),this._backdropLoader.hide(),this.backdropRef=null}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=this.originalBodyPadding+this.scrollbarWidth+"px"))}resetScrollbar(){document.body.style.paddingRight=this.originalBodyPadding+"px"}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const e=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),e}_createLoaders(){const t=this.clf.createLoader(null,null,null);this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const e=this.loaders.findIndex(e=>e.instance.config.id===t);e>=0&&(this.loaders.splice(e,1),this.loaders.forEach((t,e)=>{t.instance.level=e+1}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,e){t.subscribe(t=>{e.emit(this.lastDismissReason||t)})}}class qE{static forRoot(){return{ngModule:qE,providers:[VE,Hw,AE]}}static forChild(){return{ngModule:qE,providers:[VE,Hw,AE]}}}var BE="firebasestorage.googleapis.com",zE=function(t){function e(n,r){var i=t.call(this,WE(n),"Firebase Storage: "+r+" ("+WE(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(ra.c)(e,t),e.prototype.codeEquals=function(t){return WE(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(oa.c),HE="canceled",$E="invalid-argument",GE="unsupported-environment";function WE(t){return"storage/"+t}function KE(){return new zE("unknown","An unknown error occurred, please check the error payload for server response.")}function QE(){return new zE(HE,"User canceled the upload/download.")}function JE(){return new zE("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function YE(t){return new zE($E,t)}function XE(){return new zE("app-deleted","The Firebase app was deleted.")}function ZE(t){return new zE("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tC(t,e){return new zE("invalid-format","String does not match format '"+t+"': "+e)}function eC(t){throw new zE("internal-error","Internal error: "+t)}var nC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},rC=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function iC(t,e){switch(t){case nC.RAW:return new rC(sC(e));case nC.BASE64:case nC.BASE64URL:return new rC(oC(t,e));case nC.DATA_URL:return new rC((n=new aC(e)).base64?oC(nC.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw tC(nC.DATA_URL,"Malformed data URL.")}return sC(e)}(n.rest),new aC(e).contentType)}var n;throw KE()}function sC(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function oC(t,e){switch(t){case nC.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw tC(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case nC.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw tC(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(u){throw tC(t,"Invalid character found")}for(var a=new Uint8Array(o.length),l=0;l<o.length;l++)a[l]=o.charCodeAt(l);return a}var aC=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw tC(nC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),lC="running",uC="pausing",cC="paused",hC="success",dC="canceling",fC="canceled",pC="error",gC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function mC(t){switch(t){case lC:case uC:case dC:return gC.RUNNING;case cC:return gC.PAUSED;case hC:return gC.SUCCESS;case fC:return gC.CANCELED;case pC:default:return gC.ERROR}}var bC=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),yC=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=bC.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=bC.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=bC.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw eC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw eC("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw eC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw eC("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),vC=function(){function t(){}return t.prototype.createXhrIo=function(){return new yC},t}();function _C(t){return"string"==typeof t||t instanceof String}function wC(t){return EC()&&t instanceof Blob}function EC(){return"undefined"!=typeof Blob}function CC(t,e,n,r){if(r<e)throw new zE($E,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new zE($E,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function OC(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function SC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=OC();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(EC())return new Blob(t);throw new zE(GE,"This browser doesn't seem to support creating Blobs")}var IC=function(){function t(t,e){var n=0,r="";wC(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(wC(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(EC()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(SC.apply(null,r))}var i=e.map((function(t){return _C(t)?iC(nC.RAW,t).data:t.data_})),s=0;i.forEach((function(t){s+=t.byteLength}));var o=new Uint8Array(s),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]})),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}(),TC=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new zE("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var o=BE.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],l=0;l<a.length;l++){var u=a[l],c=u.regex.exec(e);if(c){var h=c[u.indices.path];h||(h=""),n=new t(c[u.indices.bucket],h),u.postModify(n);break}}if(null==n)throw function(t){return new zE("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function kC(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function xC(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function AC(t){return"https://"+BE+"/v0"+t}function jC(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function RC(t,e){return e}var PC=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||RC}}(),NC=null;function DC(){if(NC)return NC;var t=[];t.push(new PC("bucket")),t.push(new PC("generation")),t.push(new PC("metageneration")),t.push(new PC("name","fullPath",!0));var e=new PC("name");e.xform=function(t,e){return function(t){return!_C(t)||t.length<2?t:xC(t)}(e)},t.push(e);var n=new PC("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new PC("timeCreated")),t.push(new PC("updated")),t.push(new PC("md5Hash",null,!0)),t.push(new PC("cacheControl",null,!0)),t.push(new PC("contentDisposition",null,!0)),t.push(new PC("contentEncoding",null,!0)),t.push(new PC("contentLanguage",null,!0)),t.push(new PC("contentType",null,!0)),t.push(new PC("metadata","customMetadata",!0)),NC=t}function MC(t,e,n){var r=kC(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new TC(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function LC(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var UC=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function FC(t){if(!t)throw KE()}function VC(t,e){return function(n,r){var i=MC(t,r,e);return FC(null!==i),i}}function qC(t){return function(e,n){var r;return(r=401===e.getStatus()?new zE("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new zE("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new zE("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function BC(t){var e=qC(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new zE("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function zC(t,e,n){var r=AC(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new UC(r,"GET",VC(t,n),i);return s.errorHandler=BC(e),s}function HC(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var $C=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function GC(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){FC(!1)}return FC(!!n&&-1!==(e||["active"]).indexOf(n)),n}var WC=262144,KC=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),QC=function(){return function(t,e,n,r,i,s){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=s}}();function JC(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var YC=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=DC(),this._resumable=this._shouldDoResumable(this._blob),this._state=lC,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(HE)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(pC))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(HE)?r.completeTransitions_():(r._error=t,r._transition(pC))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===lC&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case lC:t(n);break;case dC:e._transition(fC);break;case uC:e._transition(cC)}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=HC(e,r,i),a={name:o.fullPath},l=AC(s),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=LC(o,n),h=new UC(l,"POST",(function(t){var e;GC(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){FC(!1)}return FC(_C(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=u,h.body=c,h.errorHandler=qC(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=new UC(n,"POST",(function(t){var e=GC(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){FC(!1)}n||FC(!1);var i=Number(n);return FC(!isNaN(i)),new $C(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=qC(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=WC*this._chunkMultiplier,n=new $C(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var s;try{s=function(t,e,n,r,i,s,o,a){var l=new $C(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new zE("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=l.total-l.current,c=u;i>0&&(c=Math.min(c,i));var h=l.current,d={"X-Goog-Upload-Command":c===u?"upload, finalize":"upload","X-Goog-Upload-Offset":l.current},f=r.slice(h,h+c);if(null===f)throw JE();var p=new UC(n,"POST",(function(t,n){var i,o=GC(t,["active","final"]),a=l.current+c,u=r.size();return i="final"===o?VC(e,s)(t,n):null,new $C(a,u,"final"===o,i)}),e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=qC(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(a){return t._error=a,void t._transition(pC)}var o=t._ref.storage.makeRequest(s,i);t._request=o,o.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(hC)):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){WC*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=zC(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition(hC)}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var l=HC(e,r,i),u=LC(l,n),c=IC.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===c)throw JE();var h={name:l.fullPath},d=AC(s),f=t.maxUploadRetryTime,p=new UC(d,"POST",VC(t,n),f);return p.urlParams=h,p.headers=o,p.body=c.uploadData(),p.errorHandler=qC(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(hC)}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case dC:case uC:this._state=t,void 0!==this._request&&this._request.cancel();break;case lC:var e=this._state===cC;this._state=t,e&&(this._notifyObservers(),this._start());break;case cC:this._state=t,this._notifyObservers();break;case fC:this._error=QE(),this._state=t,this._notifyObservers();break;case pC:case hC:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case uC:this._transition(cC);break;case dC:this._transition(fC);break;case lC:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=mC(this._state);return new QC(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,s=new KC(e,n,r);return this._addObserver(s),function(){i._removeObserver(s)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(mC(this._state)){case gC.SUCCESS:JC(this._resolve.bind(null,this.snapshot))();break;case gC.CANCELED:case gC.ERROR:JC(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(mC(this._state)){case gC.RUNNING:case gC.PAUSED:t.next&&JC(t.next.bind(t,this.snapshot))();break;case gC.SUCCESS:t.complete&&JC(t.complete.bind(t))();break;case gC.CANCELED:case gC.ERROR:t.error&&JC(t.error.bind(t,this._error))();break;default:t.error&&JC(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===cC||this._state===uC;return t&&this._transition(lC),t},t.prototype.pause=function(){var t=this._state===lC;return t&&this._transition(uC),t},t.prototype.cancel=function(){var t=this._state===lC||this._state===uC;return t&&this._transition(dC),t},t}(),XC=function(){function t(t,e){this._service=t,this._location=e instanceof TC?e:TC.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new TC(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return xC(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new TC(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw ZE(t)},t}();function ZC(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ra.d)(this,(function(s){switch(s.label){case 0:return null!=e&&"number"==typeof e.maxResults&&CC("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=s.sent(),i=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=AC(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,l=new UC(o,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=kC(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,s=n.prefixes;i<s.length;i++){var o=s[i].replace(/\/$/,""),a=t.makeStorageReference(new TC(e,o));r.prefixes.push(a)}if(n.items)for(var l=0,u=n.items;l<u.length;l++)a=t.makeStorageReference(new TC(e,u[l].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return FC(null!==i),i}}(t,e.bucket),a);return l.urlParams=s,l.errorHandler=qC(e),l}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}}))}))}function tO(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new TC(t._location.bucket,n);return new XC(t.storage,r)}var eO=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),nO=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new eO(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new eO(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,s=void 0;return e&&(s="function"==typeof e?function(t){return e(new eO(t,i,i._ref))}:{next:e.next?function(t){return e.next(new eO(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,n||void 0,r||void 0)},t}(),rO=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new iO(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new iO(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),iO=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(tO(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new nO(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new YC(t,new IC(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=nC.RAW),this._throwIfRoot("putString"),new nO(function(t,e,n,r){void 0===n&&(n=nC.RAW),t._throwIfRoot("putString");var i=iC(n,e),s=Object(ra.a)({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new YC(t,new IC(i.data,!0),s)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t,e,n=this;return(t=this._delegate,e={prefixes:[],items:[]},function t(e,n,r){return Object(ra.b)(this,void 0,void 0,(function(){var i,s,o;return Object(ra.d)(this,(function(a){switch(a.label){case 0:return[4,ZC(e,{pageToken:r})];case 1:return i=a.sent(),(s=n.prefixes).push.apply(s,i.prefixes),(o=n.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))).then((function(t){return new rO(t,n.storage)}))},t.prototype.list=function(t){var e=this;return ZC(this._delegate,t).then((function(t){return new rO(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return Object(ra.b)(this,void 0,void 0,(function(){var e,n;return Object(ra.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=zC(t.storage,t._location,DC()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(ra.b)(this,void 0,void 0,(function(){var n,r;return Object(ra.d)(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=AC(e.fullServerUrl()),s=LC(n,r),o=t.maxOperationRetryTime,a=new UC(i,"PATCH",VC(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=BC(e),a}(t.storage,t._location,e,DC()),[2,t.storage.makeRequest(r,n).getPromise()]}}))}))}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(ra.b)(this,void 0,void 0,(function(){var e,n;return Object(ra.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=AC(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new UC(r,"GET",function(t,e){return function(n,r){var i=MC(t,r,e);return FC(null!==i),function(t,e){var n=kC(e);if(null===n)return null;if(!_C(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return AC("/b/"+i(t.bucket)+"/o/"+i(n))+jC({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return s.errorHandler=BC(e),s}(t.storage,t._location,DC()),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new zE("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(ra.b)(this,void 0,void 0,(function(){var e,n;return Object(ra.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=AC(e.fullServerUrl()),r=new UC(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=BC(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw ZE(t)},t}(),sO=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),oO=function(){function t(t,e,n,r,i,s,o,a,l,u,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=l,this.pool_=c,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?i(a):i()}catch(l){s(l)}else null!==o?((r=KE()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?XE():QE():new zE("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new aO(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,o=!1,a=0;function l(){return 2===a}var u=!1;function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u||(u=!0,n.apply(null,t))}function h(e){s=setTimeout((function(){s=null,function(e,n){if(n)e(!1,new aO(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===bC.NO_ERROR,s=n.getStatus();if(r&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new aO(o,n))}else{var a=n.getErrorCode()===bC.ABORT;e(!1,new aO(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,l())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)c.call.apply(c,Object(ra.g)([null,t],e));else{var r;l()||o?c.call.apply(c,Object(ra.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,u||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout((function(){o=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),aO=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function lO(t){return/^[A-Za-z]+:\/\//.test(t)}function uO(t,e){if(e&&lO(e)){if(t instanceof dO)return new XC(t,e);throw YE("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof dO){var r=e;if(null==r._bucket)throw new zE("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new XC(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw YE('`path` param cannot contain ".."');return tO(e,n)}return e}(t,e)}var cO,hO,dO=function(){function t(t,e,n,r){var i,s;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?TC.makeFromBucketSpec(r):null==(s=null==(i=this.app.options)?void 0:i.storageBucket)?null:TC.makeFromBucketSpec(s)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){CC("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){CC("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(ra.b)(this,void 0,void 0,(function(){var t,e;return Object(ra.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new XC(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new sO(XE());var r=function(t,e,n,r){var i=jC(t.urlParams),s=t.url+i,o=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(o,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==ia.a?ia.a.SDK_VERSION:"AppManager")}(o),new oO(s,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),fO=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(lO(t))throw YE("ref() expected a child path but got a URL, use refFromURL instead.");return new iO(uO(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!lO(t))throw YE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{TC.makeFromUrl(t)}catch(e){throw YE("refFromUrl() expected a valid full URL but got an invalid one.")}return new iO(uO(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function pO(t){const e=function(t){return new Rt.a(e=>{const n=t=>e.next(t);t.on("state_changed",n,r=>{n(t.snapshot),(t=>{e.error(t)})(r)},()=>{n(t.snapshot),e.complete()})}).pipe(gw({bufferSize:1,refCount:!1}))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(qt.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function gO(t,e,n){return{getDownloadURL:()=>Object(wt.a)(void 0).pipe(Object(ta.b)(e.outsideAngular),oe(()=>t.getDownloadURL()),n),getMetadata:()=>Object(wt.a)(void 0).pipe(Object(ta.b)(e.outsideAngular),oe(()=>t.getMetadata()),n),delete:()=>Object(Et.a)(t.delete()),child:r=>gO(t.child(r),e,n),updateMetadata:e=>Object(Et.a)(t.updateMetadata(e)),put:(e,n)=>pO(t.put(e,n)),putString:(e,n,r)=>pO(t.putString(e,n,r)),listAll:()=>Object(Et.a)(t.listAll())}}hO={TaskState:gC,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:nC,Storage:dO,Reference:iO},(cO=ia.a).INTERNAL.registerComponent(new oh.a("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new fO(n,new dO(n,r,new vC,e))}),"PUBLIC").setServiceProps(hO).setMultipleInstances(!0)),cO.registerVersion("@firebase/storage","0.4.2");const mO=new r.q("angularfire2.storageBucket"),bO=new r.q("angularfire2.storage.maxUploadRetryTime"),yO=new r.q("angularfire2.storage.maxOperationRetryTime");let vO=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new ea.e(i),this.keepUnstableUntilFirst=Object(ea.i)(this.schedulers);const a=Object(ea.h)(t,i,e);this.storage=Object(ea.g)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return s&&t.setMaxUploadRetryTime(s),o&&t.setMaxOperationRetryTime(o),t},[s,o])}ref(t){return gO(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return gO(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return gO(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275prov=Object(r.Vb)({factory:function(){return new t(Object(r.Wb)(ea.c),Object(r.Wb)(ea.b,8),Object(r.Wb)(mO,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(bO,8),Object(r.Wb)(yO,8))},token:t,providedIn:"any"}),t})();class _O{}class wO{}let EO=(()=>{class t{constructor(t,e,n,r){this.http=t,this.db=e,this.auth=n,this.router=r,this.cheackSignIn=new Ct.a}signUp(t,e){this.auth.createUserWithEmailAndPassword(t,e).then(t=>{const e={id:t.user.uid,email:t.user.email,role:"user"};this.db.collection("users").add(e).then(t=>{t.get().then(t=>{localStorage.setItem("user",JSON.stringify(t.data())),this.cheackSignIn.next(!0),this.router.navigateByUrl("profile")})})}).catch(t=>console.log(t))}signIn(t,e){this.auth.signInWithEmailAndPassword(t,e).then(t=>{this.db.collection("users").ref.where("id","==",t.user.uid).onSnapshot(t=>{t.forEach(t=>{localStorage.setItem("user",JSON.stringify(t.data())),this.cheackSignIn.next(!0),this.localStorageUser=JSON.parse(localStorage.getItem("user")),this.router.navigateByUrl("admin"===this.localStorageUser.role?"admin":"profile")})})})}signOut(){this.auth.signOut().then(()=>{localStorage.removeItem("user"),this.cheackSignIn.next(!1),this.router.navigateByUrl("home")})}}return t.\u0275prov=r.Vb({factory:function(){return new t(r.Wb(Gi),r.Wb(Vw),r.Wb(Ow),r.Wb(Wr))},token:t,providedIn:"root"}),t})();var CO=r.tb({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{width:600px;height:400px;display:flex;flex-direction:column;align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.container__image[_ngcontent-%COMP%], .user__img[_ngcontent-%COMP%]{height:200px}.user__img[_ngcontent-%COMP%]{width:200px;cursor:pointer;border-radius:50%}.add-modal[_ngcontent-%COMP%]{padding:10px}.modal-button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:10px;margin-top:10px}.form[_ngcontent-%COMP%]{margin:10px 0}.form-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.form-control[_ngcontent-%COMP%]{width:80%}.modal-header[_ngcontent-%COMP%]{padding:5px}.addImg[_ngcontent-%COMP%]{background-color:#d3d3d3;height:30px;width:100%;border-radius:4px;padding:2px}"]],data:{}});function OO(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"div",[["class","addImg"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["File uploaded. Now to can add product."]))],null,null)}function SO(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,64,"div",[["class","add-modal"]],[[4,"height",null]],null,null,null,null)),(t()(),r.vb(1,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Modal title"])),(t()(),r.vb(4,0,null,null,2,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.modalRef.hide()&&r),"click"===e&&(r=!1!==i.resetForm()&&r),r}),null,null)),(t()(),r.vb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["\xd7"])),(t()(),r.vb(7,0,null,null,52,"form",[["class","form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Ib(t,9).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Ib(t,9).onReset()&&i),i}),null,null)),r.ub(8,16384,null,0,ko,[],null,null),r.ub(9,4210688,null,0,So,[[8,null],[8,null]],null,null),r.Mb(2048,null,Us,null,[So]),r.ub(11,16384,null,0,Bs,[[4,Us]],null,null),(t()(),r.vb(12,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(13,0,null,null,1,"label",[["for","myFirstName"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["My first name: "])),(t()(),r.vb(15,0,null,null,5,"input",[["class","form-control"],["id","myFirstName"],["name","myFirstName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,16)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,16).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,16)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,16)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.myFirstName=n)&&i),i}),null,null)),r.ub(16,16384,null,0,Ms,[r.D,r.l,[2,Ds]],null,null),r.Mb(1024,null,Ns,(function(t){return[t]}),[Ms]),r.ub(18,671744,null,0,To,[[2,Us],[8,null],[8,null],[6,Ns]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(20,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.vb(21,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(22,0,null,null,1,"label",[["for","myLastName"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["My last name: "])),(t()(),r.vb(24,0,null,null,5,"input",[["class","form-control"],["id","myLastName"],["name","myLastName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,25)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,25).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,25)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,25)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.myLastName=n)&&i),i}),null,null)),r.ub(25,16384,null,0,Ms,[r.D,r.l,[2,Ds]],null,null),r.Mb(1024,null,Ns,(function(t){return[t]}),[Ms]),r.ub(27,671744,null,0,To,[[2,Us],[8,null],[8,null],[6,Ns]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(29,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.vb(30,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(31,0,null,null,1,"label",[["for","myCity"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["My city: "])),(t()(),r.vb(33,0,null,null,5,"input",[["class","form-control"],["id","myCity"],["name","myCity"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,34)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,34).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,34)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,34)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.myCity=n)&&i),i}),null,null)),r.ub(34,16384,null,0,Ms,[r.D,r.l,[2,Ds]],null,null),r.Mb(1024,null,Ns,(function(t){return[t]}),[Ms]),r.ub(36,671744,null,0,To,[[2,Us],[8,null],[8,null],[6,Ns]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(38,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.vb(39,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(40,0,null,null,1,"label",[["for","myOld"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["My years old: "])),(t()(),r.vb(42,0,null,null,6,"input",[["class","form-control"],["id","myOld"],["name","myOld"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,43)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,43).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,43)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,43)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==r.Ib(t,44).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,44).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(s.myOld=n)&&i),i}),null,null)),r.ub(43,16384,null,0,Ms,[r.D,r.l,[2,Ds]],null,null),r.ub(44,16384,null,0,Xs,[r.D,r.l],null,null),r.Mb(1024,null,Ns,(function(t,e){return[t,e]}),[Ms,Xs]),r.ub(46,671744,null,0,To,[[2,Us],[8,null],[8,null],[6,Ns]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(48,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.vb(49,0,null,null,4,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.vb(50,0,null,null,3,"div",[["class","custom-file"]],null,null,null,null,null)),(t()(),r.vb(51,0,null,null,0,"input",[["class","custom-file-input"],["id","inputGroupFile02"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.uploadFile(n)&&r),r}),null,null)),(t()(),r.vb(52,0,null,null,1,"label",[["aria-describedby","inputGroupFileAddon02"],["class","custom-file-label"],["for","inputGroupFile02"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Choose file"])),(t()(),r.vb(54,0,null,null,2,"div",[["class","mb-3"]],null,null,null,null,null)),(t()(),r.vb(55,0,null,null,1,"progressbar",[["class","progress-striped"],["type","dark"]],[[1,"max",0],[2,"progress",null]],null,null,Go,Bo)),r.ub(56,49152,null,0,Lo,[Mo],{striped:[0,"striped"],type:[1,"type"],value:[2,"value"]},null),(t()(),r.eb(16777216,null,null,1,null,OO)),r.ub(58,16384,null,0,ot,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.vb(59,0,null,null,0,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.vb(60,0,null,null,4,"div",[["class","modal-button"]],null,null,null,null,null)),(t()(),r.vb(61,0,null,null,1,"button",[["class","btn btn-dark mr-1"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.modalRef.hide()&&r),"click"===e&&(r=!1!==i.resetForm()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Close"])),(t()(),r.vb(63,0,null,null,1,"button",[["class","btn btn-dark"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.cheackLocalUser()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Save"]))],(function(t,e){var n=e.component;t(e,18,0,"myFirstName",n.myFirstName),t(e,27,0,"myLastName",n.myLastName),t(e,36,0,"myCity",n.myCity),t(e,46,0,"myOld",n.myOld),t(e,56,0,!0,"dark",n.dynamic),t(e,58,0,n.fileUploaded)}),(function(t,e){t(e,0,0,e.component.addModalHeight+"px"),t(e,7,0,r.Ib(e,11).ngClassUntouched,r.Ib(e,11).ngClassTouched,r.Ib(e,11).ngClassPristine,r.Ib(e,11).ngClassDirty,r.Ib(e,11).ngClassValid,r.Ib(e,11).ngClassInvalid,r.Ib(e,11).ngClassPending),t(e,15,0,r.Ib(e,20).ngClassUntouched,r.Ib(e,20).ngClassTouched,r.Ib(e,20).ngClassPristine,r.Ib(e,20).ngClassDirty,r.Ib(e,20).ngClassValid,r.Ib(e,20).ngClassInvalid,r.Ib(e,20).ngClassPending),t(e,24,0,r.Ib(e,29).ngClassUntouched,r.Ib(e,29).ngClassTouched,r.Ib(e,29).ngClassPristine,r.Ib(e,29).ngClassDirty,r.Ib(e,29).ngClassValid,r.Ib(e,29).ngClassInvalid,r.Ib(e,29).ngClassPending),t(e,33,0,r.Ib(e,38).ngClassUntouched,r.Ib(e,38).ngClassTouched,r.Ib(e,38).ngClassPristine,r.Ib(e,38).ngClassDirty,r.Ib(e,38).ngClassValid,r.Ib(e,38).ngClassInvalid,r.Ib(e,38).ngClassPending),t(e,42,0,r.Ib(e,48).ngClassUntouched,r.Ib(e,48).ngClassTouched,r.Ib(e,48).ngClassPristine,r.Ib(e,48).ngClassDirty,r.Ib(e,48).ngClassValid,r.Ib(e,48).ngClassInvalid,r.Ib(e,48).ngClassPending),t(e,55,0,r.Ib(e,56).max,r.Ib(e,56).addClass)}))}function IO(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"div",[["class","container__image"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,0,"img",[["alt","user"],["class","user__img"]],[[1,"src",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openModalAdd(r.Ib(t,8))&&i),i}),null,null)),(t()(),r.vb(3,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),r.vb(4,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r.Rb(5,null,[""," "," ",""])),(t()(),r.vb(6,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Rb(7,null,["",""])),(t()(),r.eb(0,[["addTemplate",2]],null,0,null,SO))],null,(function(t,e){var n=e.component;t(e,2,0,n.userImage),t(e,5,0,n.myFirstName,n.myLastName,n.myOld),t(e,7,0,n.myCity)}))}function TO(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-profile",[],null,null,null,IO,CO)),r.ub(1,114688,null,0,Wo,[Vw,VE,vO,EO],null,null)],(function(t,e){t(e,1,0)}),null)}var kO=r.rb("app-profile",Wo,TO,{},{},[]);class xO{constructor(){}ngOnInit(){}}var AO=r.tb({encapsulation:0,styles:[[""]],data:{}});function jO(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Rb(-1,null,["about works!"]))],null,null)}function RO(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-about",[],null,null,null,jO,AO)),r.ub(1,114688,null,0,xO,[],null,null)],(function(t,e){t(e,1,0)}),null)}var PO=r.rb("app-about",xO,RO,{},{},[]);class NO{constructor(){}ngOnInit(){}}var DO=r.tb({encapsulation:0,styles:[[".dark-mode-text[_ngcontent-%COMP%]{color:#2c2c2c}.dark-mode[_ngcontent-%COMP%]{background-color:#2c2c2c;color:#fefefe}"]],data:{}});function MO(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,28,"section",[["class","container-fluid mt-3"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,22,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),r.vb(3,0,null,null,21,"div",[["class","nav flex-column nav-pills"]],null,null,null,null,null)),(t()(),r.vb(4,0,null,null,6,"a",[["class","nav-link dark-mode-text"],["routerLinkActive","dark-mode"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,5).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(5,671744,[[2,4]],0,Qr,[Wr,An,y],{routerLink:[0,"routerLink"]},null),r.Jb(6,1),r.ub(7,1720320,null,2,Yr,[Wr,r.l,r.D,r.h,[2,Kr],[2,Qr]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Nb(603979776,1,{links:1}),r.Nb(603979776,2,{linksWithHrefs:1}),(t()(),r.Rb(-1,null,["Category"])),(t()(),r.vb(11,0,null,null,6,"a",[["class","nav-link dark-mode-text"],["routerLinkActive","dark-mode"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,12).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(12,671744,[[4,4]],0,Qr,[Wr,An,y],{routerLink:[0,"routerLink"]},null),r.Jb(13,1),r.ub(14,1720320,null,2,Yr,[Wr,r.l,r.D,r.h,[2,Kr],[2,Qr]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Nb(603979776,3,{links:1}),r.Nb(603979776,4,{linksWithHrefs:1}),(t()(),r.Rb(-1,null,["Product"])),(t()(),r.vb(18,0,null,null,6,"a",[["class","nav-link dark-mode-text"],["routerLinkActive","dark-mode"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,19).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(19,671744,[[6,4]],0,Qr,[Wr,An,y],{routerLink:[0,"routerLink"]},null),r.Jb(20,1),r.ub(21,1720320,null,2,Yr,[Wr,r.l,r.D,r.h,[2,Kr],[2,Qr]],{routerLinkActive:[0,"routerLinkActive"]},null),r.Nb(603979776,5,{links:1}),r.Nb(603979776,6,{linksWithHrefs:1}),(t()(),r.Rb(-1,null,["Blogs"])),(t()(),r.vb(25,0,null,null,3,"div",[["class","col-10"]],null,null,null,null,null)),(t()(),r.vb(26,0,null,null,2,"div",[["class","tab-content"]],null,null,null,null,null)),(t()(),r.vb(27,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ub(28,212992,null,0,Xr,[qr,r.P,r.j,[8,null],r.h],null,null)],(function(t,e){var n=t(e,6,0,"admin-category");t(e,5,0,n),t(e,7,0,"dark-mode");var r=t(e,13,0,"admin-products");t(e,12,0,r),t(e,14,0,"dark-mode");var i=t(e,20,0,"admin-blogs");t(e,19,0,i),t(e,21,0,"dark-mode"),t(e,28,0)}),(function(t,e){t(e,4,0,r.Ib(e,5).target,r.Ib(e,5).href),t(e,11,0,r.Ib(e,12).target,r.Ib(e,12).href),t(e,18,0,r.Ib(e,19).target,r.Ib(e,19).href)}))}function LO(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-admin",[],null,null,null,MO,DO)),r.ub(1,114688,null,0,NO,[],null,null)],(function(t,e){t(e,1,0)}),null)}var UO=r.rb("app-admin",NO,LO,{},{},[]);class FO{transform(t,e){return e?t?t.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())):[]:t}}class VO{constructor(t,e){this.id=t,this.name=e}}class qO{constructor(t,e){this.modalService=t,this.categoryService=e,this.adminCategories=[],this.disabledStatys=!0,this.Status=!1}ngOnInit(){this.getCategories()}getCategories(){this.categoryService.getCategories().subscribe(t=>{this.adminCategories=t})}addCategory(){console.log(this.adminCategories);const t=new VO(1,this.inputCategory);delete t.id,this.categoryService.postCategory(t).subscribe(()=>{this.getCategories()}),this.resetForm()}deleteCategory(t){this.categoryID=t.id}delCategory(){this.categoryService.deleteCategory(this.categoryID).subscribe(()=>{this.getCategories()})}editCategory(t){this.Status=!0,this.categoryID=t.id,this.inputCategory=t.name}saveCategory(){this.categoryService.updateCategory({id:this.categoryID,name:this.inputCategory}).subscribe(()=>{this.getCategories()}),this.resetForm()}changeInp(){this.disabledStatys=!(this.inputCategory.length>0)}openModal(t){this.Status=!1,this.modalRef=this.modalService.show(t)}openModa(t){this.modalRef=this.modalService.show(t,{class:"modal-sm"})}resetForm(){this.inputCategory="",this.disabledStatys=!0}}let BO=(()=>{class t{constructor(t){this.http=t,this.categories=[],this.url="http://localhost:3000/categories"}getCategories(){return this.http.get(this.url)}postCategory(t){return this.http.post(this.url,t)}updateCategory(t){return this.http.put(`${this.url}/${t.id}`,t)}deleteCategory(t){return this.http.delete(`${this.url}/${t}`)}}return t.\u0275prov=r.Vb({factory:function(){return new t(r.Wb(Gi))},token:t,providedIn:"root"}),t})();var zO=r.tb({encapsulation:0,styles:[[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.title[_ngcontent-%COMP%]{font-size:20px}.input-group[_ngcontent-%COMP%]{width:95%;margin:0 auto}.table[_ngcontent-%COMP%]{width:95%;margin:0 auto 10px}.add-modal[_ngcontent-%COMP%]{height:200px}.modal-button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:10px;margin-top:10px}"]],data:{}});function HO(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r.Rb(2,null,["",""])),(t()(),r.vb(3,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r.Rb(4,null,["",""])),(t()(),r.vb(5,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.vb(6,0,null,null,1,"button",[["class","btn btn-dark"]],null,[[null,"click"]],(function(t,e,n){var i=!0,s=t.component;return"click"===e&&(i=!1!==s.openModal(r.Ib(t.parent,29))&&i),"click"===e&&(i=!1!==s.editCategory(t.context.$implicit)&&i),i}),null,null)),(t()(),r.Rb(-1,null,["edit"])),(t()(),r.vb(8,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.vb(9,0,null,null,1,"button",[["class","btn btn-dark"]],null,[[null,"click"]],(function(t,e,n){var i=!0,s=t.component;return"click"===e&&(i=!1!==s.deleteCategory(t.context.$implicit)&&i),"click"===e&&(i=!1!==s.openModa(r.Ib(t.parent,30))&&i),i}),null,null)),(t()(),r.Rb(-1,null,["delete"]))],null,(function(t,e){t(e,2,0,e.context.index+1),t(e,4,0,e.context.$implicit.name)}))}function $O(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"button",[["class","btn btn-dark"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.modalRef.hide()&&r),"click"===e&&(r=!1!==i.addCategory()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Add"]))],null,(function(t,e){t(e,0,0,e.component.disabledStatys)}))}function GO(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"button",[["class","btn btn-dark"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.modalRef.hide()&&r),"click"===e&&(r=!1!==i.saveCategory()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Save edit"]))],null,null)}function WO(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,20,"div",[["class","add-modal"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Modal"])),(t()(),r.vb(4,0,null,null,2,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.modalRef.hide()&&r),r}),null,null)),(t()(),r.vb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["\xd7"])),(t()(),r.vb(7,0,null,null,6,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.vb(8,0,null,null,5,"input",[["aria-describedby","inputGroup-sizing-default"],["aria-label","Sizing example input"],["class","form-control"],["placeholder","name here..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"ngModelChange"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,9)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,9).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,9)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,9)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==s.changeInp()&&i),"ngModelChange"===e&&(i=!1!==(s.inputCategory=n)&&i),i}),null,null)),r.ub(9,16384,null,0,Ms,[r.D,r.l,[2,Ds]],null,null),r.Mb(1024,null,Ns,(function(t){return[t]}),[Ms]),r.ub(11,671744,null,0,To,[[8,null],[8,null],[8,null],[6,Ns]],{model:[0,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(13,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.vb(14,0,null,null,6,"div",[["class","modal-button"]],null,null,null,null,null)),(t()(),r.vb(15,0,null,null,1,"button",[["class","btn btn-dark mr-1"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.modalRef.hide()&&r),"click"===e&&(r=!1!==i.resetForm()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Close"])),(t()(),r.eb(16777216,null,null,1,null,$O)),r.ub(18,16384,null,0,ot,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,GO)),r.ub(20,16384,null,0,ot,[r.P,r.L],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,11,0,n.inputCategory),t(e,18,0,!n.Status),t(e,20,0,n.Status)}),(function(t,e){t(e,8,0,r.Ib(e,13).ngClassUntouched,r.Ib(e,13).ngClassTouched,r.Ib(e,13).ngClassPristine,r.Ib(e,13).ngClassDirty,r.Ib(e,13).ngClassValid,r.Ib(e,13).ngClassInvalid,r.Ib(e,13).ngClassPending)}))}function KO(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,4,"div",[["class","modal-body text-center"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"button",[["class","btn btn-dark mr-1"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Dismiss"])),(t()(),r.vb(3,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.delCategory()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Delete"]))],null,null)}function QO(t){return r.Ub(0,[r.Kb(0,FO,[]),(t()(),r.vb(1,0,null,null,27,"div",[["class","card"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),r.vb(3,0,null,null,1,"span",[["class","title"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Category"])),(t()(),r.vb(5,0,null,null,1,"button",[["class","btn btn-dark"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openModal(r.Ib(t,29))&&i),i}),null,null)),(t()(),r.Rb(-1,null,["Add"])),(t()(),r.vb(7,0,null,null,6,"div",[["class","input-group mb-3 mt-3"]],null,null,null,null,null)),(t()(),r.vb(8,0,null,null,5,"input",[["aria-describedby","inputGroup-sizing-default"],["aria-label","Sizing example input"],["class","form-control"],["name","searchCategory"],["placeholder","filter category..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,9)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,9).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,9)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,9)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.searchCategory=n)&&i),i}),null,null)),r.ub(9,16384,null,0,Ms,[r.D,r.l,[2,Ds]],null,null),r.Mb(1024,null,Ns,(function(t){return[t]}),[Ms]),r.ub(11,671744,null,0,To,[[8,null],[8,null],[8,null],[6,Ns]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(13,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.vb(14,0,null,null,14,"table",[["class","table table-hover table-bordered"]],null,null,null,null,null)),(t()(),r.vb(15,0,null,null,9,"thead",[],null,null,null,null,null)),(t()(),r.vb(16,0,null,null,8,"tr",[["class","table-active"]],null,null,null,null,null)),(t()(),r.vb(17,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["#"])),(t()(),r.vb(19,0,null,null,1,"th",[["class","col-sm-4"],["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Name"])),(t()(),r.vb(21,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Edit"])),(t()(),r.vb(23,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Delete"])),(t()(),r.vb(25,0,null,null,3,"tbody",[],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,2,null,HO)),r.ub(27,278528,null,0,it,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),r.Lb(28,2),(t()(),r.eb(0,[["template",2]],null,0,null,WO)),(t()(),r.eb(0,[["closeTemplate",2]],null,0,null,KO))],(function(t,e){var n=e.component;t(e,11,0,"searchCategory",n.searchCategory);var i=r.Sb(e,27,0,t(e,28,0,r.Ib(e,0),n.adminCategories,n.searchCategory));t(e,27,0,i)}),(function(t,e){t(e,8,0,r.Ib(e,13).ngClassUntouched,r.Ib(e,13).ngClassTouched,r.Ib(e,13).ngClassPristine,r.Ib(e,13).ngClassDirty,r.Ib(e,13).ngClassValid,r.Ib(e,13).ngClassInvalid,r.Ib(e,13).ngClassPending)}))}function JO(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-admin-category",[],null,null,null,QO,zO)),r.ub(1,114688,null,0,qO,[VE,BO],null,null)],(function(t,e){t(e,1,0)}),null)}var YO=r.rb("app-admin-category",qO,JO,{},{},[]);class XO{transform(t,e){return e?t?t.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())):[]:t}}class ZO{constructor(t,e,n,r,i,s,o){this.id=t,this.category=e,this.name=n,this.description=r,this.price=i,this.image=s,this.count=o}}class tS{constructor(t,e,n,r){this.modalService=t,this.categoryService=e,this.productService=n,this.storage=r,this.adminCategories=[],this.addModalHeight=460,this.fileUploaded=!1,this.dynamic=0,this.adminProducts=[],this.productCount=1}ngOnInit(){this.getCategories(),this.getProducts()}getCategories(){this.categoryService.getCategories().subscribe(t=>{this.adminCategories=t,this.currentCategory=this.adminCategories[0]})}setCategory(){this.currentCategory=this.adminCategories.filter(t=>t.name===this.productCategory)[0]}getProducts(){this.productService.getProducts().subscribe(t=>{this.adminProducts=t})}addProduct(){this.Status=!1;const t=new ZO(1,this.currentCategory,this.productName,this.productDescription,this.productPrice,this.productImage,this.productCount);delete t.id,this.productService.postProduct(t).subscribe(()=>{this.getProducts()}),this.productName="",this.productDescription="",this.productPrice=null,this.productCategory="",this.productImage=""}selectProduct(t){this.productID=t.id}deleteProduct(){this.productService.deleteProduct(this.productID).subscribe(()=>{this.getProducts()})}editProduct(t){this.Status=!0,this.currentCategory=t.category,this.productID=t.id,this.productCategory=this.currentCategory.name,this.productName=t.name,this.productDescription=t.description,this.productPrice=t.price,this.productImage=t.image}saveProduct(){this.productService.updateProduct({id:this.productID,category:this.currentCategory,name:this.productName,description:this.productDescription,price:this.productPrice,image:this.productImage}).subscribe(()=>{this.getProducts()})}uploadFile(t){const e=t.target.files[0],n=this.storage.ref("images/"+e.name).put(e);this.uploadPercent=n.percentageChanges(),this.uploadPercent.subscribe(t=>{100===t&&(this.dynamic=100)}),n.then(t=>{this.storage.ref("images/"+t.metadata.name).getDownloadURL().subscribe(t=>{this.productImage=t,this.addModalHeight=490,this.fileUploaded=!0})})}openModalAdd(t){this.modalRef=this.modalService.show(t)}openModalDelete(t){this.modalRef=this.modalService.show(t,{class:"modal-sm"})}resetForm(){this.Status=!1,this.productName="",this.productDescription="",this.productPrice=null,this.productCategory="",this.productImage="",this.fileUploaded=!1,this.dynamic=0}}var eS=r.tb({encapsulation:0,styles:[[".card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.title[_ngcontent-%COMP%]{font-size:20px}.input-group[_ngcontent-%COMP%]{width:95%;margin:0 auto}.table[_ngcontent-%COMP%]{width:90%;margin:0 auto 10px}.tableImg[_ngcontent-%COMP%]{width:30px;height:30px}.add-modal[_ngcontent-%COMP%]{padding:10px}.modal-button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:10px;margin-top:10px}.form[_ngcontent-%COMP%]{margin:10px 0}.form-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.form-control[_ngcontent-%COMP%]{width:80%}.modal-header[_ngcontent-%COMP%]{padding:5px}.addImg[_ngcontent-%COMP%]{background-color:#d3d3d3;height:30px;width:100%;border-radius:4px;padding:2px}"]],data:{}});function nS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,18,"tr",[],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r.Rb(2,null,["",""])),(t()(),r.vb(3,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r.Rb(4,null,["",""])),(t()(),r.vb(5,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r.Rb(6,null,["",""])),(t()(),r.vb(7,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r.Rb(8,null,["",""])),(t()(),r.vb(9,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r.Rb(10,null,["",""])),(t()(),r.vb(11,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r.vb(12,0,null,null,0,"img",[["alt","x-image"],["class","tableImg"]],[[1,"src",4]],null,null,null,null)),(t()(),r.vb(13,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.vb(14,0,null,null,1,"button",[["class","btn btn-dark"]],null,[[null,"click"]],(function(t,e,n){var i=!0,s=t.component;return"click"===e&&(i=!1!==s.editProduct(t.context.$implicit)&&i),"click"===e&&(i=!1!==s.openModalAdd(r.Ib(t.parent,37))&&i),i}),null,null)),(t()(),r.Rb(-1,null,["edit"])),(t()(),r.vb(16,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.vb(17,0,null,null,1,"button",[["class","btn btn-dark"]],null,[[null,"click"]],(function(t,e,n){var i=!0,s=t.component;return"click"===e&&(i=!1!==s.openModalDelete(r.Ib(t.parent,38))&&i),"click"===e&&(i=!1!==s.selectProduct(t.context.$implicit)&&i),i}),null,null)),(t()(),r.Rb(-1,null,["delete"]))],null,(function(t,e){t(e,2,0,e.context.index+1),t(e,4,0,e.context.$implicit.category.name),t(e,6,0,e.context.$implicit.name),t(e,8,0,e.context.$implicit.description),t(e,10,0,e.context.$implicit.price),t(e,12,0,e.context.$implicit.image)}))}function rS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ub(1,147456,null,0,no,[r.l,r.D,[2,eo]],null,null),r.ub(2,147456,null,0,io,[r.l,r.D,[8,null]],null,null),(t()(),r.Rb(3,null,[" "," "]))],null,(function(t,e){t(e,3,0,e.context.$implicit.name)}))}function iS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"div",[["class","addImg"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["File uploaded. Now to can add product."]))],null,null)}function sS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"button",[["class","btn btn-dark"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.addProduct()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Add"]))],null,null)}function oS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"button",[["class","btn btn-dark"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.saveProduct()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Save"]))],null,null)}function aS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,68,"div",[["class","add-modal"]],[[4,"height",null]],null,null,null,null)),(t()(),r.vb(1,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Modal title"])),(t()(),r.vb(4,0,null,null,2,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.modalRef.hide()&&r),"click"===e&&(r=!1!==i.resetForm()&&r),r}),null,null)),(t()(),r.vb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["\xd7"])),(t()(),r.vb(7,0,null,null,54,"form",[["class","form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Ib(t,9).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Ib(t,9).onReset()&&i),i}),null,null)),r.ub(8,16384,null,0,ko,[],null,null),r.ub(9,4210688,null,0,So,[[8,null],[8,null]],null,null),r.Mb(2048,null,Us,null,[So]),r.ub(11,16384,null,0,Bs,[[4,Us]],null,null),(t()(),r.vb(12,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(13,0,null,null,1,"label",[["for","chooseCategory"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Category: "])),(t()(),r.vb(15,0,null,null,7,"select",[["class","form-control"],["id","chooseCategory"],["name","productCategory"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0,s=t.component;return"change"===e&&(i=!1!==r.Ib(t,16).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,16).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(s.productCategory=n)&&i),"change"===e&&(i=!1!==s.setCategory()&&i),i}),null,null)),r.ub(16,16384,null,0,eo,[r.D,r.l],null,null),r.Mb(1024,null,Ns,(function(t){return[t]}),[eo]),r.ub(18,671744,null,0,To,[[2,Us],[8,null],[8,null],[6,Ns]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(20,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.eb(16777216,null,null,1,null,rS)),r.ub(22,278528,null,0,it,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.vb(23,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(24,0,null,null,1,"label",[["for","productName"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Name: "])),(t()(),r.vb(26,0,null,null,5,"input",[["class","form-control"],["id","productName"],["name","productName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,27)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,27).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,27)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,27)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.productName=n)&&i),i}),null,null)),r.ub(27,16384,null,0,Ms,[r.D,r.l,[2,Ds]],null,null),r.Mb(1024,null,Ns,(function(t){return[t]}),[Ms]),r.ub(29,671744,null,0,To,[[2,Us],[8,null],[8,null],[6,Ns]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(31,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.vb(32,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(33,0,null,null,1,"label",[["for","productDescription"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Description: "])),(t()(),r.vb(35,0,null,null,5,"textarea",[["class","form-control"],["id","text"],["name","productDescription"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,36)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,36).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,36)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,36)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.productDescription=n)&&i),i}),null,null)),r.ub(36,16384,null,0,Ms,[r.D,r.l,[2,Ds]],null,null),r.Mb(1024,null,Ns,(function(t){return[t]}),[Ms]),r.ub(38,671744,null,0,To,[[2,Us],[8,null],[8,null],[6,Ns]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(40,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.vb(41,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(42,0,null,null,1,"label",[["for","productPrice"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Price: "])),(t()(),r.vb(44,0,null,null,6,"input",[["class","form-control"],["id","productPrice"],["name","productPrice"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,45)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,45).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,45)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,45)._compositionEnd(n.target.value)&&i),"input"===e&&(i=!1!==r.Ib(t,46).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,46).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(s.productPrice=n)&&i),i}),null,null)),r.ub(45,16384,null,0,Ms,[r.D,r.l,[2,Ds]],null,null),r.ub(46,16384,null,0,Xs,[r.D,r.l],null,null),r.Mb(1024,null,Ns,(function(t,e){return[t,e]}),[Ms,Xs]),r.ub(48,671744,null,0,To,[[2,Us],[8,null],[8,null],[6,Ns]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(50,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.vb(51,0,null,null,4,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.vb(52,0,null,null,3,"div",[["class","custom-file"]],null,null,null,null,null)),(t()(),r.vb(53,0,null,null,0,"input",[["class","custom-file-input"],["id","inputGroupFile02"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.uploadFile(n)&&r),r}),null,null)),(t()(),r.vb(54,0,null,null,1,"label",[["aria-describedby","inputGroupFileAddon02"],["class","custom-file-label"],["for","inputGroupFile02"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Choose file"])),(t()(),r.vb(56,0,null,null,2,"div",[["class","mb-3"]],null,null,null,null,null)),(t()(),r.vb(57,0,null,null,1,"progressbar",[["class","progress-striped"],["type","dark"]],[[1,"max",0],[2,"progress",null]],null,null,Go,Bo)),r.ub(58,49152,null,0,Lo,[Mo],{striped:[0,"striped"],type:[1,"type"],value:[2,"value"]},null),(t()(),r.eb(16777216,null,null,1,null,iS)),r.ub(60,16384,null,0,ot,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.vb(61,0,null,null,0,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.vb(62,0,null,null,6,"div",[["class","modal-button"]],null,null,null,null,null)),(t()(),r.vb(63,0,null,null,1,"button",[["class","btn btn-dark mr-1"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.modalRef.hide()&&r),"click"===e&&(r=!1!==i.resetForm()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Close"])),(t()(),r.eb(16777216,null,null,1,null,sS)),r.ub(66,16384,null,0,ot,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,oS)),r.ub(68,16384,null,0,ot,[r.P,r.L],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,18,0,"productCategory",n.productCategory),t(e,22,0,n.adminCategories),t(e,29,0,"productName",n.productName),t(e,38,0,"productDescription",n.productDescription),t(e,48,0,"productPrice",n.productPrice),t(e,58,0,!0,"dark",n.dynamic),t(e,60,0,n.fileUploaded),t(e,66,0,!n.Status),t(e,68,0,n.Status)}),(function(t,e){t(e,0,0,e.component.addModalHeight+"px"),t(e,7,0,r.Ib(e,11).ngClassUntouched,r.Ib(e,11).ngClassTouched,r.Ib(e,11).ngClassPristine,r.Ib(e,11).ngClassDirty,r.Ib(e,11).ngClassValid,r.Ib(e,11).ngClassInvalid,r.Ib(e,11).ngClassPending),t(e,15,0,r.Ib(e,20).ngClassUntouched,r.Ib(e,20).ngClassTouched,r.Ib(e,20).ngClassPristine,r.Ib(e,20).ngClassDirty,r.Ib(e,20).ngClassValid,r.Ib(e,20).ngClassInvalid,r.Ib(e,20).ngClassPending),t(e,26,0,r.Ib(e,31).ngClassUntouched,r.Ib(e,31).ngClassTouched,r.Ib(e,31).ngClassPristine,r.Ib(e,31).ngClassDirty,r.Ib(e,31).ngClassValid,r.Ib(e,31).ngClassInvalid,r.Ib(e,31).ngClassPending),t(e,35,0,r.Ib(e,40).ngClassUntouched,r.Ib(e,40).ngClassTouched,r.Ib(e,40).ngClassPristine,r.Ib(e,40).ngClassDirty,r.Ib(e,40).ngClassValid,r.Ib(e,40).ngClassInvalid,r.Ib(e,40).ngClassPending),t(e,44,0,r.Ib(e,50).ngClassUntouched,r.Ib(e,50).ngClassTouched,r.Ib(e,50).ngClassPristine,r.Ib(e,50).ngClassDirty,r.Ib(e,50).ngClassValid,r.Ib(e,50).ngClassInvalid,r.Ib(e,50).ngClassPending),t(e,57,0,r.Ib(e,58).max,r.Ib(e,58).addClass)}))}function lS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,4,"div",[["class","modal-body text-center"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"button",[["class","btn btn-dark mr-1"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Dismiss"])),(t()(),r.vb(3,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.modalRef.hide()&&r),"click"===e&&(r=!1!==i.deleteProduct()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Delete"]))],null,null)}function uS(t){return r.Ub(0,[r.Kb(0,XO,[]),(t()(),r.vb(1,0,null,null,35,"div",[["class","card"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),r.vb(3,0,null,null,1,"span",[["class","title"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Product"])),(t()(),r.vb(5,0,null,null,1,"button",[["class","btn btn-dark"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.openModalAdd(r.Ib(t,37))&&i),i}),null,null)),(t()(),r.Rb(-1,null,["Add"])),(t()(),r.vb(7,0,null,null,6,"div",[["class","input-group mb-3 mt-3"]],null,null,null,null,null)),(t()(),r.vb(8,0,null,null,5,"input",[["aria-describedby","inputGroup-sizing-default"],["aria-label","Sizing example input"],["class","form-control"],["name","searchProduct"],["placeholder","filter products..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,9)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,9).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,9)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,9)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.searchProduct=n)&&i),i}),null,null)),r.ub(9,16384,null,0,Ms,[r.D,r.l,[2,Ds]],null,null),r.Mb(1024,null,Ns,(function(t){return[t]}),[Ms]),r.ub(11,671744,null,0,To,[[8,null],[8,null],[8,null],[6,Ns]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(13,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.vb(14,0,null,null,22,"table",[["class","table table-hover table-bordered"]],null,null,null,null,null)),(t()(),r.vb(15,0,null,null,17,"thead",[],null,null,null,null,null)),(t()(),r.vb(16,0,null,null,16,"tr",[["class","table-active"]],null,null,null,null,null)),(t()(),r.vb(17,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["#"])),(t()(),r.vb(19,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Category"])),(t()(),r.vb(21,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Name"])),(t()(),r.vb(23,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Description"])),(t()(),r.vb(25,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Price"])),(t()(),r.vb(27,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Image"])),(t()(),r.vb(29,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Edit"])),(t()(),r.vb(31,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Delete"])),(t()(),r.vb(33,0,null,null,3,"tbody",[],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,2,null,nS)),r.ub(35,278528,null,0,it,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),r.Lb(36,2),(t()(),r.eb(0,[["addTemplate",2]],null,0,null,aS)),(t()(),r.eb(0,[["closeTemplate",2]],null,0,null,lS))],(function(t,e){var n=e.component;t(e,11,0,"searchProduct",n.searchProduct);var i=r.Sb(e,35,0,t(e,36,0,r.Ib(e,0),n.adminProducts,n.searchProduct));t(e,35,0,i)}),(function(t,e){t(e,8,0,r.Ib(e,13).ngClassUntouched,r.Ib(e,13).ngClassTouched,r.Ib(e,13).ngClassPristine,r.Ib(e,13).ngClassDirty,r.Ib(e,13).ngClassValid,r.Ib(e,13).ngClassInvalid,r.Ib(e,13).ngClassPending)}))}function cS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-admin-products",[],null,null,null,uS,eS)),r.ub(1,114688,null,0,tS,[VE,BO,ls,vO],null,null)],(function(t,e){t(e,1,0)}),null)}var hS=r.rb("app-admin-products",tS,cS,{},{},[]);class dS{constructor(t,e){this.blogsService=t,this.storage=e,this.date=new Date,this.blogImage="https://image.freepik.com/free-photo/pizza-pizza-filled-with-tomatoes-salami-and-olives_140725-1200.jpg",this.editStatus=!0,this.upload=!1,this.adminBlogs=[]}ngOnInit(){this.getJSONAdminBlogs()}getJSONAdminBlogs(){this.blogsService.getJSONBlogs().subscribe(t=>{this.adminBlogs=t},t=>{console.log(t)})}addAdminBlog(){if(0===this.blogTitle.length||0===this.blogText.length||0===this.blogAuthor.length)this.blogTitle="",this.blogText="",this.blogAuthor="";else if(0!==this.blogTitle.length||0!==this.blogText.length||0!==this.blogAuthor.length){const t={id:1,title:this.blogTitle,text:this.blogText,image:this.blogImage,date:this.date,author:this.blogAuthor};delete t.id,this.blogsService.postJSONBlog(t).subscribe(()=>{this.getJSONAdminBlogs()}),this.resetForm()}}deleteAdminBlog(t){this.blogsService.deleteJSONBlog(t).subscribe(()=>{this.getJSONAdminBlogs()})}editAdminBlog(t){this.blogID=t.id,this.blogTitle=t.title,this.blogText=t.text,this.blogAuthor=t.author,this.editStatus=!1}saveEditAdminBlog(){this.blogsService.updateJSONBlog({id:this.blogID,title:this.blogTitle,text:this.blogText,image:this.blogImage,date:this.date,author:this.blogAuthor}).subscribe(()=>{this.getJSONAdminBlogs()}),this.resetForm(),this.editStatus=!0}resetForm(){this.blogTitle="",this.blogText="",this.blogAuthor=""}uploadFile(t){const e=t.target.files[0],n=this.storage.ref("images/"+e.name).put(e);this.uploadPercent=n.percentageChanges(),this.uploadPercent.subscribe(t=>{(t>0||t<100)&&(this.upload=!0)}),n.then(t=>{this.storage.ref("images/"+t.metadata.name).getDownloadURL().subscribe(t=>{this.blogImage=t,this.upload=!1})})}}var fS=r.tb({encapsulation:0,styles:[[""]],data:{}});function pS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,2,"div",[["class","progress mb-3"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","50"],["class","progress-bar progress-bar-striped bg-dark"],["role","status"],["style","width: 0%"]],[[4,"width",null]],null,null,null,null)),r.Kb(131072,pt,[r.h])],null,(function(t,e){var n=e.component;t(e,1,0,r.Sb(e,1,0,r.Ib(e,2).transform(n.uploadPercent))+"%")}))}function gS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"button",[["class","btn btn-dark"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.addAdminBlog()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["ADD"]))],null,null)}function mS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"button",[["class","btn btn-light"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.saveEditAdminBlog()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Save edit"]))],null,null)}function bS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,17,"tr",[],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(2,null,["",""])),(t()(),r.vb(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(4,null,["",""])),(t()(),r.vb(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(6,null,["",""])),(t()(),r.vb(7,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.Rb(8,null,["",""])),r.Lb(9,2),(t()(),r.vb(10,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(11,null,["",""])),(t()(),r.vb(12,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.vb(13,0,null,null,1,"button",[["class","btn btn-dark"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.editAdminBlog(t.context.$implicit)&&r),r}),null,null)),(t()(),r.Rb(-1,null,["edit"])),(t()(),r.vb(15,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.vb(16,0,null,null,1,"button",[["class","btn btn-dark"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.deleteAdminBlog(t.context.$implicit)&&r),r}),null,null)),(t()(),r.Rb(-1,null,["delete"]))],null,(function(t,e){t(e,2,0,e.context.index+1),t(e,4,0,e.context.$implicit.title),t(e,6,0,e.context.$implicit.text);var n=r.Sb(e,8,0,t(e,9,0,r.Ib(e.parent,0),e.context.$implicit.date,"MMMM d, y"));t(e,8,0,n),t(e,11,0,e.context.$implicit.author)}))}function yS(t){return r.Ub(0,[r.Kb(0,gt,[r.u]),(t()(),r.vb(1,0,null,null,39,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Ib(t,3).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Ib(t,3).onReset()&&i),i}),null,null)),r.ub(2,16384,null,0,ko,[],null,null),r.ub(3,4210688,null,0,So,[[8,null],[8,null]],null,null),r.Mb(2048,null,Us,null,[So]),r.ub(5,16384,null,0,Bs,[[4,Us]],null,null),(t()(),r.vb(6,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(7,0,null,null,5,"input",[["class","form-control"],["name","blogTitle"],["placeholder","title here..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,8)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,8).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,8)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,8)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.blogTitle=n)&&i),i}),null,null)),r.ub(8,16384,null,0,Ms,[r.D,r.l,[2,Ds]],null,null),r.Mb(1024,null,Ns,(function(t){return[t]}),[Ms]),r.ub(10,671744,null,0,To,[[2,Us],[8,null],[8,null],[6,Ns]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(12,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.vb(13,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(14,0,null,null,5,"textarea",[["class","form-control"],["cols","30"],["name","blogText"],["placeholder","text here..."],["rows","10"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,15)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,15).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,15)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,15)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.blogText=n)&&i),i}),null,null)),r.ub(15,16384,null,0,Ms,[r.D,r.l,[2,Ds]],null,null),r.Mb(1024,null,Ns,(function(t){return[t]}),[Ms]),r.ub(17,671744,null,0,To,[[2,Us],[8,null],[8,null],[6,Ns]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(19,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.vb(20,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(21,0,null,null,5,"input",[["class","form-control"],["name","blogAuthor"],["placeholder","author here..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,22)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,22).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,22)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,22)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.blogAuthor=n)&&i),i}),null,null)),r.ub(22,16384,null,0,Ms,[r.D,r.l,[2,Ds]],null,null),r.Mb(1024,null,Ns,(function(t){return[t]}),[Ms]),r.ub(24,671744,null,0,To,[[2,Us],[8,null],[8,null],[6,Ns]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(26,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.vb(27,0,null,null,7,"div",[["class","input-group mb-3"]],null,null,null,null,null)),(t()(),r.vb(28,0,null,null,3,"div",[["class","custom-file"]],null,null,null,null,null)),(t()(),r.vb(29,0,null,null,0,"input",[["class","custom-file-input"],["id","inputGroupFile02"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.uploadFile(n)&&r),r}),null,null)),(t()(),r.vb(30,0,null,null,1,"label",[["aria-describedby","inputGroupFileAddon02"],["class","custom-file-label"],["for","inputGroupFile02"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Choose file"])),(t()(),r.vb(32,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(t()(),r.vb(33,0,null,null,1,"span",[["class","input-group-text"],["id","inputGroupFileAddon02"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Upload"])),(t()(),r.eb(16777216,null,null,1,null,pS)),r.ub(36,16384,null,0,ot,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,gS)),r.ub(38,16384,null,0,ot,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,mS)),r.ub(40,16384,null,0,ot,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.vb(41,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.vb(42,0,null,null,19,"table",[["class","table"]],null,null,null,null,null)),(t()(),r.vb(43,0,null,null,15,"thead",[],null,null,null,null,null)),(t()(),r.vb(44,0,null,null,14,"tr",[],null,null,null,null,null)),(t()(),r.vb(45,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["#"])),(t()(),r.vb(47,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Title"])),(t()(),r.vb(49,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Text"])),(t()(),r.vb(51,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Date"])),(t()(),r.vb(53,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Author"])),(t()(),r.vb(55,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Edit"])),(t()(),r.vb(57,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Delete"])),(t()(),r.vb(59,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,bS)),r.ub(61,278528,null,0,it,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,10,0,"blogTitle",n.blogTitle),t(e,17,0,"blogText",n.blogText),t(e,24,0,"blogAuthor",n.blogAuthor),t(e,36,0,n.upload),t(e,38,0,n.editStatus),t(e,40,0,!n.editStatus),t(e,61,0,n.adminBlogs)}),(function(t,e){t(e,1,0,r.Ib(e,5).ngClassUntouched,r.Ib(e,5).ngClassTouched,r.Ib(e,5).ngClassPristine,r.Ib(e,5).ngClassDirty,r.Ib(e,5).ngClassValid,r.Ib(e,5).ngClassInvalid,r.Ib(e,5).ngClassPending),t(e,7,0,r.Ib(e,12).ngClassUntouched,r.Ib(e,12).ngClassTouched,r.Ib(e,12).ngClassPristine,r.Ib(e,12).ngClassDirty,r.Ib(e,12).ngClassValid,r.Ib(e,12).ngClassInvalid,r.Ib(e,12).ngClassPending),t(e,14,0,r.Ib(e,19).ngClassUntouched,r.Ib(e,19).ngClassTouched,r.Ib(e,19).ngClassPristine,r.Ib(e,19).ngClassDirty,r.Ib(e,19).ngClassValid,r.Ib(e,19).ngClassInvalid,r.Ib(e,19).ngClassPending),t(e,21,0,r.Ib(e,26).ngClassUntouched,r.Ib(e,26).ngClassTouched,r.Ib(e,26).ngClassPristine,r.Ib(e,26).ngClassDirty,r.Ib(e,26).ngClassValid,r.Ib(e,26).ngClassInvalid,r.Ib(e,26).ngClassPending)}))}function vS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-admin-blogs",[],null,null,null,yS,fS)),r.ub(1,114688,null,0,dS,[ws,vO],null,null)],(function(t,e){t(e,1,0)}),null)}var _S=r.rb("app-admin-blogs",dS,vS,{},{},[]);class wS{constructor(t,e){this.orderService=t,this.modalService=e,this.basket=[],this.totalPrice=0,this.productIndex=null}ngOnInit(){this.getLocalProducts()}getLocalProducts(){localStorage.getItem("basket")&&(this.basket=JSON.parse(localStorage.getItem("basket")),this.totalPrice=this.getTotal(this.basket))}getTotal(t){return t.reduce((t,e)=>t+e.price*e.count,0)}prodCount(t,e){e?t.count++:t.count>1&&t.count--,this.totalPrice=this.getTotal(this.basket),this.orderService.basket.next(this.basket),localStorage.setItem("basket",JSON.stringify(this.basket))}indexProduct(t){this.productIndex=this.basket.findIndex(e=>e.id===t.id)}deleteProduct(){console.log(this.productIndex),this.basket.splice(this.productIndex,1),this.productIndex=null,this.totalPrice=this.getTotal(this.basket),this.orderService.basket.next(this.basket),localStorage.setItem("basket",JSON.stringify(this.basket))}closeModal(t){this.modalRef=this.modalService.show(t,{class:"modal-sm"})}}var ES=r.tb({encapsulation:0,styles:[[".input[_ngcontent-%COMP%]{width:50px;margin:0 3px;text-align:center}.button[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}"]],data:{}});function CS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,20,"tr",[],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(2,null,["",""])),(t()(),r.vb(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(4,null,["",""])),(t()(),r.vb(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(6,null,["",""])),(t()(),r.vb(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(8,null,["",""])),(t()(),r.vb(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),r.Rb(10,null,["",""])),(t()(),r.vb(11,0,null,null,6,"td",[],null,null,null,null,null)),(t()(),r.vb(12,0,null,null,5,"div",[["class","button"]],null,null,null,null,null)),(t()(),r.vb(13,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.prodCount(t.context.$implicit,!1)&&r),r}),null,null)),(t()(),r.Rb(-1,null,["-"])),(t()(),r.vb(15,0,null,null,0,"input",[["class","input"],["maxlength","3"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),r.vb(16,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.prodCount(t.context.$implicit,!0)&&r),r}),null,null)),(t()(),r.Rb(-1,null,["+"])),(t()(),r.vb(18,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),r.vb(19,0,null,null,1,"button",[["class","btn btn-warning"]],null,[[null,"click"]],(function(t,e,n){var i=!0,s=t.component;return"click"===e&&(i=!1!==s.indexProduct(t.context.$implicit)&&i),"click"===e&&(i=!1!==s.closeModal(r.Ib(t.parent,24))&&i),i}),null,null)),(t()(),r.Rb(-1,null,["Delete"]))],null,(function(t,e){t(e,2,0,e.context.index+1),t(e,4,0,e.context.$implicit.name),t(e,6,0,e.context.$implicit.count),t(e,8,0,e.context.$implicit.price),t(e,10,0,e.context.$implicit.price*e.context.$implicit.count),t(e,15,0,e.context.$implicit.count)}))}function OS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,4,"div",[["class","modal-body text-center"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"button",[["class","btn btn-dark mr-1"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Dismiss"])),(t()(),r.vb(3,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.deleteProduct()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Delete"]))],null,null)}function SS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,23,"table",[["class","table table-sm table-dark"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,15,"thead",[],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,14,"tr",[],null,null,null,null,null)),(t()(),r.vb(3,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["#"])),(t()(),r.vb(5,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Name"])),(t()(),r.vb(7,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Count"])),(t()(),r.vb(9,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Price"])),(t()(),r.vb(11,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Total"])),(t()(),r.vb(13,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Add Count"])),(t()(),r.vb(15,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Delete"])),(t()(),r.vb(17,0,null,null,6,"tbody",[],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,CS)),r.ub(19,278528,null,0,it,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.vb(20,0,null,null,3,"tr",[],null,null,null,null,null)),(t()(),r.vb(21,0,null,null,2,"td",[["colspan","7"]],null,null,null,null,null)),(t()(),r.vb(22,0,null,null,1,"h2",[["class","text-right text-danger"]],null,null,null,null,null)),(t()(),r.Rb(23,null,["Total to pay: "," \u0433\u0440\u043d."])),(t()(),r.eb(0,[["closeTemplate",2]],null,0,null,OS))],(function(t,e){t(e,19,0,e.component.basket)}),(function(t,e){t(e,23,0,e.component.totalPrice)}))}function IS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-basket",[],null,null,null,SS,ES)),r.ub(1,114688,null,0,wS,[us,VE],null,null)],(function(t,e){t(e,1,0)}),null)}var TS=r.rb("app-basket",wS,IS,{},{},[]),kS=r.tb({encapsulation:2,styles:[],data:{}});function xS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),r.Hb(null,0)],null,(function(t,e){var n=e.component;t(e,0,0,"modal-dialog"+(n.config.class?" "+n.config.class:""))}))}function AS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"modal-container",[["class","modal"],["role","dialog"],["tabindex","-1"]],[[1,"aria-modal",0],[1,"aria-labelledby",0],[1,"aria-describedby",0]],[[null,"mousedown"],[null,"mouseup"],["window","popstate"],["window","keydown.esc"]],(function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==r.Ib(t,1).onClickStarted(n)&&i),"mouseup"===e&&(i=!1!==r.Ib(t,1).onClickStop(n)&&i),"window:popstate"===e&&(i=!1!==r.Ib(t,1).onPopState()&&i),"window:keydown.esc"===e&&(i=!1!==r.Ib(t,1).onEsc(n)&&i),i}),xS,kS)),r.ub(1,245760,null,0,UE,[PE,r.l,r.D],null,null)],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,!0,r.Ib(e,1).config.ariaLabelledBy,r.Ib(e,1).config.ariaDescribedby)}))}var jS=r.rb("modal-container",UE,AS,{},{},["*"]),RS=r.tb({encapsulation:2,styles:[],data:{}});function PS(t){return r.Ub(0,[],null,null)}function NS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"bs-modal-backdrop",[["class","modal-backdrop"]],null,null,null,PS,RS)),r.ub(1,114688,null,0,FE,[r.l,r.D],null,null)],(function(t,e){t(e,1,0)}),null)}var DS=r.rb("bs-modal-backdrop",FE,NS,{},{},[]);class MS{constructor(t,e,n,r){this.categoryService=t,this.orderService=e,this.modalService=n,this.authService=r,this.allCategory=[],this.basket=[],this.totalPrice=0,this.profileImg="assets/images/profile-user.svg",this.isLogin=!1,this.isAdmin=!1,this.isProfile=!1}ngOnInit(){this.getCategories(),this.checkMyBasket(),this.getLocalProducts(),this.cheackLocalUser(),this.checkIfUserLogin()}cheackLocalUser(){if(localStorage.getItem("user")){let t=JSON.parse(localStorage.getItem("user"));"admin"===t.role&&null!=t?(this.isLogin=!0,this.isAdmin=!0,this.isProfile=!1):"user"===t.role&&null!=t&&(this.isLogin=!0,this.isAdmin=!1,this.isProfile=!0)}else this.isLogin=!1,this.isAdmin=!1,this.isProfile=!1}checkIfUserLogin(){this.authService.cheackSignIn.subscribe(()=>{this.cheackLocalUser()})}checkMyBasket(){this.orderService.basket.subscribe(t=>{this.basket=t,this.totalPrice=this.getTotal(this.basket)})}getLocalProducts(){localStorage.getItem("basket")&&(this.basket=JSON.parse(localStorage.getItem("basket")),this.totalPrice=this.getTotal(this.basket))}getTotal(t){return t.reduce((t,e)=>t+e.price*e.count,0)}getCategories(){this.categoryService.getCategories().subscribe(t=>{this.allCategory=t})}signUpModal(t){this.userEmail="",this.userPassword="",this.modalRef=this.modalService.show(t)}signOutModal(t){this.modalRef=this.modalService.show(t,{class:"modal-sm"})}signUpUser(){this.userEmail&&this.userPassword&&this.authService.signUp(this.userEmail,this.userPassword)}singInUser(){this.userEmail&&this.userPassword&&this.authService.signIn(this.userEmail,this.userPassword)}signOutUser(){this.authService.signOut()}}var LS=r.tb({encapsulation:0,styles:[[".totalPrice[_ngcontent-%COMP%]{color:#fff;font-size:20px}.basketImg[_ngcontent-%COMP%]{color:#fff;height:25px;cursor:pointer}.basketImg[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.signButton[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]],data:{}});function US(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,5,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,3).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(3,671744,null,0,Qr,[Wr,An,y],{routerLink:[0,"routerLink"]},null),r.Jb(4,2),(t()(),r.Rb(5,null,["",""]))],(function(t,e){var n=t(e,4,0,"menu/",e.context.$implicit.name);t(e,3,0,n)}),(function(t,e){t(e,2,0,r.Ib(e,3).target,r.Ib(e,3).href),t(e,5,0,e.context.$implicit.name)}))}function FS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,2).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(2,671744,null,0,Qr,[Wr,An,y],{routerLink:[0,"routerLink"]},null),r.Jb(3,1),(t()(),r.Rb(-1,null,["admin"]))],(function(t,e){var n=t(e,3,0,"/admin");t(e,2,0,n)}),(function(t,e){t(e,1,0,r.Ib(e,2).target,r.Ib(e,2).href)}))}function VS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,1).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(1,671744,null,0,Qr,[Wr,An,y],{routerLink:[0,"routerLink"]},null),r.Jb(2,1),(t()(),r.vb(3,0,null,null,0,"img",[["alt","profile"],["class","basketImg"]],[[1,"src",4]],null,null,null,null))],(function(t,e){var n=t(e,2,0,"/profile");t(e,1,0,n)}),(function(t,e){var n=e.component;t(e,0,0,r.Ib(e,1).target,r.Ib(e,1).href),t(e,3,0,n.profileImg)}))}function qS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,0,"img",[["alt","signUp"],["class","basketImg"],["src","assets/images/door-closed-solid.svg"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.signUpModal(r.Ib(t.parent,46))&&i),i}),null,null))],null,null)}function BS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,0,"img",[["alt","signUp"],["class","basketImg"],["src","assets/images/door-open-solid.svg"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.signOutModal(r.Ib(t.parent,47))&&i),i}),null,null))],null,null)}function zS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"h4",[["class","modal-title pull-left"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Modal"])),(t()(),r.vb(3,0,null,null,2,"button",[["aria-label","Close"],["class","close pull-right"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.modalRef.hide()&&r),r}),null,null)),(t()(),r.vb(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["\xd7"])),(t()(),r.vb(6,0,null,null,29,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),r.vb(7,0,null,null,28,"div",[],null,null,null,null,null)),(t()(),r.vb(8,0,null,null,27,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.Ib(t,10).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.Ib(t,10).onReset()&&i),i}),null,null)),r.ub(9,16384,null,0,ko,[],null,null),r.ub(10,4210688,null,0,So,[[8,null],[8,null]],null,null),r.Mb(2048,null,Us,null,[So]),r.ub(12,16384,null,0,Bs,[[4,Us]],null,null),(t()(),r.vb(13,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(14,0,null,null,1,"label",[["for","userEmail"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Email address"])),(t()(),r.vb(16,0,null,null,5,"input",[["class","form-control"],["id","userEmail"],["name","userEmail"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,17)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,17).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,17)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,17)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.userEmail=n)&&i),i}),null,null)),r.ub(17,16384,null,0,Ms,[r.D,r.l,[2,Ds]],null,null),r.Mb(1024,null,Ns,(function(t){return[t]}),[Ms]),r.ub(19,671744,null,0,To,[[2,Us],[8,null],[8,null],[6,Ns]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(21,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.vb(22,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.vb(23,0,null,null,1,"label",[["for","userPassword"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Password"])),(t()(),r.vb(25,0,null,null,5,"input",[["class","form-control"],["id","userPassword"],["name","userPassword"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,s=t.component;return"input"===e&&(i=!1!==r.Ib(t,26)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.Ib(t,26).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.Ib(t,26)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.Ib(t,26)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(s.userPassword=n)&&i),i}),null,null)),r.ub(26,16384,null,0,Ms,[r.D,r.l,[2,Ds]],null,null),r.Mb(1024,null,Ns,(function(t){return[t]}),[Ms]),r.ub(28,671744,null,0,To,[[2,Us],[8,null],[8,null],[6,Ns]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Mb(2048,null,Fs,null,[To]),r.ub(30,16384,null,0,qs,[[4,Fs]],null,null),(t()(),r.vb(31,0,null,null,4,"div",[["class","signButton"]],null,null,null,null,null)),(t()(),r.vb(32,0,null,null,1,"button",[["class","btn btn-dark"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.signUpUser()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["signUp"])),(t()(),r.vb(34,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.singInUser()&&r),"click"===e&&(r=!1!==i.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["signIn"]))],(function(t,e){var n=e.component;t(e,19,0,"userEmail",n.userEmail),t(e,28,0,"userPassword",n.userPassword)}),(function(t,e){t(e,8,0,r.Ib(e,12).ngClassUntouched,r.Ib(e,12).ngClassTouched,r.Ib(e,12).ngClassPristine,r.Ib(e,12).ngClassDirty,r.Ib(e,12).ngClassValid,r.Ib(e,12).ngClassInvalid,r.Ib(e,12).ngClassPending),t(e,16,0,r.Ib(e,21).ngClassUntouched,r.Ib(e,21).ngClassTouched,r.Ib(e,21).ngClassPristine,r.Ib(e,21).ngClassDirty,r.Ib(e,21).ngClassValid,r.Ib(e,21).ngClassInvalid,r.Ib(e,21).ngClassPending),t(e,25,0,r.Ib(e,30).ngClassUntouched,r.Ib(e,30).ngClassTouched,r.Ib(e,30).ngClassPristine,r.Ib(e,30).ngClassDirty,r.Ib(e,30).ngClassValid,r.Ib(e,30).ngClassInvalid,r.Ib(e,30).ngClassPending)}))}function HS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,4,"div",[["class","modal-body text-center"]],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,1,"button",[["class","btn btn-dark mr-1"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.modalRef.hide()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["Dismiss"])),(t()(),r.vb(3,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.modalRef.hide()&&r),"click"===e&&(r=!1!==i.signOutUser()&&r),r}),null,null)),(t()(),r.Rb(-1,null,["sign out"]))],null,null)}function $S(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,45,"header",[],null,null,null,null,null)),(t()(),r.vb(1,0,null,null,44,"nav",[["class","navbar navbar-expand-lg navbar-dark bg-dark"]],null,null,null,null,null)),(t()(),r.vb(2,0,null,null,1,"a",[["class","navbar-brand"],["href","#"]],null,null,null,null,null)),(t()(),r.Rb(-1,null,["Pizza"])),(t()(),r.vb(4,0,null,null,1,"button",[["aria-controls","navbarSupportedContent"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-target","#navbarSupportedContent"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),r.vb(5,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),r.vb(6,0,null,null,39,"div",[["class","collapse navbar-collapse"],["id","navbarSupportedContent"]],null,null,null,null,null)),(t()(),r.vb(7,0,null,null,19,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(t()(),r.vb(8,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.vb(9,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,10).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(10,671744,null,0,Qr,[Wr,An,y],{routerLink:[0,"routerLink"]},null),r.Jb(11,1),(t()(),r.Rb(-1,null,["Home"])),(t()(),r.eb(16777216,null,null,1,null,US)),r.ub(14,278528,null,0,it,[r.P,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.vb(15,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.vb(16,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,17).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(17,671744,null,0,Qr,[Wr,An,y],{routerLink:[0,"routerLink"]},null),r.Jb(18,1),(t()(),r.Rb(-1,null,["blog"])),(t()(),r.vb(20,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.vb(21,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,22).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(22,671744,null,0,Qr,[Wr,An,y],{routerLink:[0,"routerLink"]},null),r.Jb(23,1),(t()(),r.Rb(-1,null,["about"])),(t()(),r.eb(16777216,null,null,1,null,FS)),r.ub(26,16384,null,0,ot,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.vb(27,0,null,null,18,"div",[["class","basket"]],null,null,null,null,null)),(t()(),r.vb(28,0,null,null,17,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(t()(),r.vb(29,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,VS)),r.ub(31,16384,null,0,ot,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.vb(32,0,null,null,5,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.vb(33,0,null,null,4,"a",[["class","nav-link"]],null,null,null,null,null)),(t()(),r.eb(16777216,null,null,1,null,qS)),r.ub(35,16384,null,0,ot,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.eb(16777216,null,null,1,null,BS)),r.ub(37,16384,null,0,ot,[r.P,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.vb(38,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.vb(39,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.Ib(t,40).onClick(n.button,n.ctrlKey,n.shiftKey,n.altKey,n.metaKey)&&i),i}),null,null)),r.ub(40,671744,null,0,Qr,[Wr,An,y],{routerLink:[0,"routerLink"]},null),r.Jb(41,1),(t()(),r.vb(42,0,null,null,0,"img",[["alt","basket"],["class","basketImg"],["src","assets/images/iconfinder_bag_3338916.svg"]],null,null,null,null,null)),(t()(),r.vb(43,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),r.vb(44,0,null,null,1,"span",[["class","totalPrice"]],null,null,null,null,null)),(t()(),r.Rb(45,null,[""," \u0433\u0440\u043d."])),(t()(),r.eb(0,[["singUp",2]],null,0,null,zS)),(t()(),r.eb(0,[["signOutTemplate",2]],null,0,null,HS)),(t()(),r.vb(48,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ub(49,212992,null,0,Xr,[qr,r.P,r.j,[8,null],r.h],null,null)],(function(t,e){var n=e.component,r=t(e,11,0,"/home");t(e,10,0,r),t(e,14,0,n.allCategory);var i=t(e,18,0,"/blog");t(e,17,0,i);var s=t(e,23,0,"/about");t(e,22,0,s),t(e,26,0,n.isAdmin),t(e,31,0,n.isProfile),t(e,35,0,!n.isLogin),t(e,37,0,n.isLogin);var o=t(e,41,0,"/basket");t(e,40,0,o),t(e,49,0)}),(function(t,e){var n=e.component;t(e,9,0,r.Ib(e,10).target,r.Ib(e,10).href),t(e,16,0,r.Ib(e,17).target,r.Ib(e,17).href),t(e,21,0,r.Ib(e,22).target,r.Ib(e,22).href),t(e,39,0,r.Ib(e,40).target,r.Ib(e,40).href),t(e,45,0,n.totalPrice)}))}class GS{constructor(){}ngOnInit(){}}var WS=r.tb({encapsulation:0,styles:[[""]],data:{}});function KS(t){return r.Ub(0,[],null,null)}var QS=r.tb({encapsulation:0,styles:[[""]],data:{}});function JS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-header",[],null,null,null,$S,LS)),r.ub(1,114688,null,0,MS,[BO,us,VE,EO],null,null),(t()(),r.vb(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ub(3,212992,null,0,Xr,[qr,r.P,r.j,[8,null],r.h],null,null),(t()(),r.vb(4,0,null,null,1,"app-footer",[],null,null,null,KS,WS)),r.ub(5,114688,null,0,GS,[],null,null)],(function(t,e){t(e,1,0),t(e,3,0),t(e,5,0)}),null)}function YS(t){return r.Ub(0,[(t()(),r.vb(0,0,null,null,1,"app-root",[],null,null,null,JS,QS)),r.ub(1,49152,null,0,s,[],null,null)],null,null)}var XS=r.rb("app-root",s,YS,{},{},[]);class ZS extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new ZS,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=eI||(eI=document.querySelector("base"),eI)?eI.getAttribute("href"):null;return null==e?null:(n=e,tI||(tI=document.createElement("a")),tI.setAttribute("href",n),"/"===tI.pathname.charAt(0)?tI.pathname:"/"+tI.pathname);var n}resetBaseElement(){eI=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return nt(document.cookie,t)}}let tI,eI=null;const nI=new r.q("TRANSITION_ID"),rI=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[nI,l,r.r],multi:!0}];class iI{static init(){Object(r.W)(new iI)}addToWindow(t){r.Bb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.Bb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.Bb.getAllAngularRootElements=()=>t.getAllRootElements(),r.Bb.frameworkStabilizers||(r.Bb.frameworkStabilizers=[]),r.Bb.frameworkStabilizers.push(t=>{const e=r.Bb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}function sI(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r.Bb.ng=r.Bb.ng||{})[t]=e)}const oI=(()=>({ApplicationRef:r.g,NgZone:r.z}))();function aI(t){return Object(r.xb)(t)}const lI=new r.q("EventManagerPlugins");class uI{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}class cI{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class hI{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class dI extends hI{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>a().remove(t))}}const fI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pI=/%COMP%/g;function gI(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?gI(t,i,n):(i=i.replace(pI,t),n.push(i))}return n}function mI(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class bI{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new yI(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new vI(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new _I(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=gI(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class yI{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(fI[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=fI[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=fI[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,mI(n)):this.eventManager.addEventListener(t,e,mI(n))}}class vI extends yI{constructor(t,e,n,r){super(t),this.component=n;const i=gI(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(pI,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(pI,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class _I extends yI{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=gI(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}class wI extends cI{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}const EI={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},CI=new r.q("HammerGestureConfig"),OI=new r.q("HammerLoader");class SI{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class II extends cI{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!EI.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom Hammer.JS loader failed.`),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),s=function(t){r.runGuarded((function(){n(t)}))};return i.on(e,s),()=>{i.off(e,s),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const TI=["alt","control","meta","shift"],kI={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xI={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},AI={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class jI extends cI{constructor(t){super(t)}supports(t){return null!=jI.parseEventName(t)}addEventListener(t,e,n){const r=jI.parseEventName(e),i=jI.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>a().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=jI._normalizeKey(e.pop());let i="";if(TI.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const s={};return s.domEventName=n,s.fullKey=i,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&xI.hasOwnProperty(e)&&(e=xI[e]))}return kI[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),TI.forEach(r=>{r!=n&&(0,AI[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(t,e,n){return r=>{jI.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}let RI=(()=>{class t{}return t.\u0275prov=Object(r.Vb)({factory:function(){return Object(r.Wb)(PI)},token:t,providedIn:"root"}),t})(),PI=(()=>{class t extends RI{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return Object(r.db)(e,"HTML")?Object(r.Tb)(e):Object(r.bb)(this._doc,String(e));case r.H.STYLE:return Object(r.db)(e,"Style")?Object(r.Tb)(e):e;case r.H.SCRIPT:if(Object(r.db)(e,"Script"))return Object(r.Tb)(e);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.Ab)(e),Object(r.db)(e,"URL")?Object(r.Tb)(e):Object(r.cb)(String(e));case r.H.RESOURCE_URL:if(Object(r.db)(e,"ResourceURL"))return Object(r.Tb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.mb)(t)}bypassSecurityTrustStyle(t){return Object(r.pb)(t)}bypassSecurityTrustScript(t){return Object(r.ob)(t)}bypassSecurityTrustUrl(t){return Object(r.qb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.nb)(t)}}return t.\u0275prov=Object(r.Vb)({factory:function(){return t=Object(r.Wb)(r.o),new PI(t.get(l));var t},token:t,providedIn:"root"}),t})();function NI(){return new r.m}const DI=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){ZS.makeCurrent(),iI.init()},multi:!0},{provide:l,useFactory:function(){return Object(r.Pb)(document),document},deps:[]}],MI=Object(r.R)(r.V,"browser",DI);class LI{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:LI,providers:[{provide:r.c,useValue:t.appId},{provide:nI,useExisting:r.c},rI]}}}"undefined"!=typeof window&&window;class UI{}const FI="*";function VI(t,e=null){return{type:2,steps:t,options:e}}function qI(t){return{type:6,styles:t,offset:null}}function BI(t){Promise.resolve(null).then(t)}class zI{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){BI(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class HI{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?BI(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function $I(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function GI(t){switch(t.length){case 0:return new zI;case 1:return t[0];default:return new HI(t)}}function WI(t,e,n,r,i={},s={}){const o=[],a=[];let l=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==l,c=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case FI:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}c[r]=a}),r||a.push(c),u=c,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function KI(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&QI(n,"start",t)));break;case"done":t.onDone(()=>r(n&&QI(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&QI(n,"destroy",t)))}}function QI(t,e,n){const r=n.totalTime,i=JI(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function JI(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function YI(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function XI(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let ZI=(t,e)=>!1,tT=(t,e)=>!1,eT=(t,e,n)=>[];const nT=$I();(nT||"undefined"!=typeof Element)&&(ZI=(t,e)=>t.contains(e),tT=(()=>{if(nT||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):tT}})(),eT=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let rT=null,iT=!1;function sT(t){rT||(rT=("undefined"!=typeof document?document.body:null)||{},iT=!!rT.style&&"WebkitAppearance"in rT.style);let e=!0;return rT.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in rT.style,!e&&iT)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in rT.style),e}const oT=tT,aT=ZI,lT=eT;function uT(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}class cT{validateStyleProperty(t){return sT(t)}matchesElement(t,e){return oT(t,e)}containsElement(t,e){return aT(t,e)}query(t,e,n){return lT(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new zI(n,r)}}let hT=(()=>{class t{}return t.NOOP=new cT,t})();const dT="ng-enter",fT="ng-leave",pT="ng-trigger",gT=".ng-trigger",mT="ng-animating",bT=".ng-animating";function yT(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:vT(parseFloat(e[1]),e[2])}function vT(t,e){switch(e){case"s":return 1e3*t;default:return t}}function _T(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=vT(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=vT(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function wT(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function ET(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else wT(t,n);return n}function CT(t,e,n){return n?e+":"+n+";":""}function OT(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=CT(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=CT(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function ST(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=PT(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),$I()&&OT(t))}function IT(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=PT(e);t.style[n]=""}),$I()&&OT(t))}function TT(t){return Array.isArray(t)?1==t.length?t[0]:VI(t):t}const kT=new RegExp("{{\\s*(.+?)\\s*}}","g");function xT(t){let e=[];if("string"==typeof t){let n;for(;n=kT.exec(t);)e.push(n[1]);kT.lastIndex=0}return e}function AT(t,e,n){const r=t.toString(),i=r.replace(kT,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function jT(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const RT=/-+([a-z0-9])/g;function PT(t){return t.replace(RT,(...t)=>t[1].toUpperCase())}function NT(t,e){return 0===t||0===e}function DT(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=LT(t,e)}))}}return e}function MT(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function LT(t,e){return window.getComputedStyle(t)[e]}const UT="*";function FT(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(BT(i,o)),"<"!=s[0]||i==UT&&o==UT||e.push(BT(o,i))}(t,n,e)):n.push(t),n}const VT=new Set(["true","1"]),qT=new Set(["false","0"]);function BT(t,e){const n=VT.has(t)||qT.has(t),r=VT.has(e)||qT.has(e);return(i,s)=>{let o=t==UT||t==i,a=e==UT||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?VT.has(t):qT.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?VT.has(e):qT.has(e)),o&&a}}const zT=new RegExp("s*:selfs*,?","g");function HT(t,e,n){return new $T(t).build(e,n)}class $T{constructor(t){this._driver=t}build(t,e){const n=new GT(e);return this._resetContextStyleTimingState(n),MT(this,TT(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(WT(t)){const e=t;Object.keys(e).forEach(t=>{xT(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=jT(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=MT(this,TT(t.animation),e);return{type:1,matchers:FT(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:KT(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>MT(this,t,e)),options:KT(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=MT(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:KT(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return QT(_T(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=QT(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||_T(r,e),QT(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:qI({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=qI(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==FI?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(WT(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=xT(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(WT(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(WT(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=l&&(r++,u=n.offset=l),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return l.forEach((t,r)=>{const s=c>0?r==h?1:c*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:MT(this,TT(t.animation),e),options:KT(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:KT(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:KT(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(zT,"")),[t=t.replace(/@\*/g,gT).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,bT),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,YI(e.collectedStyles,e.currentQuerySelector,{});const o=MT(this,TT(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:KT(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:_T(t.timings,e.errors,!0);return{type:12,animation:MT(this,TT(t.animation),e),timings:n,options:null}}}class GT{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function WT(t){return!Array.isArray(t)&&"object"==typeof t}function KT(t){var e;return t?(t=wT(t)).params&&(t.params=(e=t.params)?wT(e):null):t={},t}function QT(t,e,n){return{duration:t,delay:e,easing:n}}function JT(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class YT{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const XT=new RegExp(":enter","g"),ZT=new RegExp(":leave","g");function tk(t,e,n,r,i,s={},o={},a,l,u=[]){return(new ek).buildKeyframes(t,e,n,r,i,s,o,a,l,u)}class ek{buildKeyframes(t,e,n,r,i,s,o,a,l,u=[]){l=l||new YT;const c=new rk(t,e,l,r,i,u,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),MT(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[JT(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?yT(n.duration):null,s=null!=n.delay?yT(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),MT(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=nk);const t=yT(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>MT(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?yT(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),MT(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return _T(e.params?AT(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?yT(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=nk);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),MT(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;MT(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const nk={};class rk{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nk,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new ik(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=yT(n.duration)),null!=n.delay&&(r.delay=yT(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=AT(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new rk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=nk,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new sk(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(XT,"."+this._enterClassName)).replace(ZT,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class ik{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ik(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||FI,this._currentKeyframe[t]=FI}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=FI})):ET(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=AT(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:FI),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=ET(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==FI&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?jT(t.values()):[],s=e.size?jT(e.values()):[];if(n){const t=r[0],e=wT(t);t.offset=0,e.offset=1,r=[t,e]}return JT(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class sk extends ik{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=ET(t[0],!1);a.offset=0,i.push(a);const l=ET(t[0],!1);l.offset=ok(o),i.push(l);const u=t.length-1;for(let r=1;r<=u;r++){let o=ET(t[r],!1);o.offset=ok((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return JT(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function ok(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ak{}class lk extends ak{normalizePropertyName(t,e){return PT(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(uk[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const uk=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ck(t,e,n,r,i,s,o,a,l,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const hk={};class dk{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||hk,d=this.buildStyles(n,o&&o.params||hk,c),f=a&&a.params||hk,p=this.buildStyles(r,f,c),g=new Set,m=new Map,b=new Map,y="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=u?[]:tk(t,e,this.ast.animation,i,s,d,p,v,l,c);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return ck(e,this._triggerName,n,r,y,d,p,[],[],m,b,w,c);_.forEach(t=>{const n=t.element,r=YI(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=YI(b,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=jT(g.values());return ck(e,this._triggerName,n,r,y,d,p,_,E,m,b,w)}}class fk{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=wT(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=AT(s,r,e)),n[t]=s})}}),n}}class pk{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new fk(t.style,t.options&&t.options.params||{})}),gk(this.states,"true","1"),gk(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new dk(t,e,this.states))}),this.fallbackTransition=new dk(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function gk(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const mk=new YT;class bk{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=HT(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=WI(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=tk(this._driver,e,i,dT,fT,{},{},n,mk,r),s.forEach(t=>{const e=YI(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,FI)})});const a=GI(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=JI(e,"","","");return KI(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const yk="ng-animate-queued",vk="ng-animate-disabled",_k=".ng-animate-disabled",wk=[],Ek={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ck={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Ok{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=wT(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Sk="void",Ik=new Ok(Sk);class Tk{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Nk(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=YI(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=YI(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Nk(t,pT),Nk(t,"ng-trigger-"+e),a[e]=Ik),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new xk(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Nk(t,pT),Nk(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new Ok(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=Ik),l.value!==Sk&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,l.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{IT(t,n),ST(t,r)})}return}const u=YI(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,l.value,t,l.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(Nk(t,yk),s.onStart(()=>{Dk(t,yk)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,gT,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Sk,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&GI(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Ik,o=new Ok(Sk),a=new xk(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Ek||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Nk(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=JI(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,KI(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class kk{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Tk(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Ak(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Ak(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Nk(t,vk)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Dk(t,vk))}removeNode(t,e,n,r){if(Ak(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Ak(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,gT,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,bT,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return GI(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Ek,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,_k)&&this.markElementAsDisabled(t,!1),this.driver.query(t,_k,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Nk(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?GI(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new YT,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Pk(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=dT+p++;f.set(e,n),t.forEach(t=>Nk(t,n))});const g=[],m=new Set,b=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):b.add(t))}const y=new Map,v=Pk(h,Array.from(m));v.forEach((t,e)=>{const n=fT+p++;y.set(e,n),t.forEach(t=>Nk(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Dk(t,n))}),v.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>Dk(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,i),h=y.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>IT(i,p.fromStyles)),e.onDestroy(()=>ST(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>IT(i,p.fromStyles)),e.onDestroy(()=>ST(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>YI(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{YI(E,e,[]).push(t),t.destroy()})});const O=g.filter(t=>Lk(t,a,l)),S=new Map;Rk(S,this.driver,b,l,FI).forEach(t=>{Lk(t,a,l)&&O.push(t)});const I=new Map;d.forEach((t,e)=>{Rk(I,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=S.get(t),n=I.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const T=[],k=[],x={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>ST(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=x;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,I,S);if(s.setRealPlayer(n),t===x)T.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=GI(e)),r.push(s)}}else IT(e,o.fromStyles),s.onDestroy(()=>ST(e,o.toStyles)),k.push(s),u.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=GI(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(Dk(t,fT),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,bT,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Mk(this,t,r):this.processLeaveNode(t)}return g.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Sk;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,l=YI(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}IT(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,l=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new zI(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof HI?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||wk).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),b=WI(0,this._normalizer,0,e.keyframes,g,m),y=this._buildPlayer(e,b,p);if(e.subTimeline&&r&&c.add(h),f){const e=new xk(t,o,h);e.setRealPlayer(y),l.push(e)}return y});l.forEach(t=>{YI(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>Nk(t,mT));const d=GI(h);return d.onDestroy(()=>{u.forEach(t=>Dk(t,mT)),ST(a,e.toStyles)}),c.forEach(t=>{YI(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new zI(t.duration,t.delay)}}class xk{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new zI,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>KI(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){YI(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ak(t){return t&&1===t.nodeType}function jk(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Rk(t,e,n,r,i){const s=[];n.forEach(t=>s.push(jk(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Ck,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>jk(t,s[a++])),o}function Pk(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Nk(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Dk(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Mk(t,e,n){GI(n).onDone(()=>t.processLeaveNode(e))}function Lk(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Uk{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new kk(t,e,n),this._timelineEngine=new bk(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=HT(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new pk(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=XI(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=XI(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Fk(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=qk(e[0]),e.length>1&&(r=qk(e[e.length-1]))):e&&(n=qk(e)),n||r?new Vk(t,n,r):null}let Vk=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ST(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ST(this._element,this._initialStyles),this._endStyles&&(ST(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(IT(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(IT(this._element,this._endStyles),this._endStyles=null),ST(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function qk(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Bk(i)&&(e=e||{},e[i]=t[i])}return e}function Bk(t){return"display"===t||"position"===t}const zk="animation",Hk="animationend";class $k{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Yk(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Jk(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Qk(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Gk(this._element,this._name,"paused")}resume(){Gk(this._element,this._name,"running")}setPosition(t){const e=Wk(this._element,this._name);this._position=t*this._duration,Jk(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Qk(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Yk(t,"").split(","),r=Kk(n,e);r>=0&&(n.splice(r,1),Jk(t,"",n.join(",")))}(this._element,this._name))}}function Gk(t,e,n){Jk(t,"PlayState",n,Wk(t,e))}function Wk(t,e){const n=Yk(t,"");return n.indexOf(",")>0?Kk(n.split(","),e):Kk([n],e)}function Kk(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Qk(t,e,n){n?t.removeEventListener(Hk,e):t.addEventListener(Hk,e)}function Jk(t,e,n,r){const i=zk+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Yk(t,e){return t.style[zk+e]}class Xk{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new $k(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:LT(this.element,n))})}this.currentSnapshot=t}}class Zk extends zI{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=uT(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class tx{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return sT(t)}matchesElement(t,e){return oT(t,e)}containsElement(t,e){return aT(t,e)}query(t,e,n){return lT(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>uT(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof Xk),l={};NT(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=DT(t,e,l));if(0==n)return new Zk(t,u);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=Fk(t,e),f=new Xk(t,e,c,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class ex{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:LT(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class nx{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(rx().toString()),this._cssKeyframesDriver=new tx}validateStyleProperty(t){return sT(t)}matchesElement(t,e){return oT(t,e)}containsElement(t,e){return aT(t,e)}query(t,e,n){return lT(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},u=s.filter(t=>t instanceof ex);NT(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=Fk(t,e=DT(t,e=e.map(t=>ET(t,!1)),l));return new ex(t,e,a,c)}}function rx(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class ix extends UI{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?VI(t):t;return ax(this._renderer,null,e,"register",[n]),new sx(e,this._renderer)}}class sx extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ox(this._id,t,e||{},this._renderer)}}class ox{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ax(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function ax(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const lx="@",ux="@.disabled";class cx{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new hx("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new dx(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class hx{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==lx&&e==ux?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class dx extends hx{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==lx?"."==e.charAt(1)&&e==ux?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==lx){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=lx&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class fx extends Uk{constructor(t,e,n){super(t.body,e,n)}}function px(){return"function"==typeof rx()?new nx:new tx}function gx(){return new lk}function mx(t,e,n){return new cx(t,e,n)}const bx=new r.q("AnimationModuleType");class yx{}let vx=(()=>{class t{constructor(t){this.router=t}canActivate(t,e){return this.cheackLogin()}cheackLogin(){if(localStorage.getItem("user")){const t=JSON.parse(localStorage.getItem("user"));if("user"===t.role&&null!=t)return!0}this.router.navigateByUrl("home")}}return t.\u0275prov=r.Vb({factory:function(){return new t(r.Wb(Wr))},token:t,providedIn:"root"}),t})(),_x=(()=>{class t{constructor(t,e){this.router=t,this.db=e}canActivate(t,e){return this.cheackLogin()}cheackLogin(){if(localStorage.getItem("user")){const t=JSON.parse(localStorage.getItem("user"));if("admin"===t.role&&null!=t)return!0}this.router.navigateByUrl("home")}}return t.\u0275prov=r.Vb({factory:function(){return new t(r.Wb(Wr),r.Wb(Vw))},token:t,providedIn:"root"}),t})();class wx{}var Ex=r.sb(i,[s],(function(t){return r.Fb([r.Gb(512,r.j,r.X,[[8,[Ci,ki,ps,vs,Is,js,kO,PO,UO,YO,hS,_S,TS,DS,jS,XS]],[3,r.j],r.x]),r.Gb(5120,r.u,r.ib,[[3,r.u]]),r.Gb(4608,tt,et,[r.u]),r.Gb(5120,r.lb,r.jb,[r.z]),r.Gb(5120,r.c,r.fb,[]),r.Gb(5120,r.s,r.gb,[]),r.Gb(5120,r.t,r.hb,[]),r.Gb(4608,RI,PI,[l]),r.Gb(6144,r.G,null,[RI]),r.Gb(4608,CI,SI,[]),r.Gb(5120,lI,(function(t,e,n,r,i,s,o,a){return[new wI(t,e,n),new jI(r),new II(i,s,o,a)]}),[l,r.z,r.B,l,l,CI,r.Y,[2,OI]]),r.Gb(4608,uI,uI,[lI,r.z]),r.Gb(135680,dI,dI,[l]),r.Gb(4608,bI,bI,[uI,dI,r.c]),r.Gb(5120,hT,px,[]),r.Gb(5120,ak,gx,[]),r.Gb(4608,Uk,fx,[l,hT,ak]),r.Gb(5120,r.E,mx,[bI,Uk,r.z]),r.Gb(6144,hI,null,[dI]),r.Gb(4608,r.M,r.M,[r.z]),r.Gb(5120,An,gi,[Wr]),r.Gb(4608,ni,ni,[]),r.Gb(6144,ti,null,[ni]),r.Gb(135680,ri,ri,[Wr,r.w,r.i,r.r,ti]),r.Gb(4608,ei,ei,[]),r.Gb(5120,ii,ci,[Wr,yt,si]),r.Gb(5120,vi,yi,[mi]),r.Gb(5120,r.b,(function(t){return[t]}),[vi]),r.Gb(4608,Zs,Zs,[]),r.Gb(4608,ns,rs,[l,r.B,ts]),r.Gb(4608,is,is,[ns,es]),r.Gb(5120,Ki,(function(t){return[t]}),[is]),r.Gb(4608,Xi,Xi,[]),r.Gb(6144,Yi,null,[Xi]),r.Gb(4608,Zi,Zi,[Yi]),r.Gb(6144,ji,null,[Zi]),r.Gb(4608,Ai,ss,[ji,r.r]),r.Gb(4608,Gi,Gi,[Ai]),r.Gb(4608,UI,ix,[r.E,l]),r.Gb(5120,ea.d,ea.h,[ea.c,r.z,[2,ea.b]]),r.Gb(4608,vO,vO,[ea.c,[2,ea.b],[2,mO],r.B,r.z,[2,bO],[2,yO]]),r.Gb(4608,Ow,Ow,[ea.c,[2,ea.b],r.B,r.z,[2,yw],[2,vw],[2,_w],[2,ww],[2,Ew],[2,Cw]]),r.Gb(4608,Vw,Vw,[ea.c,[2,ea.b],[2,Dw],[2,Lw],r.B,r.z,[2,Mw],[2,Uw],[2,yw]]),r.Gb(4608,AE,AE,[r.z,r.E,r.B]),r.Gb(4608,Hw,Hw,[r.j,r.z,r.r,AE,r.g]),r.Gb(4608,VE,VE,[r.E,Hw,[2,DE]]),r.Gb(1073742336,mt,mt,[]),r.Gb(1024,r.m,NI,[]),r.Gb(1024,r.y,(function(){return[li()]}),[]),r.Gb(512,mi,mi,[r.r]),r.Gb(1024,r.d,(function(t,e){return[(n=t,sI("probe",aI),sI("coreTokens",Object.assign(Object.assign({},oI),(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>aI),bi(e)];var n}),[[2,r.y],mi]),r.Gb(512,r.e,r.e,[[2,r.d]]),r.Gb(131584,r.g,r.g,[r.z,r.Y,r.r,r.m,r.j,r.e]),r.Gb(1073742336,r.f,r.f,[r.g]),r.Gb(1073742336,LI,LI,[[3,LI]]),r.Gb(1024,oi,di,[[3,Wr]]),r.Gb(512,ln,un,[]),r.Gb(512,qr,qr,[]),r.Gb(256,si,{},[]),r.Gb(1024,y,hi,[u,[2,_],si]),r.Gb(512,C,C,[y,u]),r.Gb(512,r.i,r.i,[]),r.Gb(512,r.w,r.J,[r.i,[2,r.K]]),r.Gb(1024,Ur,(function(){return[[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:Oi},{path:"menu/:category",component:xi},{path:"menu/:category/:id",component:gs},{path:"products/:id",component:gs},{path:"blog",component:_s},{path:"blog/:id",component:Ts},{path:"profile",component:Wo,canActivate:[vx]},{path:"about",component:xO},{path:"admin",component:NO,canActivate:[_x],children:[{path:"",pathMatch:"full",redirectTo:"admin-category"},{path:"admin-category",component:qO},{path:"admin-products",component:tS},{path:"admin-blogs",component:dS}]},{path:"basket",component:wS},{path:"**",component:Oi}]]}),[]),r.Gb(1024,Wr,pi,[ln,qr,C,r.r,r.w,r.i,Ur,si,[2,Br],[2,jr]]),r.Gb(1073742336,ui,ui,[[2,oi],[2,Wr]]),r.Gb(1073742336,wx,wx,[]),r.Gb(1073742336,xo,xo,[]),r.Gb(1073742336,Ao,Ao,[]),r.Gb(1073742336,os,os,[]),r.Gb(1073742336,as,as,[]),r.Gb(1073742336,yx,yx,[]),r.Gb(1073742336,qE,qE,[]),r.Gb(1073742336,Fo,Fo,[]),r.Gb(1073742336,ea.a,ea.a,[r.B]),r.Gb(1073742336,_O,_O,[]),r.Gb(1073742336,wO,wO,[]),r.Gb(1073742336,Sw,Sw,[]),r.Gb(1073742336,qw,qw,[]),r.Gb(1073742336,i,i,[]),r.Gb(256,r.k,r.kb,[]),r.Gb(256,r.Z,"root",[]),r.Gb(256,ts,"XSRF-TOKEN",[]),r.Gb(256,es,"X-XSRF-TOKEN",[]),r.Gb(256,bx,"BrowserAnimations",[]),r.Gb(256,ea.c,{apiKey:"AIzaSyDBMMNenBdYwK57LgfiSqHWTjcGZgUQZNw",authDomain:"july-ca08d.firebaseapp.com",databaseURL:"https://july-ca08d.firebaseio.com",projectId:"july-ca08d",storageBucket:"july-ca08d.appspot.com",messagingSenderId:"663587495061",appId:"1:663587495061:web:f7ce4bfcb3857a280c0f9c"},[]),r.Gb(256,ea.b,void 0,[])])}));Object(r.S)(),MI().bootstrapModuleFactory(Ex).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return l}));var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function l(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);